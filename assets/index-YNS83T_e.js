var JB=Object.defineProperty;var RN=n=>{throw TypeError(n)};var QB=(n,e,t)=>e in n?JB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var PN=(n,e,t)=>QB(n,typeof e!="symbol"?e+"":e,t),N_=(n,e,t)=>e.has(n)||RN("Cannot "+t);var Se=(n,e,t)=>(N_(n,e,"read from private field"),t?t.call(n):e.get(n)),Xt=(n,e,t)=>e.has(n)?RN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Mt=(n,e,t,r)=>(N_(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),kr=(n,e,t)=>(N_(n,e,"access private method"),t);var Ag=(n,e,t,r)=>({set _(i){Mt(n,e,i,t)},get _(){return Se(n,e,r)}});function eV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Yx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var CD={exports:{}},qx={},ND={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=Symbol.for("react.element"),tV=Symbol.for("react.portal"),nV=Symbol.for("react.fragment"),rV=Symbol.for("react.strict_mode"),iV=Symbol.for("react.profiler"),sV=Symbol.for("react.provider"),aV=Symbol.for("react.context"),oV=Symbol.for("react.forward_ref"),lV=Symbol.for("react.suspense"),cV=Symbol.for("react.memo"),uV=Symbol.for("react.lazy"),IN=Symbol.iterator;function dV(n){return n===null||typeof n!="object"?null:(n=IN&&n[IN]||n["@@iterator"],typeof n=="function"?n:null)}var AD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RD=Object.assign,PD={};function uf(n,e,t){this.props=n,this.context=e,this.refs=PD,this.updater=t||AD}uf.prototype.isReactComponent={};uf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};uf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ID(){}ID.prototype=uf.prototype;function QE(n,e,t){this.props=n,this.context=e,this.refs=PD,this.updater=t||AD}var eM=QE.prototype=new ID;eM.constructor=QE;RD(eM,uf.prototype);eM.isPureReactComponent=!0;var DN=Array.isArray,DD=Object.prototype.hasOwnProperty,tM={current:null},kD={key:!0,ref:!0,__self:!0,__source:!0};function LD(n,e,t){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)DD.call(e,r)&&!kD.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:am,type:n,key:s,ref:a,props:i,_owner:tM.current}}function fV(n,e){return{$$typeof:am,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function nM(n){return typeof n=="object"&&n!==null&&n.$$typeof===am}function hV(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var kN=/\/+/g;function A_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?hV(""+n.key):e.toString(36)}function Yv(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case am:case tV:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+A_(a,0):r,DN(i)?(t="",n!=null&&(t=n.replace(kN,"$&/")+"/"),Yv(i,e,t,"",function(u){return u})):i!=null&&(nM(i)&&(i=fV(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(kN,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",DN(n))for(var o=0;o<n.length;o++){s=n[o];var l=r+A_(s,o);a+=Yv(s,e,t,l,i)}else if(l=dV(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=r+A_(s,o++),a+=Yv(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rg(n,e,t){if(n==null)return n;var r=[],i=0;return Yv(n,r,"","",function(s){return e.call(t,s,i++)}),r}function pV(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ei={current:null},qv={transition:null},mV={ReactCurrentDispatcher:ei,ReactCurrentBatchConfig:qv,ReactCurrentOwner:tM};function OD(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:Rg,forEach:function(n,e,t){Rg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Rg(n,function(){e++}),e},toArray:function(n){return Rg(n,function(e){return e})||[]},only:function(n){if(!nM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};$t.Component=uf;$t.Fragment=nV;$t.Profiler=iV;$t.PureComponent=QE;$t.StrictMode=rV;$t.Suspense=lV;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mV;$t.act=OD;$t.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=RD({},n.props),i=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=tM.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)DD.call(e,l)&&!kD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:am,type:n.type,key:i,ref:s,props:r,_owner:a}};$t.createContext=function(n){return n={$$typeof:aV,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:sV,_context:n},n.Consumer=n};$t.createElement=LD;$t.createFactory=function(n){var e=LD.bind(null,n);return e.type=n,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(n){return{$$typeof:oV,render:n}};$t.isValidElement=nM;$t.lazy=function(n){return{$$typeof:uV,_payload:{_status:-1,_result:n},_init:pV}};$t.memo=function(n,e){return{$$typeof:cV,type:n,compare:e===void 0?null:e}};$t.startTransition=function(n){var e=qv.transition;qv.transition={};try{n()}finally{qv.transition=e}};$t.unstable_act=OD;$t.useCallback=function(n,e){return ei.current.useCallback(n,e)};$t.useContext=function(n){return ei.current.useContext(n)};$t.useDebugValue=function(){};$t.useDeferredValue=function(n){return ei.current.useDeferredValue(n)};$t.useEffect=function(n,e){return ei.current.useEffect(n,e)};$t.useId=function(){return ei.current.useId()};$t.useImperativeHandle=function(n,e,t){return ei.current.useImperativeHandle(n,e,t)};$t.useInsertionEffect=function(n,e){return ei.current.useInsertionEffect(n,e)};$t.useLayoutEffect=function(n,e){return ei.current.useLayoutEffect(n,e)};$t.useMemo=function(n,e){return ei.current.useMemo(n,e)};$t.useReducer=function(n,e,t){return ei.current.useReducer(n,e,t)};$t.useRef=function(n){return ei.current.useRef(n)};$t.useState=function(n){return ei.current.useState(n)};$t.useSyncExternalStore=function(n,e,t){return ei.current.useSyncExternalStore(n,e,t)};$t.useTransition=function(){return ei.current.useTransition()};$t.version="18.3.1";ND.exports=$t;var E=ND.exports;const me=Yx(E),jD=eV({__proto__:null,default:me},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gV=E,vV=Symbol.for("react.element"),xV=Symbol.for("react.fragment"),yV=Object.prototype.hasOwnProperty,wV=gV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_V={key:!0,ref:!0,__self:!0,__source:!0};function FD(n,e,t){var r,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)yV.call(e,r)&&!_V.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vV,type:n,key:s,ref:a,props:i,_owner:wV.current}}qx.Fragment=xV;qx.jsx=FD;qx.jsxs=FD;CD.exports=qx;var c=CD.exports,UD={exports:{}},Vi={},zD={exports:{}},BD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,B){var Y=O.length;O.push(B);e:for(;0<Y;){var L=Y-1>>>1,Z=O[L];if(0<i(Z,B))O[L]=B,O[Y]=Z,Y=L;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],Y=O.pop();if(Y!==B){O[0]=Y;e:for(var L=0,Z=O.length,oe=Z>>>1;L<oe;){var de=2*(L+1)-1,ye=O[de],we=de+1,ne=O[we];if(0>i(ye,Y))we<Z&&0>i(ne,ye)?(O[L]=ne,O[we]=Y,L=we):(O[L]=ye,O[de]=Y,L=de);else if(we<Z&&0>i(ne,Y))O[L]=ne,O[we]=Y,L=we;else break e}}return B}function i(O,B){var Y=O.sortIndex-B.sortIndex;return Y!==0?Y:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,m=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var B=t(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=t(u)}}function T(O){if(y=!1,S(O),!v)if(t(l)!==null)v=!0,W(C);else{var B=t(u);B!==null&&te(T,B.startTime-O)}}function C(O,B){v=!1,y&&(y=!1,x(k),k=-1),g=!0;var Y=m;try{for(S(B),p=t(l);p!==null&&(!(p.expirationTime>B)||O&&!U());){var L=p.callback;if(typeof L=="function"){p.callback=null,m=p.priorityLevel;var Z=L(p.expirationTime<=B);B=n.unstable_now(),typeof Z=="function"?p.callback=Z:p===t(l)&&r(l),S(B)}else r(l);p=t(l)}if(p!==null)var oe=!0;else{var de=t(u);de!==null&&te(T,de.startTime-B),oe=!1}return oe}finally{p=null,m=Y,g=!1}}var P=!1,A=null,k=-1,I=5,R=-1;function U(){return!(n.unstable_now()-R<I)}function V(){if(A!==null){var O=n.unstable_now();R=O;var B=!0;try{B=A(!0,O)}finally{B?J():(P=!1,A=null)}}else P=!1}var J;if(typeof b=="function")J=function(){b(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=V,J=function(){Q.postMessage(null)}}else J=function(){w(V,0)};function W(O){A=O,P||(P=!0,J())}function te(O,B){k=w(function(){O(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,W(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var Y=m;m=B;try{return O()}finally{m=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=m;m=O;try{return B()}finally{m=Y}},n.unstable_scheduleCallback=function(O,B,Y){var L=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?L+Y:L):Y=L,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,O={id:h++,callback:B,priorityLevel:O,startTime:Y,expirationTime:Z,sortIndex:-1},Y>L?(O.sortIndex=Y,e(u,O),t(l)===null&&O===t(u)&&(y?(x(k),k=-1):y=!0,te(T,Y-L))):(O.sortIndex=Z,e(l,O),v||g||(v=!0,W(C))),O},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(O){var B=m;return function(){var Y=m;m=B;try{return O.apply(this,arguments)}finally{m=Y}}}})(BD);zD.exports=BD;var SV=zD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bV=E,zi=SV;function Fe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VD=new Set,cp={};function nu(n,e){Gd(n,e),Gd(n+"Capture",e)}function Gd(n,e){for(cp[n]=e,n=0;n<e.length;n++)VD.add(e[n])}var ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ES=Object.prototype.hasOwnProperty,EV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LN={},ON={};function MV(n){return ES.call(ON,n)?!0:ES.call(LN,n)?!1:EV.test(n)?ON[n]=!0:(LN[n]=!0,!1)}function TV(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function CV(n,e,t,r){if(e===null||typeof e>"u"||TV(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ti(n,e,t,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Tr[n]=new ti(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Tr[e]=new ti(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Tr[n]=new ti(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Tr[n]=new ti(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Tr[n]=new ti(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Tr[n]=new ti(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Tr[n]=new ti(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Tr[n]=new ti(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Tr[n]=new ti(n,5,!1,n.toLowerCase(),null,!1,!1)});var rM=/[\-:]([a-z])/g;function iM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(rM,iM);Tr[e]=new ti(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(rM,iM);Tr[e]=new ti(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(rM,iM);Tr[e]=new ti(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Tr[n]=new ti(n,1,!1,n.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Tr[n]=new ti(n,1,!1,n.toLowerCase(),null,!0,!0)});function sM(n,e,t,r){var i=Tr.hasOwnProperty(e)?Tr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CV(e,t,i,r)&&(t=null),r||i===null?MV(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var xo=bV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pg=Symbol.for("react.element"),sd=Symbol.for("react.portal"),ad=Symbol.for("react.fragment"),aM=Symbol.for("react.strict_mode"),MS=Symbol.for("react.profiler"),HD=Symbol.for("react.provider"),WD=Symbol.for("react.context"),oM=Symbol.for("react.forward_ref"),TS=Symbol.for("react.suspense"),CS=Symbol.for("react.suspense_list"),lM=Symbol.for("react.memo"),Xo=Symbol.for("react.lazy"),GD=Symbol.for("react.offscreen"),jN=Symbol.iterator;function sh(n){return n===null||typeof n!="object"?null:(n=jN&&n[jN]||n["@@iterator"],typeof n=="function"?n:null)}var An=Object.assign,R_;function Ph(n){if(R_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);R_=e&&e[1]||""}return`
`+R_+n}var P_=!1;function I_(n,e){if(!n||P_)return"";P_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{P_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ph(n):""}function NV(n){switch(n.tag){case 5:return Ph(n.type);case 16:return Ph("Lazy");case 13:return Ph("Suspense");case 19:return Ph("SuspenseList");case 0:case 2:case 15:return n=I_(n.type,!1),n;case 11:return n=I_(n.type.render,!1),n;case 1:return n=I_(n.type,!0),n;default:return""}}function NS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ad:return"Fragment";case sd:return"Portal";case MS:return"Profiler";case aM:return"StrictMode";case TS:return"Suspense";case CS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case WD:return(n.displayName||"Context")+".Consumer";case HD:return(n._context.displayName||"Context")+".Provider";case oM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case lM:return e=n.displayName||null,e!==null?e:NS(n.type)||"Memo";case Xo:e=n._payload,n=n._init;try{return NS(n(e))}catch{}}return null}function AV(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return NS(e);case 8:return e===aM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $D(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RV(n){var e=$D(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ig(n){n._valueTracker||(n._valueTracker=RV(n))}function XD(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=$D(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function T0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function AS(n,e){var t=e.checked;return An({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function FN(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=wl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YD(n,e){e=e.checked,e!=null&&sM(n,"checked",e,!1)}function RS(n,e){YD(n,e);var t=wl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?PS(n,e.type,t):e.hasOwnProperty("defaultValue")&&PS(n,e.type,wl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function UN(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function PS(n,e,t){(e!=="number"||T0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ih=Array.isArray;function Sd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+wl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function IS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return An({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zN(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Fe(92));if(Ih(t)){if(1<t.length)throw Error(Fe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:wl(t)}}function qD(n,e){var t=wl(e.value),r=wl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function BN(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function ZD(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function DS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?ZD(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Dg,KD=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Dg=Dg||document.createElement("div"),Dg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function up(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Vh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PV=["Webkit","ms","Moz","O"];Object.keys(Vh).forEach(function(n){PV.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Vh[e]=Vh[n]})});function JD(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Vh.hasOwnProperty(n)&&Vh[n]?(""+e).trim():e+"px"}function QD(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=JD(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var IV=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kS(n,e){if(e){if(IV[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function LS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OS=null;function cM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jS=null,bd=null,Ed=null;function VN(n){if(n=cm(n)){if(typeof jS!="function")throw Error(Fe(280));var e=n.stateNode;e&&(e=ey(e),jS(n.stateNode,n.type,e))}}function e3(n){bd?Ed?Ed.push(n):Ed=[n]:bd=n}function t3(){if(bd){var n=bd,e=Ed;if(Ed=bd=null,VN(n),e)for(n=0;n<e.length;n++)VN(e[n])}}function n3(n,e){return n(e)}function r3(){}var D_=!1;function i3(n,e,t){if(D_)return n(e,t);D_=!0;try{return n3(n,e,t)}finally{D_=!1,(bd!==null||Ed!==null)&&(r3(),t3())}}function dp(n,e){var t=n.stateNode;if(t===null)return null;var r=ey(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Fe(231,e,typeof t));return t}var FS=!1;if(ao)try{var ah={};Object.defineProperty(ah,"passive",{get:function(){FS=!0}}),window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{FS=!1}function DV(n,e,t,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var Hh=!1,C0=null,N0=!1,US=null,kV={onError:function(n){Hh=!0,C0=n}};function LV(n,e,t,r,i,s,a,o,l){Hh=!1,C0=null,DV.apply(kV,arguments)}function OV(n,e,t,r,i,s,a,o,l){if(LV.apply(this,arguments),Hh){if(Hh){var u=C0;Hh=!1,C0=null}else throw Error(Fe(198));N0||(N0=!0,US=u)}}function ru(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function s3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function HN(n){if(ru(n)!==n)throw Error(Fe(188))}function jV(n){var e=n.alternate;if(!e){if(e=ru(n),e===null)throw Error(Fe(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return HN(i),n;if(s===r)return HN(i),e;s=s.sibling}throw Error(Fe(188))}if(t.return!==r.return)t=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a)throw Error(Fe(189))}}if(t.alternate!==r)throw Error(Fe(190))}if(t.tag!==3)throw Error(Fe(188));return t.stateNode.current===t?n:e}function a3(n){return n=jV(n),n!==null?o3(n):null}function o3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=o3(n);if(e!==null)return e;n=n.sibling}return null}var l3=zi.unstable_scheduleCallback,WN=zi.unstable_cancelCallback,FV=zi.unstable_shouldYield,UV=zi.unstable_requestPaint,Gn=zi.unstable_now,zV=zi.unstable_getCurrentPriorityLevel,uM=zi.unstable_ImmediatePriority,c3=zi.unstable_UserBlockingPriority,A0=zi.unstable_NormalPriority,BV=zi.unstable_LowPriority,u3=zi.unstable_IdlePriority,Zx=null,ha=null;function VV(n){if(ha&&typeof ha.onCommitFiberRoot=="function")try{ha.onCommitFiberRoot(Zx,n,void 0,(n.current.flags&128)===128)}catch{}}var As=Math.clz32?Math.clz32:GV,HV=Math.log,WV=Math.LN2;function GV(n){return n>>>=0,n===0?32:31-(HV(n)/WV|0)|0}var kg=64,Lg=4194304;function Dh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function R0(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?r=Dh(o):(s&=a,s!==0&&(r=Dh(s)))}else a=t&~i,a!==0?r=Dh(a):s!==0&&(r=Dh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-As(e),i=1<<t,r|=n[t],e&=~i;return r}function $V(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XV(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-As(s),o=1<<a,l=i[a];l===-1?(!(o&t)||o&r)&&(i[a]=$V(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function zS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function d3(){var n=kg;return kg<<=1,!(kg&4194240)&&(kg=64),n}function k_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function om(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-As(e),n[e]=t}function YV(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-As(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function dM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-As(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var cn=0;function f3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var h3,fM,p3,m3,g3,BS=!1,Og=[],ll=null,cl=null,ul=null,fp=new Map,hp=new Map,Zo=[],qV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GN(n,e){switch(n){case"focusin":case"focusout":ll=null;break;case"dragenter":case"dragleave":cl=null;break;case"mouseover":case"mouseout":ul=null;break;case"pointerover":case"pointerout":fp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hp.delete(e.pointerId)}}function oh(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cm(e),e!==null&&fM(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function ZV(n,e,t,r,i){switch(e){case"focusin":return ll=oh(ll,n,e,t,r,i),!0;case"dragenter":return cl=oh(cl,n,e,t,r,i),!0;case"mouseover":return ul=oh(ul,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return fp.set(s,oh(fp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hp.set(s,oh(hp.get(s)||null,n,e,t,r,i)),!0}return!1}function v3(n){var e=mc(n.target);if(e!==null){var t=ru(e);if(t!==null){if(e=t.tag,e===13){if(e=s3(t),e!==null){n.blockedOn=e,g3(n.priority,function(){p3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=VS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);OS=r,t.target.dispatchEvent(r),OS=null}else return e=cm(t),e!==null&&fM(e),n.blockedOn=t,!1;e.shift()}return!0}function $N(n,e,t){Zv(n)&&t.delete(e)}function KV(){BS=!1,ll!==null&&Zv(ll)&&(ll=null),cl!==null&&Zv(cl)&&(cl=null),ul!==null&&Zv(ul)&&(ul=null),fp.forEach($N),hp.forEach($N)}function lh(n,e){n.blockedOn===e&&(n.blockedOn=null,BS||(BS=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,KV)))}function pp(n){function e(i){return lh(i,n)}if(0<Og.length){lh(Og[0],n);for(var t=1;t<Og.length;t++){var r=Og[t];r.blockedOn===n&&(r.blockedOn=null)}}for(ll!==null&&lh(ll,n),cl!==null&&lh(cl,n),ul!==null&&lh(ul,n),fp.forEach(e),hp.forEach(e),t=0;t<Zo.length;t++)r=Zo[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Zo.length&&(t=Zo[0],t.blockedOn===null);)v3(t),t.blockedOn===null&&Zo.shift()}var Md=xo.ReactCurrentBatchConfig,P0=!0;function JV(n,e,t,r){var i=cn,s=Md.transition;Md.transition=null;try{cn=1,hM(n,e,t,r)}finally{cn=i,Md.transition=s}}function QV(n,e,t,r){var i=cn,s=Md.transition;Md.transition=null;try{cn=4,hM(n,e,t,r)}finally{cn=i,Md.transition=s}}function hM(n,e,t,r){if(P0){var i=VS(n,e,t,r);if(i===null)W_(n,e,r,I0,t),GN(n,r);else if(ZV(i,n,e,t,r))r.stopPropagation();else if(GN(n,r),e&4&&-1<qV.indexOf(n)){for(;i!==null;){var s=cm(i);if(s!==null&&h3(s),s=VS(n,e,t,r),s===null&&W_(n,e,r,I0,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else W_(n,e,r,null,t)}}var I0=null;function VS(n,e,t,r){if(I0=null,n=cM(r),n=mc(n),n!==null)if(e=ru(n),e===null)n=null;else if(t=e.tag,t===13){if(n=s3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return I0=n,null}function x3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zV()){case uM:return 1;case c3:return 4;case A0:case BV:return 16;case u3:return 536870912;default:return 16}default:return 16}}var sl=null,pM=null,Kv=null;function y3(){if(Kv)return Kv;var n,e=pM,t=e.length,r,i="value"in sl?sl.value:sl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[s-r];r++);return Kv=i.slice(n,1<r?1-r:void 0)}function Jv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function jg(){return!0}function XN(){return!1}function Hi(n){function e(t,r,i,s,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jg:XN,this.isPropagationStopped=XN,this}return An(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=jg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=jg)},persist:function(){},isPersistent:jg}),e}var df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mM=Hi(df),lm=An({},df,{view:0,detail:0}),eH=Hi(lm),L_,O_,ch,Kx=An({},lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ch&&(ch&&n.type==="mousemove"?(L_=n.screenX-ch.screenX,O_=n.screenY-ch.screenY):O_=L_=0,ch=n),L_)},movementY:function(n){return"movementY"in n?n.movementY:O_}}),YN=Hi(Kx),tH=An({},Kx,{dataTransfer:0}),nH=Hi(tH),rH=An({},lm,{relatedTarget:0}),j_=Hi(rH),iH=An({},df,{animationName:0,elapsedTime:0,pseudoElement:0}),sH=Hi(iH),aH=An({},df,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),oH=Hi(aH),lH=An({},df,{data:0}),qN=Hi(lH),cH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fH(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=dH[n])?!!e[n]:!1}function gM(){return fH}var hH=An({},lm,{key:function(n){if(n.key){var e=cH[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Jv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uH[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gM,charCode:function(n){return n.type==="keypress"?Jv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Jv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pH=Hi(hH),mH=An({},Kx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZN=Hi(mH),gH=An({},lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gM}),vH=Hi(gH),xH=An({},df,{propertyName:0,elapsedTime:0,pseudoElement:0}),yH=Hi(xH),wH=An({},Kx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_H=Hi(wH),SH=[9,13,27,32],vM=ao&&"CompositionEvent"in window,Wh=null;ao&&"documentMode"in document&&(Wh=document.documentMode);var bH=ao&&"TextEvent"in window&&!Wh,w3=ao&&(!vM||Wh&&8<Wh&&11>=Wh),KN=" ",JN=!1;function _3(n,e){switch(n){case"keyup":return SH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var od=!1;function EH(n,e){switch(n){case"compositionend":return S3(e);case"keypress":return e.which!==32?null:(JN=!0,KN);case"textInput":return n=e.data,n===KN&&JN?null:n;default:return null}}function MH(n,e){if(od)return n==="compositionend"||!vM&&_3(n,e)?(n=y3(),Kv=pM=sl=null,od=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w3&&e.locale!=="ko"?null:e.data;default:return null}}var TH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QN(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!TH[n.type]:e==="textarea"}function b3(n,e,t,r){e3(r),e=D0(e,"onChange"),0<e.length&&(t=new mM("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Gh=null,mp=null;function CH(n){k3(n,0)}function Jx(n){var e=ud(n);if(XD(e))return n}function NH(n,e){if(n==="change")return e}var E3=!1;if(ao){var F_;if(ao){var U_="oninput"in document;if(!U_){var eA=document.createElement("div");eA.setAttribute("oninput","return;"),U_=typeof eA.oninput=="function"}F_=U_}else F_=!1;E3=F_&&(!document.documentMode||9<document.documentMode)}function tA(){Gh&&(Gh.detachEvent("onpropertychange",M3),mp=Gh=null)}function M3(n){if(n.propertyName==="value"&&Jx(mp)){var e=[];b3(e,mp,n,cM(n)),i3(CH,e)}}function AH(n,e,t){n==="focusin"?(tA(),Gh=e,mp=t,Gh.attachEvent("onpropertychange",M3)):n==="focusout"&&tA()}function RH(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Jx(mp)}function PH(n,e){if(n==="click")return Jx(e)}function IH(n,e){if(n==="input"||n==="change")return Jx(e)}function DH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ps=typeof Object.is=="function"?Object.is:DH;function gp(n,e){if(Ps(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!ES.call(e,i)||!Ps(n[i],e[i]))return!1}return!0}function nA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rA(n,e){var t=nA(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=nA(t)}}function T3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?T3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function C3(){for(var n=window,e=T0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=T0(n.document)}return e}function xM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function kH(n){var e=C3(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&T3(t.ownerDocument.documentElement,t)){if(r!==null&&xM(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=rA(t,s);var a=rA(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var LH=ao&&"documentMode"in document&&11>=document.documentMode,ld=null,HS=null,$h=null,WS=!1;function iA(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;WS||ld==null||ld!==T0(r)||(r=ld,"selectionStart"in r&&xM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$h&&gp($h,r)||($h=r,r=D0(HS,"onSelect"),0<r.length&&(e=new mM("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ld)))}function Fg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var cd={animationend:Fg("Animation","AnimationEnd"),animationiteration:Fg("Animation","AnimationIteration"),animationstart:Fg("Animation","AnimationStart"),transitionend:Fg("Transition","TransitionEnd")},z_={},N3={};ao&&(N3=document.createElement("div").style,"AnimationEvent"in window||(delete cd.animationend.animation,delete cd.animationiteration.animation,delete cd.animationstart.animation),"TransitionEvent"in window||delete cd.transitionend.transition);function Qx(n){if(z_[n])return z_[n];if(!cd[n])return n;var e=cd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in N3)return z_[n]=e[t];return n}var A3=Qx("animationend"),R3=Qx("animationiteration"),P3=Qx("animationstart"),I3=Qx("transitionend"),D3=new Map,sA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dl(n,e){D3.set(n,e),nu(e,[n])}for(var B_=0;B_<sA.length;B_++){var V_=sA[B_],OH=V_.toLowerCase(),jH=V_[0].toUpperCase()+V_.slice(1);Dl(OH,"on"+jH)}Dl(A3,"onAnimationEnd");Dl(R3,"onAnimationIteration");Dl(P3,"onAnimationStart");Dl("dblclick","onDoubleClick");Dl("focusin","onFocus");Dl("focusout","onBlur");Dl(I3,"onTransitionEnd");Gd("onMouseEnter",["mouseout","mouseover"]);Gd("onMouseLeave",["mouseout","mouseover"]);Gd("onPointerEnter",["pointerout","pointerover"]);Gd("onPointerLeave",["pointerout","pointerover"]);nu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nu("onBeforeInput",["compositionend","keypress","textInput","paste"]);nu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FH=new Set("cancel close invalid load scroll toggle".split(" ").concat(kh));function aA(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,OV(r,e,void 0,n),n.currentTarget=null}function k3(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;aA(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;aA(i,o,u),s=l}}}if(N0)throw n=US,N0=!1,US=null,n}function yn(n,e){var t=e[qS];t===void 0&&(t=e[qS]=new Set);var r=n+"__bubble";t.has(r)||(L3(e,n,2,!1),t.add(r))}function H_(n,e,t){var r=0;e&&(r|=4),L3(t,n,r,e)}var Ug="_reactListening"+Math.random().toString(36).slice(2);function vp(n){if(!n[Ug]){n[Ug]=!0,VD.forEach(function(t){t!=="selectionchange"&&(FH.has(t)||H_(t,!1,n),H_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ug]||(e[Ug]=!0,H_("selectionchange",!1,e))}}function L3(n,e,t,r){switch(x3(e)){case 1:var i=JV;break;case 4:i=QV;break;default:i=hM}t=i.bind(null,e,t,n),i=void 0,!FS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function W_(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=mc(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}i3(function(){var u=s,h=cM(t),p=[];e:{var m=D3.get(n);if(m!==void 0){var g=mM,v=n;switch(n){case"keypress":if(Jv(t)===0)break e;case"keydown":case"keyup":g=pH;break;case"focusin":v="focus",g=j_;break;case"focusout":v="blur",g=j_;break;case"beforeblur":case"afterblur":g=j_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=YN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=nH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vH;break;case A3:case R3:case P3:g=sH;break;case I3:g=yH;break;case"scroll":g=eH;break;case"wheel":g=_H;break;case"copy":case"cut":case"paste":g=oH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ZN}var y=(e&4)!==0,w=!y&&n==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var b=u,S;b!==null;){S=b;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,x!==null&&(T=dp(b,x),T!=null&&y.push(xp(b,T,S)))),w)break;b=b.return}0<y.length&&(m=new g(m,v,null,t,h),p.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",m&&t!==OS&&(v=t.relatedTarget||t.fromElement)&&(mc(v)||v[oo]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=t.relatedTarget||t.toElement,g=u,v=v?mc(v):null,v!==null&&(w=ru(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=YN,T="onMouseLeave",x="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(y=ZN,T="onPointerLeave",x="onPointerEnter",b="pointer"),w=g==null?m:ud(g),S=v==null?m:ud(v),m=new y(T,b+"leave",g,t,h),m.target=w,m.relatedTarget=S,T=null,mc(h)===u&&(y=new y(x,b+"enter",v,t,h),y.target=S,y.relatedTarget=w,T=y),w=T,g&&v)t:{for(y=g,x=v,b=0,S=y;S;S=bu(S))b++;for(S=0,T=x;T;T=bu(T))S++;for(;0<b-S;)y=bu(y),b--;for(;0<S-b;)x=bu(x),S--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=bu(y),x=bu(x)}y=null}else y=null;g!==null&&oA(p,m,g,y,!1),v!==null&&w!==null&&oA(p,w,v,y,!0)}}e:{if(m=u?ud(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=NH;else if(QN(m))if(E3)C=IH;else{C=RH;var P=AH}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=PH);if(C&&(C=C(n,u))){b3(p,C,t,h);break e}P&&P(n,m,u),n==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&PS(m,"number",m.value)}switch(P=u?ud(u):window,n){case"focusin":(QN(P)||P.contentEditable==="true")&&(ld=P,HS=u,$h=null);break;case"focusout":$h=HS=ld=null;break;case"mousedown":WS=!0;break;case"contextmenu":case"mouseup":case"dragend":WS=!1,iA(p,t,h);break;case"selectionchange":if(LH)break;case"keydown":case"keyup":iA(p,t,h)}var A;if(vM)e:{switch(n){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else od?_3(n,t)&&(k="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(w3&&t.locale!=="ko"&&(od||k!=="onCompositionStart"?k==="onCompositionEnd"&&od&&(A=y3()):(sl=h,pM="value"in sl?sl.value:sl.textContent,od=!0)),P=D0(u,k),0<P.length&&(k=new qN(k,n,null,t,h),p.push({event:k,listeners:P}),A?k.data=A:(A=S3(t),A!==null&&(k.data=A)))),(A=bH?EH(n,t):MH(n,t))&&(u=D0(u,"onBeforeInput"),0<u.length&&(h=new qN("onBeforeInput","beforeinput",null,t,h),p.push({event:h,listeners:u}),h.data=A))}k3(p,e)})}function xp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function D0(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dp(n,t),s!=null&&r.unshift(xp(n,s,i)),s=dp(n,e),s!=null&&r.push(xp(n,s,i))),n=n.return}return r}function bu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function oA(n,e,t,r,i){for(var s=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=dp(t,s),l!=null&&a.unshift(xp(t,l,o))):i||(l=dp(t,s),l!=null&&a.push(xp(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var UH=/\r\n?/g,zH=/\u0000|\uFFFD/g;function lA(n){return(typeof n=="string"?n:""+n).replace(UH,`
`).replace(zH,"")}function zg(n,e,t){if(e=lA(e),lA(n)!==e&&t)throw Error(Fe(425))}function k0(){}var GS=null,$S=null;function XS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var YS=typeof setTimeout=="function"?setTimeout:void 0,BH=typeof clearTimeout=="function"?clearTimeout:void 0,cA=typeof Promise=="function"?Promise:void 0,VH=typeof queueMicrotask=="function"?queueMicrotask:typeof cA<"u"?function(n){return cA.resolve(null).then(n).catch(HH)}:YS;function HH(n){setTimeout(function(){throw n})}function G_(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),pp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);pp(e)}function dl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function uA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ff=Math.random().toString(36).slice(2),na="__reactFiber$"+ff,yp="__reactProps$"+ff,oo="__reactContainer$"+ff,qS="__reactEvents$"+ff,WH="__reactListeners$"+ff,GH="__reactHandles$"+ff;function mc(n){var e=n[na];if(e)return e;for(var t=n.parentNode;t;){if(e=t[oo]||t[na]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=uA(n);n!==null;){if(t=n[na])return t;n=uA(n)}return e}n=t,t=n.parentNode}return null}function cm(n){return n=n[na]||n[oo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ud(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Fe(33))}function ey(n){return n[yp]||null}var ZS=[],dd=-1;function kl(n){return{current:n}}function wn(n){0>dd||(n.current=ZS[dd],ZS[dd]=null,dd--)}function gn(n,e){dd++,ZS[dd]=n.current,n.current=e}var _l={},Vr=kl(_l),mi=kl(!1),Uc=_l;function $d(n,e){var t=n.type.contextTypes;if(!t)return _l;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function gi(n){return n=n.childContextTypes,n!=null}function L0(){wn(mi),wn(Vr)}function dA(n,e,t){if(Vr.current!==_l)throw Error(Fe(168));gn(Vr,e),gn(mi,t)}function O3(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Fe(108,AV(n)||"Unknown",i));return An({},t,r)}function O0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||_l,Uc=Vr.current,gn(Vr,n),gn(mi,mi.current),!0}function fA(n,e,t){var r=n.stateNode;if(!r)throw Error(Fe(169));t?(n=O3(n,e,Uc),r.__reactInternalMemoizedMergedChildContext=n,wn(mi),wn(Vr),gn(Vr,n)):wn(mi),gn(mi,t)}var Ya=null,ty=!1,$_=!1;function j3(n){Ya===null?Ya=[n]:Ya.push(n)}function $H(n){ty=!0,j3(n)}function Ll(){if(!$_&&Ya!==null){$_=!0;var n=0,e=cn;try{var t=Ya;for(cn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ya=null,ty=!1}catch(i){throw Ya!==null&&(Ya=Ya.slice(n+1)),l3(uM,Ll),i}finally{cn=e,$_=!1}}return null}var fd=[],hd=0,j0=null,F0=0,rs=[],is=0,zc=null,Ja=1,Qa="";function lc(n,e){fd[hd++]=F0,fd[hd++]=j0,j0=n,F0=e}function F3(n,e,t){rs[is++]=Ja,rs[is++]=Qa,rs[is++]=zc,zc=n;var r=Ja;n=Qa;var i=32-As(r)-1;r&=~(1<<i),t+=1;var s=32-As(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ja=1<<32-As(e)+i|t<<i|r,Qa=s+n}else Ja=1<<s|t<<i|r,Qa=n}function yM(n){n.return!==null&&(lc(n,1),F3(n,1,0))}function wM(n){for(;n===j0;)j0=fd[--hd],fd[hd]=null,F0=fd[--hd],fd[hd]=null;for(;n===zc;)zc=rs[--is],rs[is]=null,Qa=rs[--is],rs[is]=null,Ja=rs[--is],rs[is]=null}var ji=null,Oi=null,bn=!1,Ts=null;function U3(n,e){var t=as(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function hA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ji=n,Oi=dl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ji=n,Oi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=zc!==null?{id:Ja,overflow:Qa}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=as(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ji=n,Oi=null,!0):!1;default:return!1}}function KS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function JS(n){if(bn){var e=Oi;if(e){var t=e;if(!hA(n,e)){if(KS(n))throw Error(Fe(418));e=dl(t.nextSibling);var r=ji;e&&hA(n,e)?U3(r,t):(n.flags=n.flags&-4097|2,bn=!1,ji=n)}}else{if(KS(n))throw Error(Fe(418));n.flags=n.flags&-4097|2,bn=!1,ji=n}}}function pA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ji=n}function Bg(n){if(n!==ji)return!1;if(!bn)return pA(n),bn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!XS(n.type,n.memoizedProps)),e&&(e=Oi)){if(KS(n))throw z3(),Error(Fe(418));for(;e;)U3(n,e),e=dl(e.nextSibling)}if(pA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Fe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Oi=dl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Oi=null}}else Oi=ji?dl(n.stateNode.nextSibling):null;return!0}function z3(){for(var n=Oi;n;)n=dl(n.nextSibling)}function Xd(){Oi=ji=null,bn=!1}function _M(n){Ts===null?Ts=[n]:Ts.push(n)}var XH=xo.ReactCurrentBatchConfig;function uh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Fe(309));var r=t.stateNode}if(!r)throw Error(Fe(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(Fe(284));if(!t._owner)throw Error(Fe(290,n))}return n}function Vg(n,e){throw n=Object.prototype.toString.call(e),Error(Fe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function mA(n){var e=n._init;return e(n._payload)}function B3(n){function e(x,b){if(n){var S=x.deletions;S===null?(x.deletions=[b],x.flags|=16):S.push(b)}}function t(x,b){if(!n)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=ml(x,b),x.index=0,x.sibling=null,x}function s(x,b,S){return x.index=S,n?(S=x.alternate,S!==null?(S=S.index,S<b?(x.flags|=2,b):S):(x.flags|=2,b)):(x.flags|=1048576,b)}function a(x){return n&&x.alternate===null&&(x.flags|=2),x}function o(x,b,S,T){return b===null||b.tag!==6?(b=Q_(S,x.mode,T),b.return=x,b):(b=i(b,S),b.return=x,b)}function l(x,b,S,T){var C=S.type;return C===ad?h(x,b,S.props.children,T,S.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xo&&mA(C)===b.type)?(T=i(b,S.props),T.ref=uh(x,b,S),T.return=x,T):(T=s0(S.type,S.key,S.props,null,x.mode,T),T.ref=uh(x,b,S),T.return=x,T)}function u(x,b,S,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=e1(S,x.mode,T),b.return=x,b):(b=i(b,S.children||[]),b.return=x,b)}function h(x,b,S,T,C){return b===null||b.tag!==7?(b=Dc(S,x.mode,T,C),b.return=x,b):(b=i(b,S),b.return=x,b)}function p(x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Q_(""+b,x.mode,S),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pg:return S=s0(b.type,b.key,b.props,null,x.mode,S),S.ref=uh(x,null,b),S.return=x,S;case sd:return b=e1(b,x.mode,S),b.return=x,b;case Xo:var T=b._init;return p(x,T(b._payload),S)}if(Ih(b)||sh(b))return b=Dc(b,x.mode,S,null),b.return=x,b;Vg(x,b)}return null}function m(x,b,S,T){var C=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:o(x,b,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pg:return S.key===C?l(x,b,S,T):null;case sd:return S.key===C?u(x,b,S,T):null;case Xo:return C=S._init,m(x,b,C(S._payload),T)}if(Ih(S)||sh(S))return C!==null?null:h(x,b,S,T,null);Vg(x,S)}return null}function g(x,b,S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(S)||null,o(b,x,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Pg:return x=x.get(T.key===null?S:T.key)||null,l(b,x,T,C);case sd:return x=x.get(T.key===null?S:T.key)||null,u(b,x,T,C);case Xo:var P=T._init;return g(x,b,S,P(T._payload),C)}if(Ih(T)||sh(T))return x=x.get(S)||null,h(b,x,T,C,null);Vg(b,T)}return null}function v(x,b,S,T){for(var C=null,P=null,A=b,k=b=0,I=null;A!==null&&k<S.length;k++){A.index>k?(I=A,A=null):I=A.sibling;var R=m(x,A,S[k],T);if(R===null){A===null&&(A=I);break}n&&A&&R.alternate===null&&e(x,A),b=s(R,b,k),P===null?C=R:P.sibling=R,P=R,A=I}if(k===S.length)return t(x,A),bn&&lc(x,k),C;if(A===null){for(;k<S.length;k++)A=p(x,S[k],T),A!==null&&(b=s(A,b,k),P===null?C=A:P.sibling=A,P=A);return bn&&lc(x,k),C}for(A=r(x,A);k<S.length;k++)I=g(A,x,k,S[k],T),I!==null&&(n&&I.alternate!==null&&A.delete(I.key===null?k:I.key),b=s(I,b,k),P===null?C=I:P.sibling=I,P=I);return n&&A.forEach(function(U){return e(x,U)}),bn&&lc(x,k),C}function y(x,b,S,T){var C=sh(S);if(typeof C!="function")throw Error(Fe(150));if(S=C.call(S),S==null)throw Error(Fe(151));for(var P=C=null,A=b,k=b=0,I=null,R=S.next();A!==null&&!R.done;k++,R=S.next()){A.index>k?(I=A,A=null):I=A.sibling;var U=m(x,A,R.value,T);if(U===null){A===null&&(A=I);break}n&&A&&U.alternate===null&&e(x,A),b=s(U,b,k),P===null?C=U:P.sibling=U,P=U,A=I}if(R.done)return t(x,A),bn&&lc(x,k),C;if(A===null){for(;!R.done;k++,R=S.next())R=p(x,R.value,T),R!==null&&(b=s(R,b,k),P===null?C=R:P.sibling=R,P=R);return bn&&lc(x,k),C}for(A=r(x,A);!R.done;k++,R=S.next())R=g(A,x,k,R.value,T),R!==null&&(n&&R.alternate!==null&&A.delete(R.key===null?k:R.key),b=s(R,b,k),P===null?C=R:P.sibling=R,P=R);return n&&A.forEach(function(V){return e(x,V)}),bn&&lc(x,k),C}function w(x,b,S,T){if(typeof S=="object"&&S!==null&&S.type===ad&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Pg:e:{for(var C=S.key,P=b;P!==null;){if(P.key===C){if(C=S.type,C===ad){if(P.tag===7){t(x,P.sibling),b=i(P,S.props.children),b.return=x,x=b;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xo&&mA(C)===P.type){t(x,P.sibling),b=i(P,S.props),b.ref=uh(x,P,S),b.return=x,x=b;break e}t(x,P);break}else e(x,P);P=P.sibling}S.type===ad?(b=Dc(S.props.children,x.mode,T,S.key),b.return=x,x=b):(T=s0(S.type,S.key,S.props,null,x.mode,T),T.ref=uh(x,b,S),T.return=x,x=T)}return a(x);case sd:e:{for(P=S.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){t(x,b.sibling),b=i(b,S.children||[]),b.return=x,x=b;break e}else{t(x,b);break}else e(x,b);b=b.sibling}b=e1(S,x.mode,T),b.return=x,x=b}return a(x);case Xo:return P=S._init,w(x,b,P(S._payload),T)}if(Ih(S))return v(x,b,S,T);if(sh(S))return y(x,b,S,T);Vg(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(t(x,b.sibling),b=i(b,S),b.return=x,x=b):(t(x,b),b=Q_(S,x.mode,T),b.return=x,x=b),a(x)):t(x,b)}return w}var Yd=B3(!0),V3=B3(!1),U0=kl(null),z0=null,pd=null,SM=null;function bM(){SM=pd=z0=null}function EM(n){var e=U0.current;wn(U0),n._currentValue=e}function QS(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Td(n,e){z0=n,SM=pd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(pi=!0),n.firstContext=null)}function cs(n){var e=n._currentValue;if(SM!==n)if(n={context:n,memoizedValue:e,next:null},pd===null){if(z0===null)throw Error(Fe(308));pd=n,z0.dependencies={lanes:0,firstContext:n}}else pd=pd.next=n;return e}var gc=null;function MM(n){gc===null?gc=[n]:gc.push(n)}function H3(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,MM(e)):(t.next=i.next,i.next=t),e.interleaved=t,lo(n,r)}function lo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Yo=!1;function TM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W3(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ro(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function fl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,lo(n,t)}return i=r.interleaved,i===null?(e.next=e,MM(r)):(e.next=i.next,i.next=e),r.interleaved=e,lo(n,t)}function Qv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,dM(n,t)}}function gA(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function B0(n,e,t,r){var i=n.updateQueue;Yo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=n.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,h=u=l=null,o=s;do{var m=o.lane,g=o.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=n,y=o;switch(m=e,g=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){p=v.call(g,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(g,p,m):v,m==null)break e;p=An({},p,m);break e;case 2:Yo=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else g={eventTime:g,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=g,l=p):h=h.next=g,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vc|=a,n.lanes=a,n.memoizedState=p}}function vA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Fe(191,i));i.call(r)}}}var um={},pa=kl(um),wp=kl(um),_p=kl(um);function vc(n){if(n===um)throw Error(Fe(174));return n}function CM(n,e){switch(gn(_p,e),gn(wp,n),gn(pa,um),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:DS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=DS(e,n)}wn(pa),gn(pa,e)}function qd(){wn(pa),wn(wp),wn(_p)}function G3(n){vc(_p.current);var e=vc(pa.current),t=DS(e,n.type);e!==t&&(gn(wp,n),gn(pa,t))}function NM(n){wp.current===n&&(wn(pa),wn(wp))}var Mn=kl(0);function V0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var X_=[];function AM(){for(var n=0;n<X_.length;n++)X_[n]._workInProgressVersionPrimary=null;X_.length=0}var e0=xo.ReactCurrentDispatcher,Y_=xo.ReactCurrentBatchConfig,Bc=0,Cn=null,ir=null,mr=null,H0=!1,Xh=!1,Sp=0,YH=0;function Lr(){throw Error(Fe(321))}function RM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ps(n[t],e[t]))return!1;return!0}function PM(n,e,t,r,i,s){if(Bc=s,Cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,e0.current=n===null||n.memoizedState===null?JH:QH,n=t(r,i),Xh){s=0;do{if(Xh=!1,Sp=0,25<=s)throw Error(Fe(301));s+=1,mr=ir=null,e.updateQueue=null,e0.current=e6,n=t(r,i)}while(Xh)}if(e0.current=W0,e=ir!==null&&ir.next!==null,Bc=0,mr=ir=Cn=null,H0=!1,e)throw Error(Fe(300));return n}function IM(){var n=Sp!==0;return Sp=0,n}function Ks(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Cn.memoizedState=mr=n:mr=mr.next=n,mr}function us(){if(ir===null){var n=Cn.alternate;n=n!==null?n.memoizedState:null}else n=ir.next;var e=mr===null?Cn.memoizedState:mr.next;if(e!==null)mr=e,ir=n;else{if(n===null)throw Error(Fe(310));ir=n,n={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},mr===null?Cn.memoizedState=mr=n:mr=mr.next=n}return mr}function bp(n,e){return typeof e=="function"?e(n):e}function q_(n){var e=us(),t=e.queue;if(t===null)throw Error(Fe(311));t.lastRenderedReducer=n;var r=ir,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((Bc&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=r):l=l.next=p,Cn.lanes|=h,Vc|=h}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ps(r,e.memoizedState)||(pi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Cn.lanes|=s,Vc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Z_(n){var e=us(),t=e.queue;if(t===null)throw Error(Fe(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=n(s,a.action),a=a.next;while(a!==i);Ps(s,e.memoizedState)||(pi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function $3(){}function X3(n,e){var t=Cn,r=us(),i=e(),s=!Ps(r.memoizedState,i);if(s&&(r.memoizedState=i,pi=!0),r=r.queue,DM(Z3.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||mr!==null&&mr.memoizedState.tag&1){if(t.flags|=2048,Ep(9,q3.bind(null,t,r,i,e),void 0,null),xr===null)throw Error(Fe(349));Bc&30||Y3(t,e,i)}return i}function Y3(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function q3(n,e,t,r){e.value=t,e.getSnapshot=r,K3(e)&&J3(n)}function Z3(n,e,t){return t(function(){K3(e)&&J3(n)})}function K3(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ps(n,t)}catch{return!0}}function J3(n){var e=lo(n,1);e!==null&&Rs(e,n,1,-1)}function xA(n){var e=Ks();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},e.queue=n,n=n.dispatch=KH.bind(null,Cn,n),[e.memoizedState,n]}function Ep(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function Q3(){return us().memoizedState}function t0(n,e,t,r){var i=Ks();Cn.flags|=n,i.memoizedState=Ep(1|e,t,void 0,r===void 0?null:r)}function ny(n,e,t,r){var i=us();r=r===void 0?null:r;var s=void 0;if(ir!==null){var a=ir.memoizedState;if(s=a.destroy,r!==null&&RM(r,a.deps)){i.memoizedState=Ep(e,t,s,r);return}}Cn.flags|=n,i.memoizedState=Ep(1|e,t,s,r)}function yA(n,e){return t0(8390656,8,n,e)}function DM(n,e){return ny(2048,8,n,e)}function ek(n,e){return ny(4,2,n,e)}function tk(n,e){return ny(4,4,n,e)}function nk(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function rk(n,e,t){return t=t!=null?t.concat([n]):null,ny(4,4,nk.bind(null,e,n),t)}function kM(){}function ik(n,e){var t=us();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&RM(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function sk(n,e){var t=us();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&RM(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function ak(n,e,t){return Bc&21?(Ps(t,e)||(t=d3(),Cn.lanes|=t,Vc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,pi=!0),n.memoizedState=t)}function qH(n,e){var t=cn;cn=t!==0&&4>t?t:4,n(!0);var r=Y_.transition;Y_.transition={};try{n(!1),e()}finally{cn=t,Y_.transition=r}}function ok(){return us().memoizedState}function ZH(n,e,t){var r=pl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},lk(n))ck(e,t);else if(t=H3(n,e,t,r),t!==null){var i=Kr();Rs(t,n,r,i),uk(t,e,r)}}function KH(n,e,t){var r=pl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(lk(n))ck(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,Ps(o,a)){var l=e.interleaved;l===null?(i.next=i,MM(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=H3(n,e,i,r),t!==null&&(i=Kr(),Rs(t,n,r,i),uk(t,e,r))}}function lk(n){var e=n.alternate;return n===Cn||e!==null&&e===Cn}function ck(n,e){Xh=H0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function uk(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,dM(n,t)}}var W0={readContext:cs,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},JH={readContext:cs,useCallback:function(n,e){return Ks().memoizedState=[n,e===void 0?null:e],n},useContext:cs,useEffect:yA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,t0(4194308,4,nk.bind(null,e,n),t)},useLayoutEffect:function(n,e){return t0(4194308,4,n,e)},useInsertionEffect:function(n,e){return t0(4,2,n,e)},useMemo:function(n,e){var t=Ks();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ks();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=ZH.bind(null,Cn,n),[r.memoizedState,n]},useRef:function(n){var e=Ks();return n={current:n},e.memoizedState=n},useState:xA,useDebugValue:kM,useDeferredValue:function(n){return Ks().memoizedState=n},useTransition:function(){var n=xA(!1),e=n[0];return n=qH.bind(null,n[1]),Ks().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Cn,i=Ks();if(bn){if(t===void 0)throw Error(Fe(407));t=t()}else{if(t=e(),xr===null)throw Error(Fe(349));Bc&30||Y3(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,yA(Z3.bind(null,r,s,n),[n]),r.flags|=2048,Ep(9,q3.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Ks(),e=xr.identifierPrefix;if(bn){var t=Qa,r=Ja;t=(r&~(1<<32-As(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Sp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=YH++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},QH={readContext:cs,useCallback:ik,useContext:cs,useEffect:DM,useImperativeHandle:rk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:sk,useReducer:q_,useRef:Q3,useState:function(){return q_(bp)},useDebugValue:kM,useDeferredValue:function(n){var e=us();return ak(e,ir.memoizedState,n)},useTransition:function(){var n=q_(bp)[0],e=us().memoizedState;return[n,e]},useMutableSource:$3,useSyncExternalStore:X3,useId:ok,unstable_isNewReconciler:!1},e6={readContext:cs,useCallback:ik,useContext:cs,useEffect:DM,useImperativeHandle:rk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:sk,useReducer:Z_,useRef:Q3,useState:function(){return Z_(bp)},useDebugValue:kM,useDeferredValue:function(n){var e=us();return ir===null?e.memoizedState=n:ak(e,ir.memoizedState,n)},useTransition:function(){var n=Z_(bp)[0],e=us().memoizedState;return[n,e]},useMutableSource:$3,useSyncExternalStore:X3,useId:ok,unstable_isNewReconciler:!1};function ws(n,e){if(n&&n.defaultProps){e=An({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function eb(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:An({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ry={isMounted:function(n){return(n=n._reactInternals)?ru(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Kr(),i=pl(n),s=ro(r,i);s.payload=e,t!=null&&(s.callback=t),e=fl(n,s,i),e!==null&&(Rs(e,n,i,r),Qv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Kr(),i=pl(n),s=ro(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=fl(n,s,i),e!==null&&(Rs(e,n,i,r),Qv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Kr(),r=pl(n),i=ro(t,r);i.tag=2,e!=null&&(i.callback=e),e=fl(n,i,r),e!==null&&(Rs(e,n,r,t),Qv(e,n,r))}};function wA(n,e,t,r,i,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!gp(t,r)||!gp(i,s):!0}function dk(n,e,t){var r=!1,i=_l,s=e.contextType;return typeof s=="object"&&s!==null?s=cs(s):(i=gi(e)?Uc:Vr.current,r=e.contextTypes,s=(r=r!=null)?$d(n,i):_l),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ry,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function _A(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ry.enqueueReplaceState(e,e.state,null)}function tb(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},TM(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cs(s):(s=gi(e)?Uc:Vr.current,i.context=$d(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(eb(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ry.enqueueReplaceState(i,i.state,null),B0(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Zd(n,e){try{var t="",r=e;do t+=NV(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function K_(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function nb(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var t6=typeof WeakMap=="function"?WeakMap:Map;function fk(n,e,t){t=ro(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){$0||($0=!0,fb=r),nb(n,e)},t}function hk(n,e,t){t=ro(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){nb(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){nb(n,e),typeof r!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function SA(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new t6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=m6.bind(null,n,e,t),e.then(n,n))}function bA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function EA(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ro(-1,1),e.tag=2,fl(t,e,1))),t.lanes|=1),n)}var n6=xo.ReactCurrentOwner,pi=!1;function Yr(n,e,t,r){e.child=n===null?V3(e,null,t,r):Yd(e,n.child,t,r)}function MA(n,e,t,r,i){t=t.render;var s=e.ref;return Td(e,i),r=PM(n,e,t,r,s,i),t=IM(),n!==null&&!pi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,co(n,e,i)):(bn&&t&&yM(e),e.flags|=1,Yr(n,e,r,i),e.child)}function TA(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!VM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,pk(n,e,s,r,i)):(n=s0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:gp,t(a,r)&&n.ref===e.ref)return co(n,e,i)}return e.flags|=1,n=ml(s,r),n.ref=e.ref,n.return=e,e.child=n}function pk(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(gp(s,r)&&n.ref===e.ref)if(pi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(pi=!0);else return e.lanes=n.lanes,co(n,e,i)}return rb(n,e,t,r,i)}function mk(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(gd,Di),Di|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,gn(gd,Di),Di|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,gn(gd,Di),Di|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,gn(gd,Di),Di|=r;return Yr(n,e,i,t),e.child}function gk(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function rb(n,e,t,r,i){var s=gi(t)?Uc:Vr.current;return s=$d(e,s),Td(e,i),t=PM(n,e,t,r,s,i),r=IM(),n!==null&&!pi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,co(n,e,i)):(bn&&r&&yM(e),e.flags|=1,Yr(n,e,t,i),e.child)}function CA(n,e,t,r,i){if(gi(t)){var s=!0;O0(e)}else s=!1;if(Td(e,i),e.stateNode===null)n0(n,e),dk(e,t,r),tb(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=cs(u):(u=gi(t)?Uc:Vr.current,u=$d(e,u));var h=t.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&_A(e,a,r,u),Yo=!1;var m=e.memoizedState;a.state=m,B0(e,r,a,i),l=e.memoizedState,o!==r||m!==l||mi.current||Yo?(typeof h=="function"&&(eb(e,t,h,r),l=e.memoizedState),(o=Yo||wA(e,t,o,r,m,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,W3(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:ws(e.type,o),a.props=u,p=e.pendingProps,m=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=cs(l):(l=gi(t)?Uc:Vr.current,l=$d(e,l));var g=t.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||m!==l)&&_A(e,a,r,l),Yo=!1,m=e.memoizedState,a.state=m,B0(e,r,a,i);var v=e.memoizedState;o!==p||m!==v||mi.current||Yo?(typeof g=="function"&&(eb(e,t,g,r),v=e.memoizedState),(u=Yo||wA(e,t,u,r,m,v,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),r=!1)}return ib(n,e,t,r,s,i)}function ib(n,e,t,r,i,s){gk(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&fA(e,t,!1),co(n,e,s);r=e.stateNode,n6.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=Yd(e,n.child,null,s),e.child=Yd(e,null,o,s)):Yr(n,e,o,s),e.memoizedState=r.state,i&&fA(e,t,!0),e.child}function vk(n){var e=n.stateNode;e.pendingContext?dA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&dA(n,e.context,!1),CM(n,e.containerInfo)}function NA(n,e,t,r,i){return Xd(),_M(i),e.flags|=256,Yr(n,e,t,r),e.child}var sb={dehydrated:null,treeContext:null,retryLane:0};function ab(n){return{baseLanes:n,cachePool:null,transitions:null}}function xk(n,e,t){var r=e.pendingProps,i=Mn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),gn(Mn,i&1),n===null)return JS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=ay(a,r,0,null),n=Dc(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=ab(t),e.memoizedState=sb,n):LM(e,a));if(i=n.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return r6(n,e,a,r,o,i,t);if(s){s=r.fallback,a=e.mode,i=n.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ml(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ml(o,s):(s=Dc(s,a,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=n.child.memoizedState,a=a===null?ab(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=sb,r}return s=n.child,n=s.sibling,r=ml(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function LM(n,e){return e=ay({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Hg(n,e,t,r){return r!==null&&_M(r),Yd(e,n.child,null,t),n=LM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function r6(n,e,t,r,i,s,a){if(t)return e.flags&256?(e.flags&=-257,r=K_(Error(Fe(422))),Hg(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ay({mode:"visible",children:r.children},i,0,null),s=Dc(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Yd(e,n.child,null,a),e.child.memoizedState=ab(a),e.memoizedState=sb,s);if(!(e.mode&1))return Hg(n,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Fe(419)),r=K_(s,r,void 0),Hg(n,e,a,r)}if(o=(a&n.childLanes)!==0,pi||o){if(r=xr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,lo(n,i),Rs(r,n,i,-1))}return BM(),r=K_(Error(Fe(421))),Hg(n,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=g6.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Oi=dl(i.nextSibling),ji=e,bn=!0,Ts=null,n!==null&&(rs[is++]=Ja,rs[is++]=Qa,rs[is++]=zc,Ja=n.id,Qa=n.overflow,zc=e),e=LM(e,r.children),e.flags|=4096,e)}function AA(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),QS(n.return,e,t)}function J_(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function yk(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yr(n,e,r.children,t),r=Mn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&AA(n,t,e);else if(n.tag===19)AA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(gn(Mn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&V0(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),J_(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&V0(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}J_(e,!0,t,null,s);break;case"together":J_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function n0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function co(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Vc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Fe(153));if(e.child!==null){for(n=e.child,t=ml(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ml(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function i6(n,e,t){switch(e.tag){case 3:vk(e),Xd();break;case 5:G3(e);break;case 1:gi(e.type)&&O0(e);break;case 4:CM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gn(U0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gn(Mn,Mn.current&1),e.flags|=128,null):t&e.child.childLanes?xk(n,e,t):(gn(Mn,Mn.current&1),n=co(n,e,t),n!==null?n.sibling:null);gn(Mn,Mn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return yk(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gn(Mn,Mn.current),r)break;return null;case 22:case 23:return e.lanes=0,mk(n,e,t)}return co(n,e,t)}var wk,ob,_k,Sk;wk=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ob=function(){};_k=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,vc(pa.current);var s=null;switch(t){case"input":i=AS(n,i),r=AS(n,r),s=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),s=[];break;case"textarea":i=IS(n,i),r=IS(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=k0)}kS(t,r);var a;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yn("scroll",n),s||o===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Sk=function(n,e,t,r){t!==r&&(e.flags|=4)};function dh(n,e){if(!bn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Or(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function s6(n,e,t){var r=e.pendingProps;switch(wM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(e),null;case 1:return gi(e.type)&&L0(),Or(e),null;case 3:return r=e.stateNode,qd(),wn(mi),wn(Vr),AM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Bg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ts!==null&&(mb(Ts),Ts=null))),ob(n,e),Or(e),null;case 5:NM(e);var i=vc(_p.current);if(t=e.type,n!==null&&e.stateNode!=null)_k(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return Or(e),null}if(n=vc(pa.current),Bg(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[na]=e,r[yp]=s,n=(e.mode&1)!==0,t){case"dialog":yn("cancel",r),yn("close",r);break;case"iframe":case"object":case"embed":yn("load",r);break;case"video":case"audio":for(i=0;i<kh.length;i++)yn(kh[i],r);break;case"source":yn("error",r);break;case"img":case"image":case"link":yn("error",r),yn("load",r);break;case"details":yn("toggle",r);break;case"input":FN(r,s),yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},yn("invalid",r);break;case"textarea":zN(r,s),yn("invalid",r)}kS(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&zg(r.textContent,o,n),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&zg(r.textContent,o,n),i=["children",""+o]):cp.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&yn("scroll",r)}switch(t){case"input":Ig(r),UN(r,s,!0);break;case"textarea":Ig(r),BN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=k0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ZD(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[na]=e,n[yp]=r,wk(n,e,!1,!1),e.stateNode=n;e:{switch(a=LS(t,r),t){case"dialog":yn("cancel",n),yn("close",n),i=r;break;case"iframe":case"object":case"embed":yn("load",n),i=r;break;case"video":case"audio":for(i=0;i<kh.length;i++)yn(kh[i],n);i=r;break;case"source":yn("error",n),i=r;break;case"img":case"image":case"link":yn("error",n),yn("load",n),i=r;break;case"details":yn("toggle",n),i=r;break;case"input":FN(n,r),i=AS(n,r),yn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),yn("invalid",n);break;case"textarea":zN(n,r),i=IS(n,r),yn("invalid",n);break;default:i=r}kS(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?QD(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KD(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&up(n,l):typeof l=="number"&&up(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&yn("scroll",n):l!=null&&sM(n,s,l,a))}switch(t){case"input":Ig(n),UN(n,r,!1);break;case"textarea":Ig(n),BN(n);break;case"option":r.value!=null&&n.setAttribute("value",""+wl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Sd(n,!!r.multiple,s,!1):r.defaultValue!=null&&Sd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=k0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Or(e),null;case 6:if(n&&e.stateNode!=null)Sk(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Fe(166));if(t=vc(_p.current),vc(pa.current),Bg(e)){if(r=e.stateNode,t=e.memoizedProps,r[na]=e,(s=r.nodeValue!==t)&&(n=ji,n!==null))switch(n.tag){case 3:zg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[na]=e,e.stateNode=r}return Or(e),null;case 13:if(wn(Mn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(bn&&Oi!==null&&e.mode&1&&!(e.flags&128))z3(),Xd(),e.flags|=98560,s=!1;else if(s=Bg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[na]=e}else Xd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Or(e),s=!1}else Ts!==null&&(mb(Ts),Ts=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Mn.current&1?ar===0&&(ar=3):BM())),e.updateQueue!==null&&(e.flags|=4),Or(e),null);case 4:return qd(),ob(n,e),n===null&&vp(e.stateNode.containerInfo),Or(e),null;case 10:return EM(e.type._context),Or(e),null;case 17:return gi(e.type)&&L0(),Or(e),null;case 19:if(wn(Mn),s=e.memoizedState,s===null)return Or(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)dh(s,!1);else{if(ar!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=V0(n),a!==null){for(e.flags|=128,dh(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return gn(Mn,Mn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Gn()>Kd&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304)}else{if(!r)if(n=V0(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!bn)return Or(e),null}else 2*Gn()-s.renderingStartTime>Kd&&t!==1073741824&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Gn(),e.sibling=null,t=Mn.current,gn(Mn,r?t&1|2:t&1),e):(Or(e),null);case 22:case 23:return zM(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Di&1073741824&&(Or(e),e.subtreeFlags&6&&(e.flags|=8192)):Or(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function a6(n,e){switch(wM(e),e.tag){case 1:return gi(e.type)&&L0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return qd(),wn(mi),wn(Vr),AM(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return NM(e),null;case 13:if(wn(Mn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));Xd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return wn(Mn),null;case 4:return qd(),null;case 10:return EM(e.type._context),null;case 22:case 23:return zM(),null;case 24:return null;default:return null}}var Wg=!1,Ur=!1,o6=typeof WeakSet=="function"?WeakSet:Set,rt=null;function md(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){jn(n,e,r)}else t.current=null}function lb(n,e,t){try{t()}catch(r){jn(n,e,r)}}var RA=!1;function l6(n,e){if(GS=P0,n=C3(),xM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,h=0,p=n,m=null;t:for(;;){for(var g;p!==t||i!==0&&p.nodeType!==3||(o=a+i),p!==s||r!==0&&p.nodeType!==3||(l=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===n)break t;if(m===t&&++u===i&&(o=a),m===s&&++h===r&&(l=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for($S={focusedElem:n,selectionRange:t},P0=!1,rt=e;rt!==null;)if(e=rt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,rt=n;else for(;rt!==null;){e=rt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:ws(e.type,y),w);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(T){jn(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,rt=n;break}rt=e.return}return v=RA,RA=!1,v}function Yh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&lb(e,t,s)}i=i.next}while(i!==r)}}function iy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function cb(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function bk(n){var e=n.alternate;e!==null&&(n.alternate=null,bk(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[na],delete e[yp],delete e[qS],delete e[WH],delete e[GH])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Ek(n){return n.tag===5||n.tag===3||n.tag===4}function PA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ek(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ub(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=k0));else if(r!==4&&(n=n.child,n!==null))for(ub(n,e,t),n=n.sibling;n!==null;)ub(n,e,t),n=n.sibling}function db(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(db(n,e,t),n=n.sibling;n!==null;)db(n,e,t),n=n.sibling}var Sr=null,Ms=!1;function Lo(n,e,t){for(t=t.child;t!==null;)Mk(n,e,t),t=t.sibling}function Mk(n,e,t){if(ha&&typeof ha.onCommitFiberUnmount=="function")try{ha.onCommitFiberUnmount(Zx,t)}catch{}switch(t.tag){case 5:Ur||md(t,e);case 6:var r=Sr,i=Ms;Sr=null,Lo(n,e,t),Sr=r,Ms=i,Sr!==null&&(Ms?(n=Sr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Sr.removeChild(t.stateNode));break;case 18:Sr!==null&&(Ms?(n=Sr,t=t.stateNode,n.nodeType===8?G_(n.parentNode,t):n.nodeType===1&&G_(n,t),pp(n)):G_(Sr,t.stateNode));break;case 4:r=Sr,i=Ms,Sr=t.stateNode.containerInfo,Ms=!0,Lo(n,e,t),Sr=r,Ms=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&lb(t,e,a),i=i.next}while(i!==r)}Lo(n,e,t);break;case 1:if(!Ur&&(md(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){jn(t,e,o)}Lo(n,e,t);break;case 21:Lo(n,e,t);break;case 22:t.mode&1?(Ur=(r=Ur)||t.memoizedState!==null,Lo(n,e,t),Ur=r):Lo(n,e,t);break;default:Lo(n,e,t)}}function IA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new o6),e.forEach(function(r){var i=v6.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function gs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Sr=o.stateNode,Ms=!1;break e;case 3:Sr=o.stateNode.containerInfo,Ms=!0;break e;case 4:Sr=o.stateNode.containerInfo,Ms=!0;break e}o=o.return}if(Sr===null)throw Error(Fe(160));Mk(s,a,i),Sr=null,Ms=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){jn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tk(e,n),e=e.sibling}function Tk(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(gs(e,n),Zs(n),r&4){try{Yh(3,n,n.return),iy(3,n)}catch(y){jn(n,n.return,y)}try{Yh(5,n,n.return)}catch(y){jn(n,n.return,y)}}break;case 1:gs(e,n),Zs(n),r&512&&t!==null&&md(t,t.return);break;case 5:if(gs(e,n),Zs(n),r&512&&t!==null&&md(t,t.return),n.flags&32){var i=n.stateNode;try{up(i,"")}catch(y){jn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&YD(i,s),LS(o,a);var u=LS(o,s);for(a=0;a<l.length;a+=2){var h=l[a],p=l[a+1];h==="style"?QD(i,p):h==="dangerouslySetInnerHTML"?KD(i,p):h==="children"?up(i,p):sM(i,h,p,u)}switch(o){case"input":RS(i,s);break;case"textarea":qD(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Sd(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Sd(i,!!s.multiple,s.defaultValue,!0):Sd(i,!!s.multiple,s.multiple?[]:"",!1))}i[yp]=s}catch(y){jn(n,n.return,y)}}break;case 6:if(gs(e,n),Zs(n),r&4){if(n.stateNode===null)throw Error(Fe(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){jn(n,n.return,y)}}break;case 3:if(gs(e,n),Zs(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{pp(e.containerInfo)}catch(y){jn(n,n.return,y)}break;case 4:gs(e,n),Zs(n);break;case 13:gs(e,n),Zs(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(FM=Gn())),r&4&&IA(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Ur=(u=Ur)||h,gs(e,n),Ur=u):gs(e,n),Zs(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(rt=n,h=n.child;h!==null;){for(p=rt=h;rt!==null;){switch(m=rt,g=m.child,m.tag){case 0:case 11:case 14:case 15:Yh(4,m,m.return);break;case 1:md(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,t=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){jn(r,t,y)}}break;case 5:md(m,m.return);break;case 22:if(m.memoizedState!==null){kA(p);continue}}g!==null?(g.return=m,rt=g):kA(p)}h=h.sibling}e:for(h=null,p=n;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=JD("display",a))}catch(y){jn(n,n.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){jn(n,n.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gs(e,n),Zs(n),r&4&&IA(n);break;case 21:break;default:gs(e,n),Zs(n)}}function Zs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Ek(t)){var r=t;break e}t=t.return}throw Error(Fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(up(i,""),r.flags&=-33);var s=PA(n);db(n,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=PA(n);ub(n,o,a);break;default:throw Error(Fe(161))}}catch(l){jn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function c6(n,e,t){rt=n,Ck(n)}function Ck(n,e,t){for(var r=(n.mode&1)!==0;rt!==null;){var i=rt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Wg;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ur;o=Wg;var u=Ur;if(Wg=a,(Ur=l)&&!u)for(rt=i;rt!==null;)a=rt,l=a.child,a.tag===22&&a.memoizedState!==null?LA(i):l!==null?(l.return=a,rt=l):LA(i);for(;s!==null;)rt=s,Ck(s),s=s.sibling;rt=i,Wg=o,Ur=u}DA(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,rt=s):DA(n)}}function DA(n){for(;rt!==null;){var e=rt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ur||iy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ur)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ws(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vA(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}vA(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&pp(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Ur||e.flags&512&&cb(e)}catch(m){jn(e,e.return,m)}}if(e===n){rt=null;break}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}}function kA(n){for(;rt!==null;){var e=rt;if(e===n){rt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,rt=t;break}rt=e.return}}function LA(n){for(;rt!==null;){var e=rt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{iy(4,e)}catch(l){jn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){jn(e,i,l)}}var s=e.return;try{cb(e)}catch(l){jn(e,s,l)}break;case 5:var a=e.return;try{cb(e)}catch(l){jn(e,a,l)}}}catch(l){jn(e,e.return,l)}if(e===n){rt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,rt=o;break}rt=e.return}}var u6=Math.ceil,G0=xo.ReactCurrentDispatcher,OM=xo.ReactCurrentOwner,os=xo.ReactCurrentBatchConfig,Zt=0,xr=null,er=null,Mr=0,Di=0,gd=kl(0),ar=0,Mp=null,Vc=0,sy=0,jM=0,qh=null,ui=null,FM=0,Kd=1/0,Xa=null,$0=!1,fb=null,hl=null,Gg=!1,al=null,X0=0,Zh=0,hb=null,r0=-1,i0=0;function Kr(){return Zt&6?Gn():r0!==-1?r0:r0=Gn()}function pl(n){return n.mode&1?Zt&2&&Mr!==0?Mr&-Mr:XH.transition!==null?(i0===0&&(i0=d3()),i0):(n=cn,n!==0||(n=window.event,n=n===void 0?16:x3(n.type)),n):1}function Rs(n,e,t,r){if(50<Zh)throw Zh=0,hb=null,Error(Fe(185));om(n,t,r),(!(Zt&2)||n!==xr)&&(n===xr&&(!(Zt&2)&&(sy|=t),ar===4&&Ko(n,Mr)),vi(n,r),t===1&&Zt===0&&!(e.mode&1)&&(Kd=Gn()+500,ty&&Ll()))}function vi(n,e){var t=n.callbackNode;XV(n,e);var r=R0(n,n===xr?Mr:0);if(r===0)t!==null&&WN(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&WN(t),e===1)n.tag===0?$H(OA.bind(null,n)):j3(OA.bind(null,n)),VH(function(){!(Zt&6)&&Ll()}),t=null;else{switch(f3(r)){case 1:t=uM;break;case 4:t=c3;break;case 16:t=A0;break;case 536870912:t=u3;break;default:t=A0}t=Lk(t,Nk.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Nk(n,e){if(r0=-1,i0=0,Zt&6)throw Error(Fe(327));var t=n.callbackNode;if(Cd()&&n.callbackNode!==t)return null;var r=R0(n,n===xr?Mr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Y0(n,r);else{e=r;var i=Zt;Zt|=2;var s=Rk();(xr!==n||Mr!==e)&&(Xa=null,Kd=Gn()+500,Ic(n,e));do try{h6();break}catch(o){Ak(n,o)}while(!0);bM(),G0.current=s,Zt=i,er!==null?e=0:(xr=null,Mr=0,e=ar)}if(e!==0){if(e===2&&(i=zS(n),i!==0&&(r=i,e=pb(n,i))),e===1)throw t=Mp,Ic(n,0),Ko(n,r),vi(n,Gn()),t;if(e===6)Ko(n,r);else{if(i=n.current.alternate,!(r&30)&&!d6(i)&&(e=Y0(n,r),e===2&&(s=zS(n),s!==0&&(r=s,e=pb(n,s))),e===1))throw t=Mp,Ic(n,0),Ko(n,r),vi(n,Gn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Fe(345));case 2:cc(n,ui,Xa);break;case 3:if(Ko(n,r),(r&130023424)===r&&(e=FM+500-Gn(),10<e)){if(R0(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Kr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=YS(cc.bind(null,n,ui,Xa),e);break}cc(n,ui,Xa);break;case 4:if(Ko(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-As(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u6(r/1960))-r,10<r){n.timeoutHandle=YS(cc.bind(null,n,ui,Xa),r);break}cc(n,ui,Xa);break;case 5:cc(n,ui,Xa);break;default:throw Error(Fe(329))}}}return vi(n,Gn()),n.callbackNode===t?Nk.bind(null,n):null}function pb(n,e){var t=qh;return n.current.memoizedState.isDehydrated&&(Ic(n,e).flags|=256),n=Y0(n,e),n!==2&&(e=ui,ui=t,e!==null&&mb(e)),n}function mb(n){ui===null?ui=n:ui.push.apply(ui,n)}function d6(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ps(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ko(n,e){for(e&=~jM,e&=~sy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-As(e),r=1<<t;n[t]=-1,e&=~r}}function OA(n){if(Zt&6)throw Error(Fe(327));Cd();var e=R0(n,0);if(!(e&1))return vi(n,Gn()),null;var t=Y0(n,e);if(n.tag!==0&&t===2){var r=zS(n);r!==0&&(e=r,t=pb(n,r))}if(t===1)throw t=Mp,Ic(n,0),Ko(n,e),vi(n,Gn()),t;if(t===6)throw Error(Fe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,cc(n,ui,Xa),vi(n,Gn()),null}function UM(n,e){var t=Zt;Zt|=1;try{return n(e)}finally{Zt=t,Zt===0&&(Kd=Gn()+500,ty&&Ll())}}function Hc(n){al!==null&&al.tag===0&&!(Zt&6)&&Cd();var e=Zt;Zt|=1;var t=os.transition,r=cn;try{if(os.transition=null,cn=1,n)return n()}finally{cn=r,os.transition=t,Zt=e,!(Zt&6)&&Ll()}}function zM(){Di=gd.current,wn(gd)}function Ic(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,BH(t)),er!==null)for(t=er.return;t!==null;){var r=t;switch(wM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&L0();break;case 3:qd(),wn(mi),wn(Vr),AM();break;case 5:NM(r);break;case 4:qd();break;case 13:wn(Mn);break;case 19:wn(Mn);break;case 10:EM(r.type._context);break;case 22:case 23:zM()}t=t.return}if(xr=n,er=n=ml(n.current,null),Mr=Di=e,ar=0,Mp=null,jM=sy=Vc=0,ui=qh=null,gc!==null){for(e=0;e<gc.length;e++)if(t=gc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}t.pending=r}gc=null}return n}function Ak(n,e){do{var t=er;try{if(bM(),e0.current=W0,H0){for(var r=Cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}H0=!1}if(Bc=0,mr=ir=Cn=null,Xh=!1,Sp=0,OM.current=null,t===null||t.return===null){ar=1,Mp=e,er=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=Mr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=bA(a);if(g!==null){g.flags&=-257,EA(g,a,o,s,e),g.mode&1&&SA(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){SA(s,u,e),BM();break e}l=Error(Fe(426))}}else if(bn&&o.mode&1){var w=bA(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),EA(w,a,o,s,e),_M(Zd(l,o));break e}}s=l=Zd(l,o),ar!==4&&(ar=2),qh===null?qh=[s]:qh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=fk(s,l,e);gA(s,x);break e;case 1:o=l;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(hl===null||!hl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=hk(s,o,e);gA(s,T);break e}}s=s.return}while(s!==null)}Ik(t)}catch(C){e=C,er===t&&t!==null&&(er=t=t.return);continue}break}while(!0)}function Rk(){var n=G0.current;return G0.current=W0,n===null?W0:n}function BM(){(ar===0||ar===3||ar===2)&&(ar=4),xr===null||!(Vc&268435455)&&!(sy&268435455)||Ko(xr,Mr)}function Y0(n,e){var t=Zt;Zt|=2;var r=Rk();(xr!==n||Mr!==e)&&(Xa=null,Ic(n,e));do try{f6();break}catch(i){Ak(n,i)}while(!0);if(bM(),Zt=t,G0.current=r,er!==null)throw Error(Fe(261));return xr=null,Mr=0,ar}function f6(){for(;er!==null;)Pk(er)}function h6(){for(;er!==null&&!FV();)Pk(er)}function Pk(n){var e=kk(n.alternate,n,Di);n.memoizedProps=n.pendingProps,e===null?Ik(n):er=e,OM.current=null}function Ik(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=a6(t,e),t!==null){t.flags&=32767,er=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ar=6,er=null;return}}else if(t=s6(t,e,Di),t!==null){er=t;return}if(e=e.sibling,e!==null){er=e;return}er=e=n}while(e!==null);ar===0&&(ar=5)}function cc(n,e,t){var r=cn,i=os.transition;try{os.transition=null,cn=1,p6(n,e,t,r)}finally{os.transition=i,cn=r}return null}function p6(n,e,t,r){do Cd();while(al!==null);if(Zt&6)throw Error(Fe(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Fe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(YV(n,s),n===xr&&(er=xr=null,Mr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Gg||(Gg=!0,Lk(A0,function(){return Cd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=os.transition,os.transition=null;var a=cn;cn=1;var o=Zt;Zt|=4,OM.current=null,l6(n,t),Tk(t,n),kH($S),P0=!!GS,$S=GS=null,n.current=t,c6(t),UV(),Zt=o,cn=a,os.transition=s}else n.current=t;if(Gg&&(Gg=!1,al=n,X0=i),s=n.pendingLanes,s===0&&(hl=null),VV(t.stateNode),vi(n,Gn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if($0)throw $0=!1,n=fb,fb=null,n;return X0&1&&n.tag!==0&&Cd(),s=n.pendingLanes,s&1?n===hb?Zh++:(Zh=0,hb=n):Zh=0,Ll(),null}function Cd(){if(al!==null){var n=f3(X0),e=os.transition,t=cn;try{if(os.transition=null,cn=16>n?16:n,al===null)var r=!1;else{if(n=al,al=null,X0=0,Zt&6)throw Error(Fe(331));var i=Zt;for(Zt|=4,rt=n.current;rt!==null;){var s=rt,a=s.child;if(rt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(rt=u;rt!==null;){var h=rt;switch(h.tag){case 0:case 11:case 15:Yh(8,h,s)}var p=h.child;if(p!==null)p.return=h,rt=p;else for(;rt!==null;){h=rt;var m=h.sibling,g=h.return;if(bk(h),h===u){rt=null;break}if(m!==null){m.return=g,rt=m;break}rt=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}rt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,rt=a;else e:for(;rt!==null;){if(s=rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yh(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,rt=x;break e}rt=s.return}}var b=n.current;for(rt=b;rt!==null;){a=rt;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,rt=S;else e:for(a=b;rt!==null;){if(o=rt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:iy(9,o)}}catch(C){jn(o,o.return,C)}if(o===a){rt=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,rt=T;break e}rt=o.return}}if(Zt=i,Ll(),ha&&typeof ha.onPostCommitFiberRoot=="function")try{ha.onPostCommitFiberRoot(Zx,n)}catch{}r=!0}return r}finally{cn=t,os.transition=e}}return!1}function jA(n,e,t){e=Zd(t,e),e=fk(n,e,1),n=fl(n,e,1),e=Kr(),n!==null&&(om(n,1,e),vi(n,e))}function jn(n,e,t){if(n.tag===3)jA(n,n,t);else for(;e!==null;){if(e.tag===3){jA(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hl===null||!hl.has(r))){n=Zd(t,n),n=hk(e,n,1),e=fl(e,n,1),n=Kr(),e!==null&&(om(e,1,n),vi(e,n));break}}e=e.return}}function m6(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Kr(),n.pingedLanes|=n.suspendedLanes&t,xr===n&&(Mr&t)===t&&(ar===4||ar===3&&(Mr&130023424)===Mr&&500>Gn()-FM?Ic(n,0):jM|=t),vi(n,e)}function Dk(n,e){e===0&&(n.mode&1?(e=Lg,Lg<<=1,!(Lg&130023424)&&(Lg=4194304)):e=1);var t=Kr();n=lo(n,e),n!==null&&(om(n,e,t),vi(n,t))}function g6(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Dk(n,t)}function v6(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Fe(314))}r!==null&&r.delete(e),Dk(n,t)}var kk;kk=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||mi.current)pi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return pi=!1,i6(n,e,t);pi=!!(n.flags&131072)}else pi=!1,bn&&e.flags&1048576&&F3(e,F0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;n0(n,e),n=e.pendingProps;var i=$d(e,Vr.current);Td(e,t),i=PM(null,e,r,n,i,t);var s=IM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)?(s=!0,O0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TM(e),i.updater=ry,e.stateNode=i,i._reactInternals=e,tb(e,r,n,t),e=ib(null,e,r,!0,s,t)):(e.tag=0,bn&&s&&yM(e),Yr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(n0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=y6(r),n=ws(r,n),i){case 0:e=rb(null,e,r,n,t);break e;case 1:e=CA(null,e,r,n,t);break e;case 11:e=MA(null,e,r,n,t);break e;case 14:e=TA(null,e,r,ws(r.type,n),t);break e}throw Error(Fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ws(r,i),rb(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ws(r,i),CA(n,e,r,i,t);case 3:e:{if(vk(e),n===null)throw Error(Fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,W3(n,e),B0(e,r,null,t);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zd(Error(Fe(423)),e),e=NA(n,e,r,t,i);break e}else if(r!==i){i=Zd(Error(Fe(424)),e),e=NA(n,e,r,t,i);break e}else for(Oi=dl(e.stateNode.containerInfo.firstChild),ji=e,bn=!0,Ts=null,t=V3(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Xd(),r===i){e=co(n,e,t);break e}Yr(n,e,r,t)}e=e.child}return e;case 5:return G3(e),n===null&&JS(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,a=i.children,XS(r,i)?a=null:s!==null&&XS(r,s)&&(e.flags|=32),gk(n,e),Yr(n,e,a,t),e.child;case 6:return n===null&&JS(e),null;case 13:return xk(n,e,t);case 4:return CM(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Yd(e,null,r,t):Yr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ws(r,i),MA(n,e,r,i,t);case 7:return Yr(n,e,e.pendingProps,t),e.child;case 8:return Yr(n,e,e.pendingProps.children,t),e.child;case 12:return Yr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,gn(U0,r._currentValue),r._currentValue=a,s!==null)if(Ps(s.value,a)){if(s.children===i.children&&!mi.current){e=co(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ro(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),QS(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Fe(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),QS(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Yr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Td(e,t),i=cs(i),r=r(i),e.flags|=1,Yr(n,e,r,t),e.child;case 14:return r=e.type,i=ws(r,e.pendingProps),i=ws(r.type,i),TA(n,e,r,i,t);case 15:return pk(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ws(r,i),n0(n,e),e.tag=1,gi(r)?(n=!0,O0(e)):n=!1,Td(e,t),dk(e,r,i),tb(e,r,i,t),ib(null,e,r,!0,n,t);case 19:return yk(n,e,t);case 22:return mk(n,e,t)}throw Error(Fe(156,e.tag))};function Lk(n,e){return l3(n,e)}function x6(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(n,e,t,r){return new x6(n,e,t,r)}function VM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function y6(n){if(typeof n=="function")return VM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===oM)return 11;if(n===lM)return 14}return 2}function ml(n,e){var t=n.alternate;return t===null?(t=as(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function s0(n,e,t,r,i,s){var a=2;if(r=n,typeof n=="function")VM(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case ad:return Dc(t.children,i,s,e);case aM:a=8,i|=8;break;case MS:return n=as(12,t,e,i|2),n.elementType=MS,n.lanes=s,n;case TS:return n=as(13,t,e,i),n.elementType=TS,n.lanes=s,n;case CS:return n=as(19,t,e,i),n.elementType=CS,n.lanes=s,n;case GD:return ay(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case HD:a=10;break e;case WD:a=9;break e;case oM:a=11;break e;case lM:a=14;break e;case Xo:a=16,r=null;break e}throw Error(Fe(130,n==null?n:typeof n,""))}return e=as(a,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Dc(n,e,t,r){return n=as(7,n,r,e),n.lanes=t,n}function ay(n,e,t,r){return n=as(22,n,r,e),n.elementType=GD,n.lanes=t,n.stateNode={isHidden:!1},n}function Q_(n,e,t){return n=as(6,n,null,e),n.lanes=t,n}function e1(n,e,t){return e=as(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function w6(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=k_(0),this.expirationTimes=k_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HM(n,e,t,r,i,s,a,o,l){return n=new w6(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=as(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},TM(s),n}function _6(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Ok(n){if(!n)return _l;n=n._reactInternals;e:{if(ru(n)!==n||n.tag!==1)throw Error(Fe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(n.tag===1){var t=n.type;if(gi(t))return O3(n,t,e)}return e}function jk(n,e,t,r,i,s,a,o,l){return n=HM(t,r,!0,n,i,s,a,o,l),n.context=Ok(null),t=n.current,r=Kr(),i=pl(t),s=ro(r,i),s.callback=e??null,fl(t,s,i),n.current.lanes=i,om(n,i,r),vi(n,r),n}function oy(n,e,t,r){var i=e.current,s=Kr(),a=pl(i);return t=Ok(t),e.context===null?e.context=t:e.pendingContext=t,e=ro(s,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=fl(i,e,a),n!==null&&(Rs(n,i,a,s),Qv(n,i,a)),a}function q0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function FA(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function WM(n,e){FA(n,e),(n=n.alternate)&&FA(n,e)}function S6(){return null}var Fk=typeof reportError=="function"?reportError:function(n){console.error(n)};function GM(n){this._internalRoot=n}ly.prototype.render=GM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Fe(409));oy(n,e,null,null)};ly.prototype.unmount=GM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Hc(function(){oy(null,n,null,null)}),e[oo]=null}};function ly(n){this._internalRoot=n}ly.prototype.unstable_scheduleHydration=function(n){if(n){var e=m3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Zo.length&&e!==0&&e<Zo[t].priority;t++);Zo.splice(t,0,n),t===0&&v3(n)}};function $M(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function cy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function UA(){}function b6(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=q0(a);s.call(u)}}var a=jk(e,r,n,0,null,!1,!1,"",UA);return n._reactRootContainer=a,n[oo]=a.current,vp(n.nodeType===8?n.parentNode:n),Hc(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=q0(l);o.call(u)}}var l=HM(n,0,!1,null,null,!1,!1,"",UA);return n._reactRootContainer=l,n[oo]=l.current,vp(n.nodeType===8?n.parentNode:n),Hc(function(){oy(e,l,t,r)}),l}function uy(n,e,t,r,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=q0(a);o.call(l)}}oy(e,a,n,i)}else a=b6(t,e,n,i,r);return q0(a)}h3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Dh(e.pendingLanes);t!==0&&(dM(e,t|1),vi(e,Gn()),!(Zt&6)&&(Kd=Gn()+500,Ll()))}break;case 13:Hc(function(){var r=lo(n,1);if(r!==null){var i=Kr();Rs(r,n,1,i)}}),WM(n,1)}};fM=function(n){if(n.tag===13){var e=lo(n,134217728);if(e!==null){var t=Kr();Rs(e,n,134217728,t)}WM(n,134217728)}};p3=function(n){if(n.tag===13){var e=pl(n),t=lo(n,e);if(t!==null){var r=Kr();Rs(t,n,e,r)}WM(n,e)}};m3=function(){return cn};g3=function(n,e){var t=cn;try{return cn=n,e()}finally{cn=t}};jS=function(n,e,t){switch(e){case"input":if(RS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ey(r);if(!i)throw Error(Fe(90));XD(r),RS(r,i)}}}break;case"textarea":qD(n,t);break;case"select":e=t.value,e!=null&&Sd(n,!!t.multiple,e,!1)}};n3=UM;r3=Hc;var E6={usingClientEntryPoint:!1,Events:[cm,ud,ey,e3,t3,UM]},fh={findFiberByHostInstance:mc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M6={bundleType:fh.bundleType,version:fh.version,rendererPackageName:fh.rendererPackageName,rendererConfig:fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=a3(n),n===null?null:n.stateNode},findFiberByHostInstance:fh.findFiberByHostInstance||S6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$g.isDisabled&&$g.supportsFiber)try{Zx=$g.inject(M6),ha=$g}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;Vi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$M(e))throw Error(Fe(200));return _6(n,e,null,t)};Vi.createRoot=function(n,e){if(!$M(n))throw Error(Fe(299));var t=!1,r="",i=Fk;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HM(n,1,!1,null,null,t,!1,r,i),n[oo]=e.current,vp(n.nodeType===8?n.parentNode:n),new GM(e)};Vi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Fe(188)):(n=Object.keys(n).join(","),Error(Fe(268,n)));return n=a3(e),n=n===null?null:n.stateNode,n};Vi.flushSync=function(n){return Hc(n)};Vi.hydrate=function(n,e,t){if(!cy(e))throw Error(Fe(200));return uy(null,n,e,!0,t)};Vi.hydrateRoot=function(n,e,t){if(!$M(n))throw Error(Fe(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",a=Fk;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=jk(e,null,n,1,t??null,i,!1,s,a),n[oo]=e.current,vp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new ly(e)};Vi.render=function(n,e,t){if(!cy(e))throw Error(Fe(200));return uy(null,n,e,!1,t)};Vi.unmountComponentAtNode=function(n){if(!cy(n))throw Error(Fe(40));return n._reactRootContainer?(Hc(function(){uy(null,null,n,!1,function(){n._reactRootContainer=null,n[oo]=null})}),!0):!1};Vi.unstable_batchedUpdates=UM;Vi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!cy(t))throw Error(Fe(200));if(n==null||n._reactInternals===void 0)throw Error(Fe(38));return uy(n,e,t,!1,r)};Vi.version="18.3.1-next-f1338f8080-20240426";function Uk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uk)}catch(n){console.error(n)}}Uk(),UD.exports=Vi;var iu=UD.exports;const zk=Yx(iu);var Bk,zA=iu;Bk=zA.createRoot,zA.hydrateRoot;const T6=1,C6=1e6;let t1=0;function N6(){return t1=(t1+1)%Number.MAX_SAFE_INTEGER,t1.toString()}const n1=new Map,BA=n=>{if(n1.has(n))return;const e=setTimeout(()=>{n1.delete(n),Kh({type:"REMOVE_TOAST",toastId:n})},C6);n1.set(n,e)},A6=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,T6)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?BA(t):n.toasts.forEach(r=>{BA(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},a0=[];let o0={toasts:[]};function Kh(n){o0=A6(o0,n),a0.forEach(e=>{e(o0)})}function R6({...n}){const e=N6(),t=i=>Kh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Kh({type:"DISMISS_TOAST",toastId:e});return Kh({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function P6(){const[n,e]=E.useState(o0);return E.useEffect(()=>(a0.push(e),()=>{const t=a0.indexOf(e);t>-1&&a0.splice(t,1)}),[n]),{...n,toast:R6,dismiss:t=>Kh({type:"DISMISS_TOAST",toastId:t})}}function Ke(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function I6(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Vk(...n){return e=>n.forEach(t=>I6(t,e))}function Ht(...n){return E.useCallback(Vk(...n),n)}function D6(n,e=[]){let t=[];function r(s,a){const o=E.createContext(a),l=t.length;t=[...t,a];function u(p){const{scope:m,children:g,...v}=p,y=(m==null?void 0:m[n][l])||o,w=E.useMemo(()=>v,Object.values(v));return c.jsx(y.Provider,{value:w,children:g})}function h(p,m){const g=(m==null?void 0:m[n][l])||o,v=E.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const i=()=>{const s=t.map(a=>E.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[r,k6(i,...e)]}function k6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(s)[`__scope${u}`];return{...o,...p}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var Sl=E.forwardRef((n,e)=>{const{children:t,...r}=n,i=E.Children.toArray(t),s=i.find(L6);if(s){const a=s.props.children,o=i.map(l=>l===s?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:l);return c.jsx(gb,{...r,ref:e,children:E.isValidElement(a)?E.cloneElement(a,void 0,o):null})}return c.jsx(gb,{...r,ref:e,children:t})});Sl.displayName="Slot";var gb=E.forwardRef((n,e)=>{const{children:t,...r}=n;if(E.isValidElement(t)){const i=j6(t);return E.cloneElement(t,{...O6(r,t.props),ref:e?Vk(e,i):i})}return E.Children.count(t)>1?E.Children.only(null):null});gb.displayName="SlotClone";var XM=({children:n})=>c.jsx(c.Fragment,{children:n});function L6(n){return E.isValidElement(n)&&n.type===XM}function O6(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...o)=>{s(...o),i(...o)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function j6(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function dy(n){const e=n+"CollectionProvider",[t,r]=D6(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:y}=g,w=me.useRef(null),x=me.useRef(new Map).current;return c.jsx(i,{scope:v,itemMap:x,collectionRef:w,children:y})};a.displayName=e;const o=n+"CollectionSlot",l=me.forwardRef((g,v)=>{const{scope:y,children:w}=g,x=s(o,y),b=Ht(v,x.collectionRef);return c.jsx(Sl,{ref:b,children:w})});l.displayName=o;const u=n+"CollectionItemSlot",h="data-radix-collection-item",p=me.forwardRef((g,v)=>{const{scope:y,children:w,...x}=g,b=me.useRef(null),S=Ht(v,b),T=s(u,y);return me.useEffect(()=>(T.itemMap.set(b,{ref:b,...x}),()=>void T.itemMap.delete(b))),c.jsx(Sl,{[h]:"",ref:S,children:w})});p.displayName=u;function m(g){const v=s(n+"CollectionConsumer",g);return me.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((T,C)=>x.indexOf(T.ref.current)-x.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:l,ItemSlot:p},m,r]}function F6(n,e){const t=E.createContext(e),r=s=>{const{children:a,...o}=s,l=E.useMemo(()=>o,Object.values(o));return c.jsx(t.Provider,{value:l,children:a})};r.displayName=n+"Provider";function i(s){const a=E.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function Os(n,e=[]){let t=[];function r(s,a){const o=E.createContext(a),l=t.length;t=[...t,a];const u=p=>{var x;const{scope:m,children:g,...v}=p,y=((x=m==null?void 0:m[n])==null?void 0:x[l])||o,w=E.useMemo(()=>v,Object.values(v));return c.jsx(y.Provider,{value:w,children:g})};u.displayName=s+"Provider";function h(p,m){var y;const g=((y=m==null?void 0:m[n])==null?void 0:y[l])||o,v=E.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=t.map(a=>E.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[r,U6(i,...e)]}function U6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(s)[`__scope${u}`];return{...o,...p}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var z6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ht=z6.reduce((n,e)=>{const t=E.forwardRef((r,i)=>{const{asChild:s,...a}=r,o=s?Sl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...a,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Hk(n,e){n&&iu.flushSync(()=>n.dispatchEvent(e))}function Xn(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function B6(n,e=globalThis==null?void 0:globalThis.document){const t=Xn(n);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var V6="DismissableLayer",vb="dismissableLayer.update",H6="dismissableLayer.pointerDownOutside",W6="dismissableLayer.focusOutside",VA,Wk=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hf=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=n,u=E.useContext(Wk),[h,p]=E.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=E.useState({}),v=Ht(e,A=>p(A)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(w),b=h?y.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,T=b>=x,C=$6(A=>{const k=A.target,I=[...u.branches].some(R=>R.contains(k));!T||I||(i==null||i(A),a==null||a(A),A.defaultPrevented||o==null||o())},m),P=X6(A=>{const k=A.target;[...u.branches].some(R=>R.contains(k))||(s==null||s(A),a==null||a(A),A.defaultPrevented||o==null||o())},m);return B6(A=>{b===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},m),E.useEffect(()=>{if(h)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VA=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),HA(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=VA)}},[h,m,t,u]),E.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),HA())},[h,u]),E.useEffect(()=>{const A=()=>g({});return document.addEventListener(vb,A),()=>document.removeEventListener(vb,A)},[]),c.jsx(ht.div,{...l,ref:v,style:{pointerEvents:S?T?"auto":"none":void 0,...n.style},onFocusCapture:Ke(n.onFocusCapture,P.onFocusCapture),onBlurCapture:Ke(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ke(n.onPointerDownCapture,C.onPointerDownCapture)})});hf.displayName=V6;var G6="DismissableLayerBranch",Gk=E.forwardRef((n,e)=>{const t=E.useContext(Wk),r=E.useRef(null),i=Ht(e,r);return E.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),c.jsx(ht.div,{...n,ref:i})});Gk.displayName=G6;function $6(n,e=globalThis==null?void 0:globalThis.document){const t=Xn(n),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){$k(H6,t,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function X6(n,e=globalThis==null?void 0:globalThis.document){const t=Xn(n),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&$k(W6,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HA(){const n=new CustomEvent(vb);document.dispatchEvent(n)}function $k(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Hk(i,s):i.dispatchEvent(s)}var Y6=hf,q6=Gk,yr=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},Z6="Portal",fy=E.forwardRef((n,e)=>{var o;const{container:t,...r}=n,[i,s]=E.useState(!1);yr(()=>s(!0),[]);const a=t||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?zk.createPortal(c.jsx(ht.div,{...r,ref:e}),a):null});fy.displayName=Z6;function K6(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var Wi=n=>{const{present:e,children:t}=n,r=J6(e),i=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),s=Ht(r.ref,Q6(i));return typeof t=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};Wi.displayName="Presence";function J6(n){const[e,t]=E.useState(),r=E.useRef({}),i=E.useRef(n),s=E.useRef("none"),a=n?"mounted":"unmounted",[o,l]=K6(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=Xg(r.current);s.current=o==="mounted"?u:"none"},[o]),yr(()=>{const u=r.current,h=i.current;if(h!==n){const m=s.current,g=Xg(u);n?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),yr(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=g=>{const y=Xg(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=g=>{g.target===e&&(s.current=Xg(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:E.useCallback(u=>{u&&(r.current=getComputedStyle(u)),t(u)},[])}}function Xg(n){return(n==null?void 0:n.animationName)||"none"}function Q6(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function wi({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=e8({defaultProp:e,onChange:t}),s=n!==void 0,a=s?n:r,o=Xn(t),l=E.useCallback(u=>{if(s){const p=typeof u=="function"?u(n):u;p!==n&&o(p)}else i(u)},[s,n,i,o]);return[a,l]}function e8({defaultProp:n,onChange:e}){const t=E.useState(n),[r]=t,i=E.useRef(r),s=Xn(e);return E.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var t8="VisuallyHidden",dm=E.forwardRef((n,e)=>c.jsx(ht.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));dm.displayName=t8;var n8=dm,YM="ToastProvider",[qM,r8,i8]=dy("Toast"),[Xk,cce]=Os("Toast",[i8]),[s8,hy]=Xk(YM),Yk=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=n,[o,l]=E.useState(null),[u,h]=E.useState(0),p=E.useRef(!1),m=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${YM}\`. Expected non-empty \`string\`.`),c.jsx(qM.Provider,{scope:e,children:c.jsx(s8,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:E.useCallback(()=>h(g=>g+1),[]),onToastRemove:E.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:a})})};Yk.displayName=YM;var qk="ToastViewport",a8=["F8"],xb="toast.viewportPause",yb="toast.viewportResume",Zk=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=a8,label:i="Notifications ({hotkey})",...s}=n,a=hy(qk,t),o=r8(t),l=E.useRef(null),u=E.useRef(null),h=E.useRef(null),p=E.useRef(null),m=Ht(e,p,a.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;E.useEffect(()=>{const w=x=>{var S;r.length!==0&&r.every(T=>x[T]||x.code===T)&&((S=p.current)==null||S.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),E.useEffect(()=>{const w=l.current,x=p.current;if(v&&w&&x){const b=()=>{if(!a.isClosePausedRef.current){const P=new CustomEvent(xb);x.dispatchEvent(P),a.isClosePausedRef.current=!0}},S=()=>{if(a.isClosePausedRef.current){const P=new CustomEvent(yb);x.dispatchEvent(P),a.isClosePausedRef.current=!1}},T=P=>{!w.contains(P.relatedTarget)&&S()},C=()=>{w.contains(document.activeElement)||S()};return w.addEventListener("focusin",b),w.addEventListener("focusout",T),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",C),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[v,a.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:w})=>{const b=o().map(S=>{const T=S.ref.current,C=[T,...y8(T)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?b.reverse():b).flat()},[o]);return E.useEffect(()=>{const w=p.current;if(w){const x=b=>{var C,P,A;const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const k=document.activeElement,I=b.shiftKey;if(b.target===w&&I){(C=u.current)==null||C.focus();return}const V=y({tabbingDirection:I?"backwards":"forwards"}),J=V.findIndex(z=>z===k);r1(V.slice(J+1))?b.preventDefault():I?(P=u.current)==null||P.focus():(A=h.current)==null||A.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[o,y]),c.jsxs(q6,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(wb,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});r1(w)}}),c.jsx(qM.Slot,{scope:t,children:c.jsx(ht.ol,{tabIndex:-1,...s,ref:m})}),v&&c.jsx(wb,{ref:h,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});r1(w)}})]})});Zk.displayName=qk;var Kk="ToastFocusProxy",wb=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=hy(Kk,t);return c.jsx(dm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});wb.displayName=Kk;var py="Toast",o8="toast.swipeStart",l8="toast.swipeMove",c8="toast.swipeCancel",u8="toast.swipeEnd",Jk=E.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...a}=n,[o=!0,l]=wi({prop:r,defaultProp:i,onChange:s});return c.jsx(Wi,{present:t||o,children:c.jsx(h8,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:Xn(n.onPause),onResume:Xn(n.onResume),onSwipeStart:Ke(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(n.onSwipeMove,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ke(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(n.onSwipeEnd,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});Jk.displayName=py;var[d8,f8]=Xk(py,{onClose(){}}),h8=E.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:g,...v}=n,y=hy(py,t),[w,x]=E.useState(null),b=Ht(e,z=>x(z)),S=E.useRef(null),T=E.useRef(null),C=i||y.duration,P=E.useRef(0),A=E.useRef(C),k=E.useRef(0),{onToastAdd:I,onToastRemove:R}=y,U=Xn(()=>{var Q;(w==null?void 0:w.contains(document.activeElement))&&((Q=y.viewport)==null||Q.focus()),a()}),V=E.useCallback(z=>{!z||z===1/0||(window.clearTimeout(k.current),P.current=new Date().getTime(),k.current=window.setTimeout(U,z))},[U]);E.useEffect(()=>{const z=y.viewport;if(z){const Q=()=>{V(A.current),u==null||u()},W=()=>{const te=new Date().getTime()-P.current;A.current=A.current-te,window.clearTimeout(k.current),l==null||l()};return z.addEventListener(xb,W),z.addEventListener(yb,Q),()=>{z.removeEventListener(xb,W),z.removeEventListener(yb,Q)}}},[y.viewport,C,l,u,V]),E.useEffect(()=>{s&&!y.isClosePausedRef.current&&V(C)},[s,C,y.isClosePausedRef,V]),E.useEffect(()=>(I(),()=>R()),[I,R]);const J=E.useMemo(()=>w?sL(w):null,[w]);return y.viewport?c.jsxs(c.Fragment,{children:[J&&c.jsx(p8,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:J}),c.jsx(d8,{scope:t,onClose:U,children:iu.createPortal(c.jsx(qM.ItemSlot,{scope:t,children:c.jsx(Y6,{asChild:!0,onEscapeKeyDown:Ke(o,()=>{y.isFocusedToastEscapeKeyDownRef.current||U(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ke(n.onKeyDown,z=>{z.key==="Escape"&&(o==null||o(z.nativeEvent),z.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:Ke(n.onPointerDown,z=>{z.button===0&&(S.current={x:z.clientX,y:z.clientY})}),onPointerMove:Ke(n.onPointerMove,z=>{if(!S.current)return;const Q=z.clientX-S.current.x,W=z.clientY-S.current.y,te=!!T.current,O=["left","right"].includes(y.swipeDirection),B=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Y=O?B(0,Q):0,L=O?0:B(0,W),Z=z.pointerType==="touch"?10:2,oe={x:Y,y:L},de={originalEvent:z,delta:oe};te?(T.current=oe,Yg(l8,p,de,{discrete:!1})):WA(oe,y.swipeDirection,Z)?(T.current=oe,Yg(o8,h,de,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(Q)>Z||Math.abs(W)>Z)&&(S.current=null)}),onPointerUp:Ke(n.onPointerUp,z=>{const Q=T.current,W=z.target;if(W.hasPointerCapture(z.pointerId)&&W.releasePointerCapture(z.pointerId),T.current=null,S.current=null,Q){const te=z.currentTarget,O={originalEvent:z,delta:Q};WA(Q,y.swipeDirection,y.swipeThreshold)?Yg(u8,g,O,{discrete:!0}):Yg(c8,m,O,{discrete:!0}),te.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),p8=n=>{const{__scopeToast:e,children:t,...r}=n,i=hy(py,e),[s,a]=E.useState(!1),[o,l]=E.useState(!1);return v8(()=>a(!0)),E.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(fy,{asChild:!0,children:c.jsx(dm,{...r,children:s&&c.jsxs(c.Fragment,{children:[i.label," ",t]})})})},m8="ToastTitle",Qk=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return c.jsx(ht.div,{...r,ref:e})});Qk.displayName=m8;var g8="ToastDescription",eL=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return c.jsx(ht.div,{...r,ref:e})});eL.displayName=g8;var tL="ToastAction",nL=E.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?c.jsx(iL,{altText:t,asChild:!0,children:c.jsx(ZM,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tL}\`. Expected non-empty \`string\`.`),null)});nL.displayName=tL;var rL="ToastClose",ZM=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=f8(rL,t);return c.jsx(iL,{asChild:!0,children:c.jsx(ht.button,{type:"button",...r,ref:e,onClick:Ke(n.onClick,i.onClose)})})});ZM.displayName=rL;var iL=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return c.jsx(ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function sL(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),x8(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...sL(r))}}),e}function Yg(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Hk(i,s):i.dispatchEvent(s)}var WA=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function v8(n=()=>{}){const e=Xn(n);yr(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function x8(n){return n.nodeType===n.ELEMENT_NODE}function y8(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function r1(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var w8=Yk,aL=Zk,oL=Jk,lL=Qk,cL=eL,uL=nL,dL=ZM;function fL(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=fL(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function hL(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=fL(n))&&(r&&(r+=" "),r+=e);return r}const GA=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,$A=hL,pf=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return $A(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const h=t==null?void 0:t[u],p=s==null?void 0:s[u];if(h===null)return null;const m=GA(h)||GA(p);return i[u][m]}),o=t&&Object.entries(t).reduce((u,h)=>{let[p,m]=h;return m===void 0||(u[p]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:m,...g}=h;return Object.entries(g).every(v=>{let[y,w]=v;return Array.isArray(w)?w.includes({...s,...o}[y]):{...s,...o}[y]===w})?[...u,p,m]:u},[]);return $A(n,a,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pL=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=E.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>E.createElement("svg",{ref:l,...S8,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:pL("lucide",i),...o},[...a.map(([u,h])=>E.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(n,e)=>{const t=E.forwardRef(({className:r,...i},s)=>E.createElement(b8,{ref:s,iconNode:e,className:pL(`lucide-${_8(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=Je("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Je("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=Je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Je("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=Je("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Je("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Je("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=Je("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=Je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=Je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=Je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=Je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=Je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=Je("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=Je("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=Je("FileDigit",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["rect",{width:"4",height:"6",x:"2",y:"12",rx:"2",key:"jm304g"}],["path",{d:"M10 12h2v6",key:"12zw74"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=Je("FilePlus2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Je("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Je("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=Je("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Je("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=Je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=Je("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=Je("Hop",[["path",{d:"M10.82 16.12c1.69.6 3.91.79 5.18.85.55.03 1-.42.97-.97-.06-1.27-.26-3.5-.85-5.18",key:"18lxf1"}],["path",{d:"M11.5 6.5c1.64 0 5-.38 6.71-1.07.52-.2.55-.82.12-1.17A10 10 0 0 0 4.26 18.33c.35.43.96.4 1.17-.12.69-1.71 1.07-5.07 1.07-6.71 1.34.45 3.1.9 4.88.62a.88.88 0 0 0 .73-.74c.3-2.14-.15-3.5-.61-4.88",key:"vtfxrw"}],["path",{d:"M15.62 16.95c.2.85.62 2.76.5 4.28a.77.77 0 0 1-.9.7 16.64 16.64 0 0 1-4.08-1.36",key:"13hl71"}],["path",{d:"M16.13 21.05c1.65.63 3.68.84 4.87.91a.9.9 0 0 0 .96-.96 17.68 17.68 0 0 0-.9-4.87",key:"1sl8oj"}],["path",{d:"M16.94 15.62c.86.2 2.77.62 4.29.5a.77.77 0 0 0 .7-.9 16.64 16.64 0 0 0-1.36-4.08",key:"19c6kt"}],["path",{d:"M17.99 5.52a20.82 20.82 0 0 1 3.15 4.5.8.8 0 0 1-.68 1.13c-2.33.2-5.3-.32-8.27-1.57",key:"85ghs3"}],["path",{d:"M4.93 4.93 3 3a.7.7 0 0 1 0-1",key:"x087yj"}],["path",{d:"M9.58 12.18c1.24 2.98 1.77 5.95 1.57 8.28a.8.8 0 0 1-1.13.68 20.82 20.82 0 0 1-4.5-3.15",key:"11xdqo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=Je("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=Je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=Je("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=Je("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=Je("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=Je("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=Je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Je("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=Je("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Je("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Je("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=Je("Satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Je("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=Je("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=Je("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=Je("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Je("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=Je("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=Je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Je("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=Je("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=Je("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=Je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=Je("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=Je("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),QM="-",eW=n=>{const e=nW(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const o=a.split(QM);return o[0]===""&&o.length!==1&&o.shift(),SL(o,e)||tW(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},SL=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?SL(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(QM);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},iR=/^\[(.+)\]$/,tW=n=>{if(iR.test(n)){const e=iR.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},nW=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return iW(Object.entries(n.classGroups),t).forEach(([s,a])=>{Mb(a,r,s,e)}),r},Mb=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:sR(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(rW(i)){Mb(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,a])=>{Mb(a,sR(e,s),t,r)})})},sR=(n,e)=>{let t=n;return e.split(QM).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},rW=n=>n.isThemeGetter,iW=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[t,i]}):n,sW=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,a)=>{t.set(s,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){t.has(s)?t.set(s,a):i(s,a)}}},bL="!",aW=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,h=0,p;for(let w=0;w<o.length;w++){let x=o[w];if(u===0){if(x===i&&(r||o.slice(w,w+s)===e)){l.push(o.slice(h,w)),h=w+s;continue}if(x==="/"){p=w;continue}}x==="["?u++:x==="]"&&u--}const m=l.length===0?o:o.substring(h),g=m.startsWith(bL),v=g?m.substring(1):m,y=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return t?o=>t({className:o,parseClassName:a}):a},oW=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},lW=n=>({cache:sW(n.cacheSize),parseClassName:aW(n),...eW(n)}),cW=/\s+/,uW=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=n.trim().split(cW);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=t(u);let v=!!g,y=r(v?m.substring(0,g):m);if(!y){if(!v){o=u+(o.length>0?" "+o:o);continue}if(y=r(m),!y){o=u+(o.length>0?" "+o:o);continue}v=!1}const w=oW(h).join(":"),x=p?w+bL:w,b=x+y;if(s.includes(b))continue;s.push(b);const S=i(y,v);for(let T=0;T<S.length;++T){const C=S[T];s.push(x+C)}o=u+(o.length>0?" "+o:o)}return o};function dW(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=EL(e))&&(r&&(r+=" "),r+=t);return r}const EL=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=EL(n[r]))&&(t&&(t+=" "),t+=e);return t};function fW(n,...e){let t,r,i,s=a;function a(l){const u=e.reduce((h,p)=>p(h),n());return t=lW(u),r=t.cache.get,i=t.cache.set,s=o,o(l)}function o(l){const u=r(l);if(u)return u;const h=uW(l,t);return i(l,h),h}return function(){return s(dW.apply(null,arguments))}}const xn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},ML=/^\[(?:([a-z-]+):)?(.+)\]$/i,hW=/^\d+\/\d+$/,pW=new Set(["px","full","screen"]),mW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=n=>Rd(n)||pW.has(n)||hW.test(n),Oo=n=>gf(n,"length",CW),Rd=n=>!!n&&!Number.isNaN(Number(n)),a1=n=>gf(n,"number",Rd),hh=n=>!!n&&Number.isInteger(Number(n)),wW=n=>n.endsWith("%")&&Rd(n.slice(0,-1)),kt=n=>ML.test(n),jo=n=>mW.test(n),_W=new Set(["length","size","percentage"]),SW=n=>gf(n,_W,TL),bW=n=>gf(n,"position",TL),EW=new Set(["image","url"]),MW=n=>gf(n,EW,AW),TW=n=>gf(n,"",NW),ph=()=>!0,gf=(n,e,t)=>{const r=ML.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},CW=n=>gW.test(n)&&!vW.test(n),TL=()=>!1,NW=n=>xW.test(n),AW=n=>yW.test(n),RW=()=>{const n=xn("colors"),e=xn("spacing"),t=xn("blur"),r=xn("brightness"),i=xn("borderColor"),s=xn("borderRadius"),a=xn("borderSpacing"),o=xn("borderWidth"),l=xn("contrast"),u=xn("grayscale"),h=xn("hueRotate"),p=xn("invert"),m=xn("gap"),g=xn("gradientColorStops"),v=xn("gradientColorStopPositions"),y=xn("inset"),w=xn("margin"),x=xn("opacity"),b=xn("padding"),S=xn("saturate"),T=xn("scale"),C=xn("sepia"),P=xn("skew"),A=xn("space"),k=xn("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",kt,e],V=()=>[kt,e],J=()=>["",Oa,Oo],z=()=>["auto",Rd,kt],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",kt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Rd,kt];return{cacheSize:500,separator:":",theme:{colors:[ph],spacing:[Oa,Oo],blur:["none","",jo,kt],brightness:L(),borderColor:[n],borderRadius:["none","","full",jo,kt],borderSpacing:V(),borderWidth:J(),contrast:L(),grayscale:B(),hueRotate:L(),invert:B(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[wW,Oo],inset:U(),margin:U(),opacity:L(),padding:V(),saturate:L(),scale:L(),sepia:B(),skew:L(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[jo]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),kt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hh,kt]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",hh,kt]}],"grid-cols":[{"grid-cols":[ph]}],"col-start-end":[{col:["auto",{span:["full",hh,kt]},kt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[ph]}],"row-start-end":[{row:["auto",{span:[hh,kt]},kt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,e]}],"min-w":[{"min-w":[kt,e,"min","max","fit"]}],"max-w":[{"max-w":[kt,e,"none","full","min","max","fit","prose",{screen:[jo]},jo]}],h:[{h:[kt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",jo,Oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",a1]}],"font-family":[{font:[ph]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",Rd,a1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oa,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oa,Oo]}],"underline-offset":[{"underline-offset":["auto",Oa,kt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),bW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MW]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Oa,kt]}],"outline-w":[{outline:[Oa,Oo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Oa,Oo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",jo,TW]}],"shadow-color":[{shadow:[ph]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",jo,kt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[hh,kt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Oa,Oo,a1]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PW=fW(RW);function Qe(...n){return PW(hL(n))}const IW=w8,CL=E.forwardRef(({className:n,...e},t)=>c.jsx(aL,{ref:t,className:Qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));CL.displayName=aL.displayName;const DW=pf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),NL=E.forwardRef(({className:n,variant:e,...t},r)=>c.jsx(oL,{ref:r,className:Qe(DW({variant:e}),n),...t}));NL.displayName=oL.displayName;const kW=E.forwardRef(({className:n,...e},t)=>c.jsx(uL,{ref:t,className:Qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));kW.displayName=uL.displayName;const AL=E.forwardRef(({className:n,...e},t)=>c.jsx(dL,{ref:t,className:Qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:c.jsx(Z0,{className:"h-4 w-4"})}));AL.displayName=dL.displayName;const RL=E.forwardRef(({className:n,...e},t)=>c.jsx(lL,{ref:t,className:Qe("text-sm font-semibold",n),...e}));RL.displayName=lL.displayName;const PL=E.forwardRef(({className:n,...e},t)=>c.jsx(cL,{ref:t,className:Qe("text-sm opacity-90",n),...e}));PL.displayName=cL.displayName;function LW(){const{toasts:n}=P6();return c.jsxs(IW,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return c.jsxs(NL,{...s,children:[c.jsxs("div",{className:"grid gap-1",children:[t&&c.jsx(RL,{children:t}),r&&c.jsx(PL,{children:r})]}),i,c.jsx(AL,{})]},e)}),c.jsx(CL,{})]})}var OW=n=>{switch(n){case"success":return UW;case"info":return BW;case"warning":return zW;case"error":return VW;default:return null}},jW=Array(12).fill(0),FW=({visible:n})=>me.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},me.createElement("div",{className:"sonner-spinner"},jW.map((e,t)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),UW=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zW=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BW=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VW=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HW=()=>{let[n,e]=me.useState(document.hidden);return me.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Tb=1,WW=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,i=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:Tb++,s=this.toasts.find(o=>o.id===i),a=n.dismissible===void 0?!0:n.dismissible;return s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...n,id:i,title:t}),{...o,...n,id:i,dismissible:a,title:t}):o):this.addToast({title:t,...r,dismissible:a,id:i}),i},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),i=t!==void 0;return r.then(async s=>{if($W(s)&&!s.ok){i=!1;let a=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,o=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:t,type:"error",message:a,description:o})}else if(e.success!==void 0){i=!1;let a=typeof e.success=="function"?await e.success(s):e.success,o=typeof e.description=="function"?await e.description(s):e.description;this.create({id:t,type:"success",message:a,description:o})}}).catch(async s=>{if(e.error!==void 0){i=!1;let a=typeof e.error=="function"?await e.error(s):e.error,o=typeof e.description=="function"?await e.description(s):e.description;this.create({id:t,type:"error",message:a,description:o})}}).finally(()=>{var s;i&&(this.dismiss(t),t=void 0),(s=e.finally)==null||s.call(e)}),t},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||Tb++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},Ii=new WW,GW=(n,e)=>{let t=(e==null?void 0:e.id)||Tb++;return Ii.addToast({title:n,...e,id:t}),t},$W=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",XW=GW,YW=()=>Ii.toasts,en=Object.assign(XW,{success:Ii.success,info:Ii.info,warning:Ii.warning,error:Ii.error,custom:Ii.custom,message:Ii.message,promise:Ii.promise,dismiss:Ii.dismiss,loading:Ii.loading},{getHistory:YW});function qW(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}qW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qg(n){return n.label!==void 0}var ZW=3,KW="32px",JW=4e3,QW=356,eG=14,tG=20,nG=200;function rG(...n){return n.filter(Boolean).join(" ")}var iG=n=>{var e,t,r,i,s,a,o,l,u,h;let{invert:p,toast:m,unstyled:g,interacting:v,setHeights:y,visibleToasts:w,heights:x,index:b,toasts:S,expanded:T,removeToast:C,defaultRichColors:P,closeButton:A,style:k,cancelButtonStyle:I,actionButtonStyle:R,className:U="",descriptionClassName:V="",duration:J,position:z,gap:Q,loadingIcon:W,expandByDefault:te,classNames:O,icons:B,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:L,cn:Z}=n,[oe,de]=me.useState(!1),[ye,we]=me.useState(!1),[ne,fe]=me.useState(!1),[Le,ke]=me.useState(!1),[Re,X]=me.useState(0),[Ee,pe]=me.useState(0),Pe=me.useRef(null),be=me.useRef(null),et=b===0,H=b+1<=w,ee=m.type,se=m.dismissible!==!1,Me=m.className||"",Ae=m.descriptionClassName||"",F=me.useMemo(()=>x.findIndex(je=>je.toastId===m.id)||0,[x,m.id]),j=me.useMemo(()=>{var je;return(je=m.closeButton)!=null?je:A},[m.closeButton,A]),ie=me.useMemo(()=>m.duration||J||JW,[m.duration,J]),Te=me.useRef(0),_e=me.useRef(0),De=me.useRef(0),tt=me.useRef(null),[Ue,We]=z.split("-"),mt=me.useMemo(()=>x.reduce((je,K,Ce)=>Ce>=F?je:je+K.height,0),[x,F]),zt=HW(),ze=m.invert||p,Wt=ee==="loading";_e.current=me.useMemo(()=>F*Q+mt,[F,mt]),me.useEffect(()=>{de(!0)},[]),me.useLayoutEffect(()=>{if(!oe)return;let je=be.current,K=je.style.height;je.style.height="auto";let Ce=je.getBoundingClientRect().height;je.style.height=K,pe(Ce),y(Oe=>Oe.find(Ge=>Ge.toastId===m.id)?Oe.map(Ge=>Ge.toastId===m.id?{...Ge,height:Ce}:Ge):[{toastId:m.id,height:Ce,position:m.position},...Oe])},[oe,m.title,m.description,y,m.id]);let pt=me.useCallback(()=>{we(!0),X(_e.current),y(je=>je.filter(K=>K.toastId!==m.id)),setTimeout(()=>{C(m)},nG)},[m,C,y,_e]);me.useEffect(()=>{if(m.promise&&ee==="loading"||m.duration===1/0||m.type==="loading")return;let je,K=ie;return T||v||L&&zt?(()=>{if(De.current<Te.current){let Ce=new Date().getTime()-Te.current;K=K-Ce}De.current=new Date().getTime()})():K!==1/0&&(Te.current=new Date().getTime(),je=setTimeout(()=>{var Ce;(Ce=m.onAutoClose)==null||Ce.call(m,m),pt()},K)),()=>clearTimeout(je)},[T,v,te,m,ie,pt,m.promise,ee,L,zt]),me.useEffect(()=>{let je=be.current;if(je){let K=je.getBoundingClientRect().height;return pe(K),y(Ce=>[{toastId:m.id,height:K,position:m.position},...Ce]),()=>y(Ce=>Ce.filter(Oe=>Oe.toastId!==m.id))}},[y,m.id]),me.useEffect(()=>{m.delete&&pt()},[pt,m.delete]);function xt(){return B!=null&&B.loading?me.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},B.loading):W?me.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},W):me.createElement(FW,{visible:ee==="loading"})}return me.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:be,className:Z(U,Me,O==null?void 0:O.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[ee],(t=m==null?void 0:m.classNames)==null?void 0:t[ee]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:P,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":oe,"data-promise":!!m.promise,"data-removed":ye,"data-visible":H,"data-y-position":Ue,"data-x-position":We,"data-index":b,"data-front":et,"data-swiping":ne,"data-dismissible":se,"data-type":ee,"data-invert":ze,"data-swipe-out":Le,"data-expanded":!!(T||te&&oe),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${ye?Re:_e.current}px`,"--initial-height":te?"auto":`${Ee}px`,...k,...m.style},onPointerDown:je=>{Wt||!se||(Pe.current=new Date,X(_e.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(fe(!0),tt.current={x:je.clientX,y:je.clientY}))},onPointerUp:()=>{var je,K,Ce,Oe;if(Le||!se)return;tt.current=null;let Ge=Number(((je=be.current)==null?void 0:je.style.getPropertyValue("--swipe-amount").replace("px",""))||0),$e=new Date().getTime()-((K=Pe.current)==null?void 0:K.getTime()),Ie=Math.abs(Ge)/$e;if(Math.abs(Ge)>=tG||Ie>.11){X(_e.current),(Ce=m.onDismiss)==null||Ce.call(m,m),pt(),ke(!0);return}(Oe=be.current)==null||Oe.style.setProperty("--swipe-amount","0px"),fe(!1)},onPointerMove:je=>{var K;if(!tt.current||!se)return;let Ce=je.clientY-tt.current.y,Oe=je.clientX-tt.current.x,Ge=(Ue==="top"?Math.min:Math.max)(0,Ce),$e=je.pointerType==="touch"?10:2;Math.abs(Ge)>$e?(K=be.current)==null||K.style.setProperty("--swipe-amount",`${Ce}px`):Math.abs(Oe)>$e&&(tt.current=null)}},j&&!m.jsx?me.createElement("button",{"aria-label":Y,"data-disabled":Wt,"data-close-button":!0,onClick:Wt||!se?()=>{}:()=>{var je;pt(),(je=m.onDismiss)==null||je.call(m,m)},className:Z(O==null?void 0:O.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||me.isValidElement(m.title)?m.jsx||m.title:me.createElement(me.Fragment,null,ee||m.icon||m.promise?me.createElement("div",{"data-icon":"",className:Z(O==null?void 0:O.icon,(s=m==null?void 0:m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||xt():null,m.type!=="loading"?m.icon||(B==null?void 0:B[ee])||OW(ee):null):null,me.createElement("div",{"data-content":"",className:Z(O==null?void 0:O.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},me.createElement("div",{"data-title":"",className:Z(O==null?void 0:O.title,(o=m==null?void 0:m.classNames)==null?void 0:o.title)},m.title),m.description?me.createElement("div",{"data-description":"",className:Z(V,Ae,O==null?void 0:O.description,(l=m==null?void 0:m.classNames)==null?void 0:l.description)},m.description):null),me.isValidElement(m.cancel)?m.cancel:m.cancel&&qg(m.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:je=>{var K,Ce;qg(m.cancel)&&se&&((Ce=(K=m.cancel).onClick)==null||Ce.call(K,je),pt())},className:Z(O==null?void 0:O.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,me.isValidElement(m.action)?m.action:m.action&&qg(m.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:je=>{var K,Ce;qg(m.action)&&(je.defaultPrevented||((Ce=(K=m.action).onClick)==null||Ce.call(K,je),pt()))},className:Z(O==null?void 0:O.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function aR(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var sG=n=>{let{invert:e,position:t="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:o,theme:l="light",richColors:u,duration:h,style:p,visibleToasts:m=ZW,toastOptions:g,dir:v=aR(),gap:y=eG,loadingIcon:w,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:S,cn:T=rG}=n,[C,P]=me.useState([]),A=me.useMemo(()=>Array.from(new Set([t].concat(C.filter(L=>L.position).map(L=>L.position)))),[C,t]),[k,I]=me.useState([]),[R,U]=me.useState(!1),[V,J]=me.useState(!1),[z,Q]=me.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=me.useRef(null),te=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=me.useRef(null),B=me.useRef(!1),Y=me.useCallback(L=>{var Z;(Z=C.find(oe=>oe.id===L.id))!=null&&Z.delete||Ii.dismiss(L.id),P(oe=>oe.filter(({id:de})=>de!==L.id))},[C]);return me.useEffect(()=>Ii.subscribe(L=>{if(L.dismiss){P(Z=>Z.map(oe=>oe.id===L.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{zk.flushSync(()=>{P(Z=>{let oe=Z.findIndex(de=>de.id===L.id);return oe!==-1?[...Z.slice(0,oe),{...Z[oe],...L},...Z.slice(oe+1)]:[L,...Z]})})})}),[]),me.useEffect(()=>{if(l!=="system"){Q(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{Q(L?"dark":"light")})},[l]),me.useEffect(()=>{C.length<=1&&U(!1)},[C]),me.useEffect(()=>{let L=Z=>{var oe,de;r.every(ye=>Z[ye]||Z.code===ye)&&(U(!0),(oe=W.current)==null||oe.focus()),Z.code==="Escape"&&(document.activeElement===W.current||(de=W.current)!=null&&de.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[r]),me.useEffect(()=>{if(W.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,B.current=!1)}},[W.current]),C.length?me.createElement("section",{"aria-label":`${b} ${te}`,tabIndex:-1},A.map((L,Z)=>{var oe;let[de,ye]=L.split("-");return me.createElement("ol",{key:L,dir:v==="auto"?aR():v,tabIndex:-1,ref:W,className:a,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":de,"data-x-position":ye,style:{"--front-toast-height":`${((oe=k[0])==null?void 0:oe.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||KW,"--width":`${QW}px`,"--gap":`${y}px`,...p},onBlur:we=>{B.current&&!we.currentTarget.contains(we.relatedTarget)&&(B.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||B.current||(B.current=!0,O.current=we.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{V||U(!1)},onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},C.filter(we=>!we.position&&Z===0||we.position===L).map((we,ne)=>{var fe,Le;return me.createElement(iG,{key:we.id,icons:x,index:ne,toast:we,defaultRichColors:u,duration:(fe=g==null?void 0:g.duration)!=null?fe:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:m,closeButton:(Le=g==null?void 0:g.closeButton)!=null?Le:s,interacting:V,position:L,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Y,toasts:C.filter(ke=>ke.position==we.position),heights:k.filter(ke=>ke.position==we.position),setHeights:I,expandByDefault:i,gap:y,loadingIcon:w,expanded:R,pauseWhenPageIsHidden:S,cn:T})}))})):null};const aG=({...n})=>c.jsx(sG,{className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n});var oG=jD.useId||(()=>{}),lG=0;function ga(n){const[e,t]=E.useState(oG());return yr(()=>{t(r=>r??String(lG++))},[n]),e?`radix-${e}`:""}const cG=["top","right","bottom","left"],El=Math.min,ki=Math.max,K0=Math.round,Zg=Math.floor,Ml=n=>({x:n,y:n}),uG={left:"right",right:"left",bottom:"top",top:"bottom"},dG={start:"end",end:"start"};function Cb(n,e,t){return ki(n,El(e,t))}function uo(n,e){return typeof n=="function"?n(e):n}function fo(n){return n.split("-")[0]}function vf(n){return n.split("-")[1]}function eT(n){return n==="x"?"y":"x"}function tT(n){return n==="y"?"height":"width"}function Tl(n){return["top","bottom"].includes(fo(n))?"y":"x"}function nT(n){return eT(Tl(n))}function fG(n,e,t){t===void 0&&(t=!1);const r=vf(n),i=nT(n),s=tT(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=J0(a)),[a,J0(a)]}function hG(n){const e=J0(n);return[Nb(n),e,Nb(e)]}function Nb(n){return n.replace(/start|end/g,e=>dG[e])}function pG(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function mG(n,e,t,r){const i=vf(n);let s=pG(fo(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Nb)))),s}function J0(n){return n.replace(/left|right|bottom|top/g,e=>uG[e])}function gG(n){return{top:0,right:0,bottom:0,left:0,...n}}function IL(n){return typeof n!="number"?gG(n):{top:n,right:n,bottom:n,left:n}}function Q0(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function oR(n,e,t){let{reference:r,floating:i}=n;const s=Tl(e),a=nT(e),o=tT(a),l=fo(e),u=s==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let g;switch(l){case"top":g={x:h,y:r.y-i.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-i.width,y:p};break;default:g={x:r.x,y:r.y}}switch(vf(e)){case"start":g[a]-=m*(t&&u?-1:1);break;case"end":g[a]+=m*(t&&u?-1:1);break}return g}const vG=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:h,y:p}=oR(u,r,l),m=r,g={},v=0;for(let y=0;y<o.length;y++){const{name:w,fn:x}=o[y],{x:b,y:S,data:T,reset:C}=await x({x:h,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:u,platform:a,elements:{reference:n,floating:e}});h=b??h,p=S??p,g={...g,[w]:{...g[w],...T}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:h,y:p}=oR(u,m,l)),y=-1)}return{x:h,y:p,placement:m,strategy:i,middlewareData:g}};async function Tp(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=uo(e,n),v=IL(g),w=o[m?p==="floating"?"reference":"floating":p],x=Q0(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:l})),b=p==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),T=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},C=Q0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:S,strategy:l}):b);return{top:(x.top-C.top+v.top)/T.y,bottom:(C.bottom-x.bottom+v.bottom)/T.y,left:(x.left-C.left+v.left)/T.x,right:(C.right-x.right+v.right)/T.x}}const xG=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:h=0}=uo(n,e)||{};if(u==null)return{};const p=IL(h),m={x:t,y:r},g=nT(i),v=tT(g),y=await a.getDimensions(u),w=g==="y",x=w?"top":"left",b=w?"bottom":"right",S=w?"clientHeight":"clientWidth",T=s.reference[v]+s.reference[g]-m[g]-s.floating[v],C=m[g]-s.reference[g],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let A=P?P[S]:0;(!A||!await(a.isElement==null?void 0:a.isElement(P)))&&(A=o.floating[S]||s.floating[v]);const k=T/2-C/2,I=A/2-y[v]/2-1,R=El(p[x],I),U=El(p[b],I),V=R,J=A-y[v]-U,z=A/2-y[v]/2+k,Q=Cb(V,z,J),W=!l.arrow&&vf(i)!=null&&z!==Q&&s.reference[v]/2-(z<V?R:U)-y[v]/2<0,te=W?z<V?z-V:z-J:0;return{[g]:m[g]+te,data:{[g]:Q,centerOffset:z-Q-te,...W&&{alignmentOffset:te}},reset:W}}}),yG=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=uo(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=fo(i),b=Tl(o),S=fo(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=m||(S||!y?[J0(o)]:hG(o)),P=v!=="none";!m&&P&&C.push(...mG(o,y,v,T));const A=[o,...C],k=await Tp(e,w),I=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&I.push(k[x]),p){const z=fG(i,a,T);I.push(k[z[0]],k[z[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(z=>z<=0)){var U,V;const z=(((U=s.flip)==null?void 0:U.index)||0)+1,Q=A[z];if(Q)return{data:{index:z,overflows:R},reset:{placement:Q}};let W=(V=R.filter(te=>te.overflows[0]<=0).sort((te,O)=>te.overflows[1]-O.overflows[1])[0])==null?void 0:V.placement;if(!W)switch(g){case"bestFit":{var J;const te=(J=R.filter(O=>{if(P){const B=Tl(O.placement);return B===b||B==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((O,B)=>O[1]-B[1])[0])==null?void 0:J[0];te&&(W=te);break}case"initialPlacement":W=o;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function lR(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function cR(n){return cG.some(e=>n[e]>=0)}const wG=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=uo(n,e);switch(r){case"referenceHidden":{const s=await Tp(e,{...i,elementContext:"reference"}),a=lR(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:cR(a)}}}case"escaped":{const s=await Tp(e,{...i,altBoundary:!0}),a=lR(s,t.floating);return{data:{escapedOffsets:a,escaped:cR(a)}}}default:return{}}}}};async function _G(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=fo(t),o=vf(t),l=Tl(t)==="y",u=["left","top"].includes(a)?-1:1,h=s&&l?-1:1,p=uo(e,n);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof v=="number"&&(g=o==="end"?v*-1:v),l?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const SG=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await _G(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},bG=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x,y:b}=w;return{x,y:b}}},...l}=uo(n,e),u={x:t,y:r},h=await Tp(e,l),p=Tl(fo(i)),m=eT(p);let g=u[m],v=u[p];if(s){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",b=g+h[w],S=g-h[x];g=Cb(b,g,S)}if(a){const w=p==="y"?"top":"left",x=p==="y"?"bottom":"right",b=v+h[w],S=v-h[x];v=Cb(b,v,S)}const y=o.fn({...e,[m]:g,[p]:v});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[m]:s,[p]:a}}}}}},EG=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=uo(n,e),h={x:t,y:r},p=Tl(i),m=eT(p);let g=h[m],v=h[p];const y=uo(o,e),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=m==="y"?"height":"width",T=s.reference[m]-s.floating[S]+w.mainAxis,C=s.reference[m]+s.reference[S]-w.mainAxis;g<T?g=T:g>C&&(g=C)}if(u){var x,b;const S=m==="y"?"width":"height",T=["top","left"].includes(fo(i)),C=s.reference[p]-s.floating[S]+(T&&((x=a.offset)==null?void 0:x[p])||0)+(T?0:w.crossAxis),P=s.reference[p]+s.reference[S]+(T?0:((b=a.offset)==null?void 0:b[p])||0)-(T?w.crossAxis:0);v<C?v=C:v>P&&(v=P)}return{[m]:g,[p]:v}}}},MG=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...u}=uo(n,e),h=await Tp(e,u),p=fo(i),m=vf(i),g=Tl(i)==="y",{width:v,height:y}=s.floating;let w,x;p==="top"||p==="bottom"?(w=p,x=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=p,w=m==="end"?"top":"bottom");const b=y-h.top-h.bottom,S=v-h.left-h.right,T=El(y-h[w],b),C=El(v-h[x],S),P=!e.middlewareData.shift;let A=T,k=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(k=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=b),P&&!m){const R=ki(h.left,0),U=ki(h.right,0),V=ki(h.top,0),J=ki(h.bottom,0);g?k=v-2*(R!==0||U!==0?R+U:ki(h.left,h.right)):A=y-2*(V!==0||J!==0?V+J:ki(h.top,h.bottom))}await l({...e,availableWidth:k,availableHeight:A});const I=await a.getDimensions(o.floating);return v!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function my(){return typeof window<"u"}function xf(n){return DL(n)?(n.nodeName||"").toLowerCase():"#document"}function Fi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ta(n){var e;return(e=(DL(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function DL(n){return my()?n instanceof Node||n instanceof Fi(n).Node:!1}function Ds(n){return my()?n instanceof Element||n instanceof Fi(n).Element:!1}function _a(n){return my()?n instanceof HTMLElement||n instanceof Fi(n).HTMLElement:!1}function uR(n){return!my()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Fi(n).ShadowRoot}function fm(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ks(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function TG(n){return["table","td","th"].includes(xf(n))}function gy(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function rT(n){const e=iT(),t=Ds(n)?ks(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function CG(n){let e=Cl(n);for(;_a(e)&&!Jd(e);){if(rT(e))return e;if(gy(e))return null;e=Cl(e)}return null}function iT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jd(n){return["html","body","#document"].includes(xf(n))}function ks(n){return Fi(n).getComputedStyle(n)}function vy(n){return Ds(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Cl(n){if(xf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||uR(n)&&n.host||Ta(n);return uR(e)?e.host:e}function kL(n){const e=Cl(n);return Jd(e)?n.ownerDocument?n.ownerDocument.body:n.body:_a(e)&&fm(e)?e:kL(e)}function Cp(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=kL(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=Fi(i);if(s){const o=Ab(a);return e.concat(a,a.visualViewport||[],fm(i)?i:[],o&&t?Cp(o):[])}return e.concat(i,Cp(i,[],t))}function Ab(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function LL(n){const e=ks(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=_a(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,o=K0(t)!==s||K0(r)!==a;return o&&(t=s,r=a),{width:t,height:r,$:o}}function sT(n){return Ds(n)?n:n.contextElement}function Pd(n){const e=sT(n);if(!_a(e))return Ml(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=LL(e);let a=(s?K0(t.width):t.width)/r,o=(s?K0(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const NG=Ml(0);function OL(n){const e=Fi(n);return!iT()||!e.visualViewport?NG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AG(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Fi(n)?!1:e}function Wc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=sT(n);let a=Ml(1);e&&(r?Ds(r)&&(a=Pd(r)):a=Pd(n));const o=AG(s,t,r)?OL(s):Ml(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,h=i.width/a.x,p=i.height/a.y;if(s){const m=Fi(s),g=r&&Ds(r)?Fi(r):r;let v=m,y=Ab(v);for(;y&&r&&g!==v;){const w=Pd(y),x=y.getBoundingClientRect(),b=ks(y),S=x.left+(y.clientLeft+parseFloat(b.paddingLeft))*w.x,T=x.top+(y.clientTop+parseFloat(b.paddingTop))*w.y;l*=w.x,u*=w.y,h*=w.x,p*=w.y,l+=S,u+=T,v=Fi(y),y=Ab(v)}}return Q0({width:h,height:p,x:l,y:u})}function RG(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=Ta(r),o=e?gy(e.floating):!1;if(r===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},u=Ml(1);const h=Ml(0),p=_a(r);if((p||!p&&!s)&&((xf(r)!=="body"||fm(a))&&(l=vy(r)),_a(r))){const m=Wc(r);u=Pd(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+h.x,y:t.y*u.y-l.scrollTop*u.y+h.y}}function PG(n){return Array.from(n.getClientRects())}function Rb(n,e){const t=vy(n).scrollLeft;return e?e.left+t:Wc(Ta(n)).left+t}function IG(n){const e=Ta(n),t=vy(n),r=n.ownerDocument.body,i=ki(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ki(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+Rb(n);const o=-t.scrollTop;return ks(r).direction==="rtl"&&(a+=ki(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function DG(n,e){const t=Fi(n),r=Ta(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=iT();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function kG(n,e){const t=Wc(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=_a(n)?Pd(n):Ml(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function dR(n,e,t){let r;if(e==="viewport")r=DG(n,t);else if(e==="document")r=IG(Ta(n));else if(Ds(e))r=kG(e,t);else{const i=OL(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return Q0(r)}function jL(n,e){const t=Cl(n);return t===e||!Ds(t)||Jd(t)?!1:ks(t).position==="fixed"||jL(t,e)}function LG(n,e){const t=e.get(n);if(t)return t;let r=Cp(n,[],!1).filter(o=>Ds(o)&&xf(o)!=="body"),i=null;const s=ks(n).position==="fixed";let a=s?Cl(n):n;for(;Ds(a)&&!Jd(a);){const o=ks(a),l=rT(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||fm(a)&&!l&&jL(n,a))?r=r.filter(h=>h!==a):i=o,a=Cl(a)}return e.set(n,r),r}function OG(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?gy(e)?[]:LG(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((u,h)=>{const p=dR(e,h,i);return u.top=ki(p.top,u.top),u.right=El(p.right,u.right),u.bottom=El(p.bottom,u.bottom),u.left=ki(p.left,u.left),u},dR(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function jG(n){const{width:e,height:t}=LL(n);return{width:e,height:t}}function FG(n,e,t){const r=_a(e),i=Ta(e),s=t==="fixed",a=Wc(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Ml(0);if(r||!r&&!s)if((xf(e)!=="body"||fm(i))&&(o=vy(e)),r){const g=Wc(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=Rb(i));let u=0,h=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();h=g.top+o.scrollTop,u=g.left+o.scrollLeft-Rb(i,g)}const p=a.left+o.scrollLeft-l.x-u,m=a.top+o.scrollTop-l.y-h;return{x:p,y:m,width:a.width,height:a.height}}function o1(n){return ks(n).position==="static"}function fR(n,e){if(!_a(n)||ks(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ta(n)===t&&(t=t.ownerDocument.body),t}function FL(n,e){const t=Fi(n);if(gy(n))return t;if(!_a(n)){let i=Cl(n);for(;i&&!Jd(i);){if(Ds(i)&&!o1(i))return i;i=Cl(i)}return t}let r=fR(n,e);for(;r&&TG(r)&&o1(r);)r=fR(r,e);return r&&Jd(r)&&o1(r)&&!rT(r)?t:r||CG(n)||t}const UG=async function(n){const e=this.getOffsetParent||FL,t=this.getDimensions,r=await t(n.floating);return{reference:FG(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zG(n){return ks(n).direction==="rtl"}const BG={convertOffsetParentRelativeRectToViewportRelativeRect:RG,getDocumentElement:Ta,getClippingRect:OG,getOffsetParent:FL,getElementRects:UG,getClientRects:PG,getDimensions:jG,getScale:Pd,isElement:Ds,isRTL:zG};function VG(n,e){let t=null,r;const i=Ta(n);function s(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:u,top:h,width:p,height:m}=n.getBoundingClientRect();if(o||e(),!p||!m)return;const g=Zg(h),v=Zg(i.clientWidth-(u+p)),y=Zg(i.clientHeight-(h+m)),w=Zg(u),b={rootMargin:-g+"px "+-v+"px "+-y+"px "+-w+"px",threshold:ki(0,El(1,l))||1};let S=!0;function T(C){const P=C[0].intersectionRatio;if(P!==l){if(!S)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}S=!1}try{t=new IntersectionObserver(T,{...b,root:i.ownerDocument})}catch{t=new IntersectionObserver(T,b)}t.observe(n)}return a(!0),s}function HG(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=sT(n),h=i||s?[...u?Cp(u):[],...Cp(e)]:[];h.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const p=u&&o?VG(u,t):null;let m=-1,g=null;a&&(g=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),t()}),u&&!l&&g.observe(u),g.observe(e));let v,y=l?Wc(n):null;l&&w();function w(){const x=Wc(n);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&t(),y=x,v=requestAnimationFrame(w)}return t(),()=>{var x;h.forEach(b=>{i&&b.removeEventListener("scroll",t),s&&b.removeEventListener("resize",t)}),p==null||p(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const WG=SG,GG=bG,$G=yG,XG=MG,YG=wG,hR=xG,qG=EG,ZG=(n,e,t)=>{const r=new Map,i={platform:BG,...t},s={...i.platform,_c:r};return vG(n,e,{...i,platform:s})};var l0=typeof document<"u"?E.useLayoutEffect:E.useEffect;function ex(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!ex(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!ex(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function UL(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function pR(n,e){const t=UL(n);return Math.round(e*t)/t}function l1(n){const e=E.useRef(n);return l0(()=>{e.current=n}),e}function KG(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=n,[h,p]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=E.useState(r);ex(m,r)||g(r);const[v,y]=E.useState(null),[w,x]=E.useState(null),b=E.useCallback(O=>{O!==P.current&&(P.current=O,y(O))},[]),S=E.useCallback(O=>{O!==A.current&&(A.current=O,x(O))},[]),T=s||v,C=a||w,P=E.useRef(null),A=E.useRef(null),k=E.useRef(h),I=l!=null,R=l1(l),U=l1(i),V=l1(u),J=E.useCallback(()=>{if(!P.current||!A.current)return;const O={placement:e,strategy:t,middleware:m};U.current&&(O.platform=U.current),ZG(P.current,A.current,O).then(B=>{const Y={...B,isPositioned:V.current!==!1};z.current&&!ex(k.current,Y)&&(k.current=Y,iu.flushSync(()=>{p(Y)}))})},[m,e,t,U,V]);l0(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[u]);const z=E.useRef(!1);l0(()=>(z.current=!0,()=>{z.current=!1}),[]),l0(()=>{if(T&&(P.current=T),C&&(A.current=C),T&&C){if(R.current)return R.current(T,C,J);J()}},[T,C,J,R,I]);const Q=E.useMemo(()=>({reference:P,floating:A,setReference:b,setFloating:S}),[b,S]),W=E.useMemo(()=>({reference:T,floating:C}),[T,C]),te=E.useMemo(()=>{const O={position:t,left:0,top:0};if(!W.floating)return O;const B=pR(W.floating,h.x),Y=pR(W.floating,h.y);return o?{...O,transform:"translate("+B+"px, "+Y+"px)",...UL(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:B,top:Y}},[t,o,W.floating,h.x,h.y]);return E.useMemo(()=>({...h,update:J,refs:Q,elements:W,floatingStyles:te}),[h,J,Q,W,te])}const JG=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?hR({element:r.current,padding:i}).fn(t):{}:r?hR({element:r,padding:i}).fn(t):{}}}},QG=(n,e)=>({...WG(n),options:[n,e]}),e7=(n,e)=>({...GG(n),options:[n,e]}),t7=(n,e)=>({...qG(n),options:[n,e]}),n7=(n,e)=>({...$G(n),options:[n,e]}),r7=(n,e)=>({...XG(n),options:[n,e]}),i7=(n,e)=>({...YG(n),options:[n,e]}),s7=(n,e)=>({...JG(n),options:[n,e]});var a7="Arrow",zL=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return c.jsx(ht.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});zL.displayName=a7;var o7=zL;function l7(n,e=[]){let t=[];function r(s,a){const o=E.createContext(a),l=t.length;t=[...t,a];function u(p){const{scope:m,children:g,...v}=p,y=(m==null?void 0:m[n][l])||o,w=E.useMemo(()=>v,Object.values(v));return c.jsx(y.Provider,{value:w,children:g})}function h(p,m){const g=(m==null?void 0:m[n][l])||o,v=E.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const i=()=>{const s=t.map(a=>E.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[r,c7(i,...e)]}function c7(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(s)[`__scope${u}`];return{...o,...p}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function BL(n){const[e,t]=E.useState(void 0);return yr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var aT="Popper",[VL,yf]=l7(aT),[u7,HL]=VL(aT),WL=n=>{const{__scopePopper:e,children:t}=n,[r,i]=E.useState(null);return c.jsx(u7,{scope:e,anchor:r,onAnchorChange:i,children:t})};WL.displayName=aT;var GL="PopperAnchor",$L=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=HL(GL,t),a=E.useRef(null),o=Ht(e,a);return E.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:c.jsx(ht.div,{...i,ref:o})});$L.displayName=GL;var oT="PopperContent",[d7,f7]=VL(oT),XL=E.forwardRef((n,e)=>{var ne,fe,Le,ke,Re,X;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=n,w=HL(oT,t),[x,b]=E.useState(null),S=Ht(e,Ee=>b(Ee)),[T,C]=E.useState(null),P=BL(T),A=(P==null?void 0:P.width)??0,k=(P==null?void 0:P.height)??0,I=r+(s!=="center"?"-"+s:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},U=Array.isArray(u)?u:[u],V=U.length>0,J={padding:R,boundary:U.filter(p7),altBoundary:V},{refs:z,floatingStyles:Q,placement:W,isPositioned:te,middlewareData:O}=KG({strategy:"fixed",placement:I,whileElementsMounted:(...Ee)=>HG(...Ee,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[QG({mainAxis:i+k,alignmentAxis:a}),l&&e7({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?t7():void 0,...J}),l&&n7({...J}),r7({...J,apply:({elements:Ee,rects:pe,availableWidth:Pe,availableHeight:be})=>{const{width:et,height:H}=pe.reference,ee=Ee.floating.style;ee.setProperty("--radix-popper-available-width",`${Pe}px`),ee.setProperty("--radix-popper-available-height",`${be}px`),ee.setProperty("--radix-popper-anchor-width",`${et}px`),ee.setProperty("--radix-popper-anchor-height",`${H}px`)}}),T&&s7({element:T,padding:o}),m7({arrowWidth:A,arrowHeight:k}),m&&i7({strategy:"referenceHidden",...J})]}),[B,Y]=ZL(W),L=Xn(v);yr(()=>{te&&(L==null||L())},[te,L]);const Z=(ne=O.arrow)==null?void 0:ne.x,oe=(fe=O.arrow)==null?void 0:fe.y,de=((Le=O.arrow)==null?void 0:Le.centerOffset)!==0,[ye,we]=E.useState();return yr(()=>{x&&we(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:te?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(ke=O.transformOrigin)==null?void 0:ke.x,(Re=O.transformOrigin)==null?void 0:Re.y].join(" "),...((X=O.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:c.jsx(d7,{scope:t,placedSide:B,onArrowChange:C,arrowX:Z,arrowY:oe,shouldHideArrow:de,children:c.jsx(ht.div,{"data-side":B,"data-align":Y,...y,ref:S,style:{...y.style,animation:te?void 0:"none"}})})})});XL.displayName=oT;var YL="PopperArrow",h7={top:"bottom",right:"left",bottom:"top",left:"right"},qL=E.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=f7(YL,r),a=h7[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(o7,{...i,ref:t,style:{...i.style,display:"block"}})})});qL.displayName=YL;function p7(n){return n!==null}var m7=n=>({name:"transformOrigin",options:n,fn(e){var w,x,b;const{placement:t,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[u,h]=ZL(t),p={start:"0%",center:"50%",end:"100%"}[h],m=(((x=i.arrow)==null?void 0:x.x)??0)+o/2,g=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let v="",y="";return u==="bottom"?(v=a?p:`${m}px`,y=`${-l}px`):u==="top"?(v=a?p:`${m}px`,y=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,y=a?p:`${g}px`):u==="left"&&(v=`${r.floating.width+l}px`,y=a?p:`${g}px`),{data:{x:v,y}}}});function ZL(n){const[e,t="center"]=n.split("-");return[e,t]}var KL=WL,lT=$L,cT=XL,uT=qL,[xy,uce]=Os("Tooltip",[yf]),dT=yf(),JL="TooltipProvider",g7=700,mR="tooltip.open",[v7,QL]=xy(JL),eO=n=>{const{__scopeTooltip:e,delayDuration:t=g7,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,[a,o]=E.useState(!0),l=E.useRef(!1),u=E.useRef(0);return E.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),c.jsx(v7,{scope:e,isOpenDelayed:a,delayDuration:t,onOpen:E.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:E.useCallback(h=>{l.current=h},[]),disableHoverableContent:i,children:s})};eO.displayName=JL;var tO="Tooltip",[dce,yy]=xy(tO),Pb="TooltipTrigger",x7=E.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=yy(Pb,t),s=QL(Pb,t),a=dT(t),o=E.useRef(null),l=Ht(e,o,i.onTriggerChange),u=E.useRef(!1),h=E.useRef(!1),p=E.useCallback(()=>u.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(lT,{asChild:!0,...a,children:c.jsx(ht.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ke(n.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ke(n.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Ke(n.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ke(n.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ke(n.onBlur,i.onClose),onClick:Ke(n.onClick,i.onClose)})})});x7.displayName=Pb;var y7="TooltipPortal",[fce,w7]=xy(y7,{forceMount:void 0}),Qd="TooltipContent",nO=E.forwardRef((n,e)=>{const t=w7(Qd,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,a=yy(Qd,n.__scopeTooltip);return c.jsx(Wi,{present:r||a.open,children:a.disableHoverableContent?c.jsx(rO,{side:i,...s,ref:e}):c.jsx(_7,{side:i,...s,ref:e})})}),_7=E.forwardRef((n,e)=>{const t=yy(Qd,n.__scopeTooltip),r=QL(Qd,n.__scopeTooltip),i=E.useRef(null),s=Ht(e,i),[a,o]=E.useState(null),{trigger:l,onClose:u}=t,h=i.current,{onPointerInTransitChange:p}=r,m=E.useCallback(()=>{o(null),p(!1)},[p]),g=E.useCallback((v,y)=>{const w=v.currentTarget,x={x:v.clientX,y:v.clientY},b=M7(x,w.getBoundingClientRect()),S=T7(x,b),T=C7(y.getBoundingClientRect()),C=A7([...S,...T]);o(C),p(!0)},[p]);return E.useEffect(()=>()=>m(),[m]),E.useEffect(()=>{if(l&&h){const v=w=>g(w,h),y=w=>g(w,l);return l.addEventListener("pointerleave",v),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",y)}}},[l,h,g,m]),E.useEffect(()=>{if(a){const v=y=>{const w=y.target,x={x:y.clientX,y:y.clientY},b=(l==null?void 0:l.contains(w))||(h==null?void 0:h.contains(w)),S=!N7(x,a);b?m():S&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,h,a,u,m]),c.jsx(rO,{...n,ref:s})}),[S7,b7]=xy(tO,{isInside:!1}),rO=E.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=n,l=yy(Qd,t),u=dT(t),{onClose:h}=l;return E.useEffect(()=>(document.addEventListener(mR,h),()=>document.removeEventListener(mR,h)),[h]),E.useEffect(()=>{if(l.trigger){const p=m=>{const g=m.target;g!=null&&g.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),c.jsx(hf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:c.jsxs(cT,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(XM,{children:r}),c.jsx(S7,{scope:t,isInside:!0,children:c.jsx(n8,{id:l.contentId,role:"tooltip",children:i||r})})]})})});nO.displayName=Qd;var iO="TooltipArrow",E7=E.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=dT(t);return b7(iO,t).isInside?null:c.jsx(uT,{...i,...r,ref:e})});E7.displayName=iO;function M7(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function T7(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function C7(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function N7(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s].x,l=e[s].y,u=e[a].x,h=e[a].y;l>r!=h>r&&t<(u-o)*(r-l)/(h-l)+o&&(i=!i)}return i}function A7(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),R7(e)}function R7(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var P7=eO,sO=nO;const I7=P7,D7=E.forwardRef(({className:n,sideOffset:e=4,...t},r)=>c.jsx(sO,{ref:r,sideOffset:e,className:Qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));D7.displayName=sO.displayName;var wy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},k7={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},Qo,JE,xD,L7=(xD=class{constructor(){Xt(this,Qo,k7);Xt(this,JE,!1)}setTimeoutProvider(n){Mt(this,Qo,n)}setTimeout(n,e){return Se(this,Qo).setTimeout(n,e)}clearTimeout(n){Se(this,Qo).clearTimeout(n)}setInterval(n,e){return Se(this,Qo).setInterval(n,e)}clearInterval(n){Se(this,Qo).clearInterval(n)}},Qo=new WeakMap,JE=new WeakMap,xD),Ib=new L7;function O7(n){setTimeout(n,0)}var _y=typeof window>"u"||"Deno"in globalThis;function _s(){}function j7(n,e){return typeof n=="function"?n(e):n}function F7(n){return typeof n=="number"&&n>=0&&n!==1/0}function U7(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Db(n,e){return typeof n=="function"?n(e):n}function z7(n,e){return typeof n=="function"?n(e):n}function gR(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=n;if(a){if(r){if(e.queryHash!==fT(a,e.options))return!1}else if(!Ap(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function vR(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Np(e.options.mutationKey)!==Np(s))return!1}else if(!Ap(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function fT(n,e){return((e==null?void 0:e.queryKeyHashFn)||Np)(n)}function Np(n){return JSON.stringify(n,(e,t)=>kb(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Ap(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Ap(n[t],e[t])):!1}var B7=Object.prototype.hasOwnProperty;function aO(n,e){if(n===e)return n;const t=xR(n)&&xR(e);if(!t&&!(kb(n)&&kb(e)))return e;const i=(t?n:Object.keys(n)).length,s=t?e:Object.keys(e),a=s.length,o=t?new Array(a):{};let l=0;for(let u=0;u<a;u++){const h=t?u:s[u],p=n[h],m=e[h];if(p===m){o[h]=p,(t?u<i:B7.call(n,h))&&l++;continue}if(p===null||m===null||typeof p!="object"||typeof m!="object"){o[h]=m;continue}const g=aO(p,m);o[h]=g,g===p&&l++}return i===a&&l===i?n:o}function xR(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function kb(n){if(!yR(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!yR(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function yR(n){return Object.prototype.toString.call(n)==="[object Object]"}function V7(n){return new Promise(e=>{Ib.setTimeout(e,n)})}function H7(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?aO(n,e):e}function W7(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function G7(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var hT=Symbol();function oO(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===hT?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Tc,el,jd,yD,$7=(yD=class extends wy{constructor(){super();Xt(this,Tc);Xt(this,el);Xt(this,jd);Mt(this,jd,e=>{if(!_y&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Se(this,el)||this.setEventListener(Se(this,jd))}onUnsubscribe(){var e;this.hasListeners()||((e=Se(this,el))==null||e.call(this),Mt(this,el,void 0))}setEventListener(e){var t;Mt(this,jd,e),(t=Se(this,el))==null||t.call(this),Mt(this,el,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Se(this,Tc)!==e&&(Mt(this,Tc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Se(this,Tc)=="boolean"?Se(this,Tc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Tc=new WeakMap,el=new WeakMap,jd=new WeakMap,yD),lO=new $7;function X7(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var Y7=O7;function q7(){let n=[],e=0,t=o=>{o()},r=o=>{o()},i=Y7;const s=o=>{e?n.push(o):i(()=>{t(o)})},a=()=>{const o=n;n=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Zr=q7(),Fd,tl,Ud,wD,Z7=(wD=class extends wy{constructor(){super();Xt(this,Fd,!0);Xt(this,tl);Xt(this,Ud);Mt(this,Ud,e=>{if(!_y&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Se(this,tl)||this.setEventListener(Se(this,Ud))}onUnsubscribe(){var e;this.hasListeners()||((e=Se(this,tl))==null||e.call(this),Mt(this,tl,void 0))}setEventListener(e){var t;Mt(this,Ud,e),(t=Se(this,tl))==null||t.call(this),Mt(this,tl,e(this.setOnline.bind(this)))}setOnline(e){Se(this,Fd)!==e&&(Mt(this,Fd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Se(this,Fd)}},Fd=new WeakMap,tl=new WeakMap,Ud=new WeakMap,wD),tx=new Z7;function K7(n){return Math.min(1e3*2**n,3e4)}function cO(n){return(n??"online")==="online"?tx.isOnline():!0}var Lb=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function uO(n){let e=!1,t=0,r;const i=X7(),s=()=>i.status!=="pending",a=y=>{var w;if(!s()){const x=new Lb(y);m(x),(w=n.onCancel)==null||w.call(n,x)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>lO.isFocused()&&(n.networkMode==="always"||tx.isOnline())&&n.canRun(),h=()=>cO(n.networkMode)&&n.canRun(),p=y=>{s()||(r==null||r(),i.resolve(y))},m=y=>{s()||(r==null||r(),i.reject(y))},g=()=>new Promise(y=>{var w;r=x=>{(s()||u())&&y(x)},(w=n.onPause)==null||w.call(n)}).then(()=>{var y;r=void 0,s()||(y=n.onContinue)==null||y.call(n)}),v=()=>{if(s())return;let y;const w=t===0?n.initialPromise:void 0;try{y=w??n.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(p).catch(x=>{var P;if(s())return;const b=n.retry??(_y?0:3),S=n.retryDelay??K7,T=typeof S=="function"?S(t,x):S,C=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,x);if(e||!C){m(x);return}t++,(P=n.onFail)==null||P.call(n,t,x),V7(T).then(()=>u()?void 0:g()).then(()=>{e?m(x):v()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?v():g().then(v),i)}}var Cc,_D,dO=(_D=class{constructor(){Xt(this,Cc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),F7(this.gcTime)&&Mt(this,Cc,Ib.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(_y?1/0:5*60*1e3))}clearGcTimeout(){Se(this,Cc)&&(Ib.clearTimeout(Se(this,Cc)),Mt(this,Cc,void 0))}},Cc=new WeakMap,_D),Nc,zd,ts,Ac,pr,rm,Rc,bs,Ga,SD,J7=(SD=class extends dO{constructor(e){super();Xt(this,bs);Xt(this,Nc);Xt(this,zd);Xt(this,ts);Xt(this,Ac);Xt(this,pr);Xt(this,rm);Xt(this,Rc);Mt(this,Rc,!1),Mt(this,rm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Mt(this,Ac,e.client),Mt(this,ts,Se(this,Ac).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Mt(this,Nc,wR(this.options)),this.state=e.state??Se(this,Nc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Se(this,pr))==null?void 0:e.promise}setOptions(e){if(this.options={...Se(this,rm),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=wR(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),Mt(this,Nc,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,ts).remove(this)}setData(e,t){const r=H7(this.state.data,e,this.options);return kr(this,bs,Ga).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){kr(this,bs,Ga).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=Se(this,pr))==null?void 0:r.promise;return(i=Se(this,pr))==null||i.cancel(e),t?t.then(_s).catch(_s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,Nc))}isActive(){return this.observers.some(e=>z7(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Db(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!U7(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Se(this,pr))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Se(this,pr))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Se(this,ts).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Se(this,pr)&&(Se(this,Rc)?Se(this,pr).cancel({revert:!0}):Se(this,pr).cancelRetry()),this.scheduleGc()),Se(this,ts).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||kr(this,bs,Ga).call(this,{type:"invalidate"})}async fetch(e,t){var l,u,h,p,m,g,v,y,w,x,b,S;if(this.state.fetchStatus!=="idle"&&((l=Se(this,pr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Se(this,pr))return Se(this,pr).continueRetry(),Se(this,pr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const T=this.observers.find(C=>C.options.queryFn);T&&this.setOptions(T.options)}const r=new AbortController,i=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(Mt(this,Rc,!0),r.signal)})},s=()=>{const T=oO(this.options,t),P=(()=>{const A={client:Se(this,Ac),queryKey:this.queryKey,meta:this.meta};return i(A),A})();return Mt(this,Rc,!1),this.options.persister?this.options.persister(T,P,this):T(P)},o=(()=>{const T={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Se(this,Ac),state:this.state,fetchFn:s};return i(T),T})();(u=this.options.behavior)==null||u.onFetch(o,this),Mt(this,zd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&kr(this,bs,Ga).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta}),Mt(this,pr,uO({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,onCancel:T=>{T instanceof Lb&&T.revert&&this.setState({...Se(this,zd),fetchStatus:"idle"}),r.abort()},onFail:(T,C)=>{kr(this,bs,Ga).call(this,{type:"failed",failureCount:T,error:C})},onPause:()=>{kr(this,bs,Ga).call(this,{type:"pause"})},onContinue:()=>{kr(this,bs,Ga).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const T=await Se(this,pr).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(g=(m=Se(this,ts).config).onSuccess)==null||g.call(m,T,this),(y=(v=Se(this,ts).config).onSettled)==null||y.call(v,T,this.state.error,this),T}catch(T){if(T instanceof Lb){if(T.silent)return Se(this,pr).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw kr(this,bs,Ga).call(this,{type:"error",error:T}),(x=(w=Se(this,ts).config).onError)==null||x.call(w,T,this),(S=(b=Se(this,ts).config).onSettled)==null||S.call(b,this.state.data,T,this),T}finally{this.scheduleGc()}}},Nc=new WeakMap,zd=new WeakMap,ts=new WeakMap,Ac=new WeakMap,pr=new WeakMap,rm=new WeakMap,Rc=new WeakMap,bs=new WeakSet,Ga=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Q7(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Mt(this,zd,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Zr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Se(this,ts).notify({query:this,type:"updated",action:e})})},SD);function Q7(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cO(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function wR(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function _R(n){return{onFetch:(e,t)=>{var h,p,m,g,v;const r=e.options,i=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const w=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=oO(e.options,e.fetchOptions),b=async(S,T,C)=>{if(y)return Promise.reject();if(T==null&&S.pages.length)return Promise.resolve(S);const A=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:T,direction:C?"backward":"forward",meta:e.options.meta};return w(U),U})(),k=await x(A),{maxPages:I}=e.options,R=C?G7:W7;return{pages:R(S.pages,k,I),pageParams:R(S.pageParams,T,I)}};if(i&&s.length){const S=i==="backward",T=S?e9:SR,C={pages:s,pageParams:a},P=T(r,C);o=await b(C,P,S)}else{const S=n??s.length;do{const T=l===0?a[0]??r.initialPageParam:SR(r,o);if(l>0&&T==null)break;o=await b(o,T),l++}while(l<S)}return o};e.options.persister?e.fetchFn=()=>{var y,w;return(w=(y=e.options).persister)==null?void 0:w.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function SR(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function e9(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var im,Qs,Xr,Pc,ea,Go,bD,t9=(bD=class extends dO{constructor(e){super();Xt(this,ea);Xt(this,im);Xt(this,Qs);Xt(this,Xr);Xt(this,Pc);Mt(this,im,e.client),this.mutationId=e.mutationId,Mt(this,Xr,e.mutationCache),Mt(this,Qs,[]),this.state=e.state||n9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Se(this,Qs).includes(e)||(Se(this,Qs).push(e),this.clearGcTimeout(),Se(this,Xr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Mt(this,Qs,Se(this,Qs).filter(t=>t!==e)),this.scheduleGc(),Se(this,Xr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Se(this,Qs).length||(this.state.status==="pending"?this.scheduleGc():Se(this,Xr).remove(this))}continue(){var e;return((e=Se(this,Pc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,h,p,m,g,v,y,w,x,b,S,T,C,P,A,k,I;const t=()=>{kr(this,ea,Go).call(this,{type:"continue"})},r={client:Se(this,im),meta:this.options.meta,mutationKey:this.options.mutationKey};Mt(this,Pc,uO({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,U)=>{kr(this,ea,Go).call(this,{type:"failed",failureCount:R,error:U})},onPause:()=>{kr(this,ea,Go).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,Xr).canRun(this)}));const i=this.state.status==="pending",s=!Se(this,Pc).canStart();try{if(i)t();else{kr(this,ea,Go).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=Se(this,Xr).config).onMutate)==null?void 0:o.call(a,e,this,r));const U=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,r));U!==this.state.context&&kr(this,ea,Go).call(this,{type:"pending",context:U,variables:e,isPaused:s})}const R=await Se(this,Pc).start();return await((p=(h=Se(this,Xr).config).onSuccess)==null?void 0:p.call(h,R,e,this.state.context,this,r)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,R,e,this.state.context,r)),await((y=(v=Se(this,Xr).config).onSettled)==null?void 0:y.call(v,R,null,this.state.variables,this.state.context,this,r)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,R,null,e,this.state.context,r)),kr(this,ea,Go).call(this,{type:"success",data:R}),R}catch(R){try{throw await((S=(b=Se(this,Xr).config).onError)==null?void 0:S.call(b,R,e,this.state.context,this,r)),await((C=(T=this.options).onError)==null?void 0:C.call(T,R,e,this.state.context,r)),await((A=(P=Se(this,Xr).config).onSettled)==null?void 0:A.call(P,void 0,R,this.state.variables,this.state.context,this,r)),await((I=(k=this.options).onSettled)==null?void 0:I.call(k,void 0,R,e,this.state.context,r)),R}finally{kr(this,ea,Go).call(this,{type:"error",error:R})}}finally{Se(this,Xr).runNext(this)}}},im=new WeakMap,Qs=new WeakMap,Xr=new WeakMap,Pc=new WeakMap,ea=new WeakSet,Go=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Zr.batch(()=>{Se(this,Qs).forEach(r=>{r.onMutationUpdate(e)}),Se(this,Xr).notify({mutation:this,type:"updated",action:e})})},bD);function n9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qa,Es,sm,ED,r9=(ED=class extends wy{constructor(e={}){super();Xt(this,qa);Xt(this,Es);Xt(this,sm);this.config=e,Mt(this,qa,new Set),Mt(this,Es,new Map),Mt(this,sm,0)}build(e,t,r){const i=new t9({client:e,mutationCache:this,mutationId:++Ag(this,sm)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){Se(this,qa).add(e);const t=Kg(e);if(typeof t=="string"){const r=Se(this,Es).get(t);r?r.push(e):Se(this,Es).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Se(this,qa).delete(e)){const t=Kg(e);if(typeof t=="string"){const r=Se(this,Es).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Se(this,Es).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Kg(e);if(typeof t=="string"){const r=Se(this,Es).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=Kg(e);if(typeof t=="string"){const i=(r=Se(this,Es).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zr.batch(()=>{Se(this,qa).forEach(e=>{this.notify({type:"removed",mutation:e})}),Se(this,qa).clear(),Se(this,Es).clear()})}getAll(){return Array.from(Se(this,qa))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>vR(t,r))}findAll(e={}){return this.getAll().filter(t=>vR(e,t))}notify(e){Zr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Zr.batch(()=>Promise.all(e.map(t=>t.continue().catch(_s))))}},qa=new WeakMap,Es=new WeakMap,sm=new WeakMap,ED);function Kg(n){var e;return(e=n.options.scope)==null?void 0:e.id}var ta,MD,i9=(MD=class extends wy{constructor(e={}){super();Xt(this,ta);this.config=e,Mt(this,ta,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??fT(i,t);let a=this.get(s);return a||(a=new J7({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Se(this,ta).has(e.queryHash)||(Se(this,ta).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Se(this,ta).get(e.queryHash);t&&(e.destroy(),t===e&&Se(this,ta).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Se(this,ta).get(e)}getAll(){return[...Se(this,ta).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>gR(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>gR(e,r)):t}notify(e){Zr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ta=new WeakMap,MD),Ln,nl,rl,Bd,Vd,il,Hd,Wd,TD,s9=(TD=class{constructor(n={}){Xt(this,Ln);Xt(this,nl);Xt(this,rl);Xt(this,Bd);Xt(this,Vd);Xt(this,il);Xt(this,Hd);Xt(this,Wd);Mt(this,Ln,n.queryCache||new i9),Mt(this,nl,n.mutationCache||new r9),Mt(this,rl,n.defaultOptions||{}),Mt(this,Bd,new Map),Mt(this,Vd,new Map),Mt(this,il,0)}mount(){Ag(this,il)._++,Se(this,il)===1&&(Mt(this,Hd,lO.subscribe(async n=>{n&&(await this.resumePausedMutations(),Se(this,Ln).onFocus())})),Mt(this,Wd,tx.subscribe(async n=>{n&&(await this.resumePausedMutations(),Se(this,Ln).onOnline())})))}unmount(){var n,e;Ag(this,il)._--,Se(this,il)===0&&((n=Se(this,Hd))==null||n.call(this),Mt(this,Hd,void 0),(e=Se(this,Wd))==null||e.call(this),Mt(this,Wd,void 0))}isFetching(n){return Se(this,Ln).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Se(this,nl).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Se(this,Ln).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Se(this,Ln).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Db(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Se(this,Ln).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=Se(this,Ln).get(r.queryHash),s=i==null?void 0:i.state.data,a=j7(e,s);if(a!==void 0)return Se(this,Ln).build(this,r).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return Zr.batch(()=>Se(this,Ln).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Se(this,Ln).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Se(this,Ln);Zr.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Se(this,Ln);return Zr.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Zr.batch(()=>Se(this,Ln).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(_s).catch(_s)}invalidateQueries(n,e={}){return Zr.batch(()=>(Se(this,Ln).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Zr.batch(()=>Se(this,Ln).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(_s)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(_s)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Se(this,Ln).build(this,e);return t.isStaleByTime(Db(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(_s).catch(_s)}fetchInfiniteQuery(n){return n.behavior=_R(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(_s).catch(_s)}ensureInfiniteQueryData(n){return n.behavior=_R(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return tx.isOnline()?Se(this,nl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,Ln)}getMutationCache(){return Se(this,nl)}getDefaultOptions(){return Se(this,rl)}setDefaultOptions(n){Mt(this,rl,n)}setQueryDefaults(n,e){Se(this,Bd).set(Np(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Se(this,Bd).values()],t={};return e.forEach(r=>{Ap(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Se(this,Vd).set(Np(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Se(this,Vd).values()],t={};return e.forEach(r=>{Ap(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Se(this,rl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=fT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===hT&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Se(this,rl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Se(this,Ln).clear(),Se(this,nl).clear()}},Ln=new WeakMap,nl=new WeakMap,rl=new WeakMap,Bd=new WeakMap,Vd=new WeakMap,il=new WeakMap,Hd=new WeakMap,Wd=new WeakMap,TD),a9=E.createContext(void 0),o9=({client:n,children:e})=>(E.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),c.jsx(a9.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rp(){return Rp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rp.apply(this,arguments)}var ol;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ol||(ol={}));const bR="popstate";function l9(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Ob("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:nx(i)}return u9(e,t,null,n)}function Nn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fO(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c9(){return Math.random().toString(36).substr(2,8)}function ER(n,e){return{usr:n.state,key:n.key,idx:e}}function Ob(n,e,t,r){return t===void 0&&(t=null),Rp({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?wf(e):e,{state:t,key:e&&e.key||r||c9()})}function nx(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function u9(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ol.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(Rp({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){o=ol.Pop;let w=h(),x=w==null?null:w-u;u=w,l&&l({action:o,location:y.location,delta:x})}function m(w,x){o=ol.Push;let b=Ob(y.location,w,x);u=h()+1;let S=ER(b,u),T=y.createHref(b);try{a.pushState(S,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}s&&l&&l({action:o,location:y.location,delta:1})}function g(w,x){o=ol.Replace;let b=Ob(y.location,w,x);u=h();let S=ER(b,u),T=y.createHref(b);a.replaceState(S,"",T),s&&l&&l({action:o,location:y.location,delta:0})}function v(w){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:nx(w);return b=b.replace(/ $/,"%20"),Nn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return o},get location(){return n(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bR,p),l=w,()=>{i.removeEventListener(bR,p),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let x=v(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(w){return a.go(w)}};return y}var MR;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(MR||(MR={}));function d9(n,e,t){return t===void 0&&(t="/"),f9(n,e,t,!1)}function f9(n,e,t,r){let i=typeof e=="string"?wf(e):e,s=ef(i.pathname||"/",t);if(s==null)return null;let a=hO(n);h9(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=E9(s);o=S9(a[l],u,r)}return o}function hO(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Nn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=gl([r,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(Nn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hO(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:w9(u,s.index),routesMeta:h})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of pO(s.path))i(s,a,l)}),e}function pO(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=pO(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function h9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_9(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const p9=/^:[\w-]+$/,m9=3,g9=2,v9=1,x9=10,y9=-2,TR=n=>n==="*";function w9(n,e){let t=n.split("/"),r=t.length;return t.some(TR)&&(r+=y9),e&&(r+=g9),t.filter(i=>!TR(i)).reduce((i,s)=>i+(p9.test(s)?m9:s===""?v9:x9),r)}function _9(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function S9(n,e,t){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=rx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!p&&u&&t&&!r[r.length-1].route.index&&(p=rx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:gl([s,p.pathname]),pathnameBase:N9(gl([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=gl([s,p.pathnameBase]))}return a}function rx(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=b9(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let y=o[p]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[p];return g&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function b9(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),fO(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function E9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fO(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ef(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function M9(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?wf(n):n;return{pathname:t?t.startsWith("/")?t:T9(t,e):e,search:A9(r),hash:R9(i)}}function T9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function c1(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pT(n,e){let t=C9(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function mT(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=wf(n):(i=Rp({},n),Nn(!i.pathname||!i.pathname.includes("?"),c1("?","pathname","search",i)),Nn(!i.pathname||!i.pathname.includes("#"),c1("#","pathname","hash",i)),Nn(!i.search||!i.search.includes("#"),c1("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let l=M9(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const gl=n=>n.join("/").replace(/\/\/+/g,"/"),N9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),A9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,R9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function P9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const mO=["post","put","patch","delete"];new Set(mO);const I9=["get",...mO];new Set(I9);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pp.apply(this,arguments)}const Sy=E.createContext(null),gO=E.createContext(null),yo=E.createContext(null),by=E.createContext(null),wo=E.createContext({outlet:null,matches:[],isDataRoute:!1}),vO=E.createContext(null);function D9(n,e){let{relative:t}=e===void 0?{}:e;_f()||Nn(!1);let{basename:r,navigator:i}=E.useContext(yo),{hash:s,pathname:a,search:o}=Ey(n,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:gl([r,a])),i.createHref({pathname:l,search:o,hash:s})}function _f(){return E.useContext(by)!=null}function _o(){return _f()||Nn(!1),E.useContext(by).location}function xO(n){E.useContext(yo).static||E.useLayoutEffect(n)}function Sf(){let{isDataRoute:n}=E.useContext(wo);return n?Y9():k9()}function k9(){_f()||Nn(!1);let n=E.useContext(Sy),{basename:e,future:t,navigator:r}=E.useContext(yo),{matches:i}=E.useContext(wo),{pathname:s}=_o(),a=JSON.stringify(pT(i,t.v7_relativeSplatPath)),o=E.useRef(!1);return xO(()=>{o.current=!0}),E.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let p=mT(u,JSON.parse(a),s,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:gl([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,s,n])}const L9=E.createContext(null);function O9(n){let e=E.useContext(wo).outlet;return e&&E.createElement(L9.Provider,{value:n},e)}function Ey(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=E.useContext(yo),{matches:i}=E.useContext(wo),{pathname:s}=_o(),a=JSON.stringify(pT(i,r.v7_relativeSplatPath));return E.useMemo(()=>mT(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function j9(n,e){return F9(n,e)}function F9(n,e,t,r){_f()||Nn(!1);let{navigator:i}=E.useContext(yo),{matches:s}=E.useContext(wo),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=_o(),h;if(e){var p;let w=typeof e=="string"?wf(e):e;l==="/"||(p=w.pathname)!=null&&p.startsWith(l)||Nn(!1),h=w}else h=u;let m=h.pathname||"/",g=m;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=d9(n,{pathname:g}),y=H9(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:gl([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:gl([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,t,r);return e&&y?E.createElement(by.Provider,{value:{location:Pp({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ol.Pop}},y):y}function U9(){let n=X9(),e=P9(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,null)}const z9=E.createElement(U9,null);class B9 extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(wo.Provider,{value:this.props.routeContext},E.createElement(vO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V9(n){let{routeContext:e,match:t,children:r}=n,i=E.useContext(Sy);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(wo.Provider,{value:e},r)}function H9(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);h>=0||Nn(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:g}=t,v=p.route.loader&&m[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,m)=>{let g,v=!1,y=null,w=null;t&&(g=o&&p.route.id?o[p.route.id]:void 0,y=p.route.errorElement||z9,l&&(u<0&&m===0?(v=!0,w=null):u===m&&(v=!0,w=p.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,m+1)),b=()=>{let S;return g?S=y:v?S=w:p.route.Component?S=E.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=h,E.createElement(V9,{match:p,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:S})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?E.createElement(B9,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var yO=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(yO||{}),ix=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ix||{});function W9(n){let e=E.useContext(Sy);return e||Nn(!1),e}function G9(n){let e=E.useContext(gO);return e||Nn(!1),e}function $9(n){let e=E.useContext(wo);return e||Nn(!1),e}function wO(n){let e=$9(),t=e.matches[e.matches.length-1];return t.route.id||Nn(!1),t.route.id}function X9(){var n;let e=E.useContext(vO),t=G9(ix.UseRouteError),r=wO(ix.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Y9(){let{router:n}=W9(yO.UseNavigateStable),e=wO(ix.UseNavigateStable),t=E.useRef(!1);return xO(()=>{t.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Pp({fromRouteId:e},s)))},[n,e])}function Ip(n){let{to:e,replace:t,state:r,relative:i}=n;_f()||Nn(!1);let{future:s,static:a}=E.useContext(yo),{matches:o}=E.useContext(wo),{pathname:l}=_o(),u=Sf(),h=mT(e,pT(o,s.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(h);return E.useEffect(()=>u(JSON.parse(p),{replace:t,state:r,relative:i}),[u,p,i,t,r]),null}function q9(n){return O9(n.context)}function kn(n){Nn(!1)}function Z9(n){let{basename:e="/",children:t=null,location:r,navigationType:i=ol.Pop,navigator:s,static:a=!1,future:o}=n;_f()&&Nn(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:a,future:Pp({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=wf(r));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=r,y=E.useMemo(()=>{let w=ef(h,l);return w==null?null:{location:{pathname:w,search:p,hash:m,state:g,key:v},navigationType:i}},[l,h,p,m,g,v,i]);return y==null?null:E.createElement(yo.Provider,{value:u},E.createElement(by.Provider,{children:t,value:y}))}function K9(n){let{children:e,location:t}=n;return j9(jb(e),t)}new Promise(()=>{});function jb(n,e){e===void 0&&(e=[]);let t=[];return E.Children.forEach(n,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){t.push.apply(t,jb(r.props.children,s));return}r.type!==kn&&Nn(!1),!r.props.index||!r.props.children||Nn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jb(r.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sx(){return sx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sx.apply(this,arguments)}function _O(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function J9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Q9(n,e){return n.button===0&&(!e||e==="_self")&&!J9(n)}const e$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],t$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],n$="6";try{window.__reactRouterVersion=n$}catch{}const r$=E.createContext({isTransitioning:!1}),i$="startTransition",CR=jD[i$];function s$(n){let{basename:e,children:t,future:r,window:i}=n,s=E.useRef();s.current==null&&(s.current=l9({window:i,v5Compat:!0}));let a=s.current,[o,l]=E.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=E.useCallback(p=>{u&&CR?CR(()=>l(p)):l(p)},[l,u]);return E.useLayoutEffect(()=>a.listen(h),[a,h]),E.createElement(Z9,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:r})}const a$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=E.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:p}=e,m=_O(e,e$),{basename:g}=E.useContext(yo),v,y=!1;if(typeof u=="string"&&o$.test(u)&&(v=u,a$))try{let S=new URL(window.location.href),T=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=ef(T.pathname,g);T.origin===S.origin&&C!=null?u=C+T.search+T.hash:y=!0}catch{}let w=D9(u,{relative:i}),x=c$(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:p});function b(S){r&&r(S),S.defaultPrevented||x(S)}return E.createElement("a",sx({},m,{href:v||w,onClick:y||s?r:b,ref:t,target:l}))}),td=E.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:h}=e,p=_O(e,t$),m=Ey(l,{relative:p.relative}),g=_o(),v=E.useContext(gO),{navigator:y,basename:w}=E.useContext(yo),x=v!=null&&u$(m)&&u===!0,b=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,S=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&w&&(T=ef(T,w)||T);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=S===b||!a&&S.startsWith(b)&&S.charAt(C)==="/",A=T!=null&&(T===b||!a&&T.startsWith(b)&&T.charAt(b.length)==="/"),k={isActive:P,isPending:A,isTransitioning:x},I=P?r:void 0,R;typeof s=="function"?R=s(k):R=[s,P?"active":null,A?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(k):o;return E.createElement(Sa,sx({},p,{"aria-current":I,className:R,ref:t,style:U,to:l,viewTransition:u}),typeof h=="function"?h(k):h)});var Fb;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Fb||(Fb={}));var NR;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(NR||(NR={}));function l$(n){let e=E.useContext(Sy);return e||Nn(!1),e}function c$(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Sf(),u=_o(),h=Ey(n,{relative:a});return E.useCallback(p=>{if(Q9(p,t)){p.preventDefault();let m=r!==void 0?r:nx(u)===nx(h);l(n,{replace:m,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,h,r,i,t,n,s,a,o])}function u$(n,e){e===void 0&&(e={});let t=E.useContext(r$);t==null&&Nn(!1);let{basename:r}=l$(Fb.useViewTransitionState),i=Ey(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=ef(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=ef(t.nextLocation.pathname,r)||t.nextLocation.pathname;return rx(i.pathname,a)!=null||rx(i.pathname,s)!=null}const SO=E.createContext({user:null,loading:!0,login:async()=>{},logout:async()=>{},register:async()=>{},resetPassword:async()=>{},isAuthenticated:!1}),jl=()=>E.useContext(SO),d$=({children:n})=>{var p;const[e,t]=E.useState(null),[r,i]=E.useState(!0),[s,a]=E.useState(!1);E.useEffect(()=>{try{const m=localStorage.getItem("auth_user"),g=localStorage.getItem("auth_isDemo");if(m){const v=JSON.parse(m);t(v),a(g==="true")}}catch(m){console.warn("Failed to load auth from storage",m)}finally{i(!1)}},[]);const o=async(m,g)=>{if(i(!0),m==="admin@gmail.com"&&g==="password"){const y={id:"demo-admin",email:"admin@gmail.com",role:"admin",aud:"authenticated",app_metadata:{provider:"demo",providers:["demo"]},user_metadata:{name:"Demo Admin",role:"admin"},created_at:new Date().toISOString(),email_confirmed_at:new Date().toISOString(),identities:[],last_sign_in_at:new Date().toISOString(),phone:"",confirmed_at:new Date().toISOString(),recovery_sent_at:"",banned_until:"",updated_at:new Date().toISOString()};t(y),a(!0),localStorage.setItem("auth_user",JSON.stringify(y)),localStorage.setItem("auth_isDemo","true"),i(!1);return}a(!1);const v={id:"demo-user",email:m,role:"user",aud:"authenticated",app_metadata:{provider:"demo",providers:["demo"]},user_metadata:{name:"Demo User",role:"user"},created_at:new Date().toISOString(),email_confirmed_at:new Date().toISOString(),identities:[],last_sign_in_at:new Date().toISOString(),phone:"",confirmed_at:new Date().toISOString(),recovery_sent_at:"",banned_until:"",updated_at:new Date().toISOString()};t(v),localStorage.setItem("auth_user",JSON.stringify(v)),localStorage.setItem("auth_isDemo","false"),i(!1)},l=async()=>{i(!0),a(!1),t(null);try{localStorage.removeItem("auth_user"),localStorage.removeItem("auth_isDemo")}catch{}i(!1)},u=async(m,g)=>{i(!0),t({id:"demo-user",email:m,role:"user",aud:"authenticated",app_metadata:{provider:"demo",providers:["demo"]},user_metadata:{name:"Demo User",role:"user"},created_at:new Date().toISOString(),email_confirmed_at:new Date().toISOString(),identities:[],last_sign_in_at:new Date().toISOString(),phone:"",confirmed_at:new Date().toISOString(),recovery_sent_at:"",banned_until:"",updated_at:new Date().toISOString()}),i(!1)},h=async m=>{i(!0),i(!1)};return c.jsx(SO.Provider,{value:{user:e,loading:r,login:o,logout:l,register:u,resetPassword:h,isAuthenticated:!!e,isDemo:s,role:((p=e==null?void 0:e.user_metadata)==null?void 0:p.role)||(e==null?void 0:e.role)||null},children:n})},bO=E.createContext({dragDropManager:void 0});function Qi(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var AR=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),u1=function(){return Math.random().toString(36).substring(7).split("").join(".")},RR={INIT:"@@redux/INIT"+u1(),REPLACE:"@@redux/REPLACE"+u1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u1()}};function f$(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function EO(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Qi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Qi(1));return t(EO)(n,e)}if(typeof n!="function")throw new Error(Qi(2));var i=n,s=e,a=[],o=a,l=!1;function u(){o===a&&(o=a.slice())}function h(){if(l)throw new Error(Qi(3));return s}function p(y){if(typeof y!="function")throw new Error(Qi(4));if(l)throw new Error(Qi(5));var w=!0;return u(),o.push(y),function(){if(w){if(l)throw new Error(Qi(6));w=!1,u();var b=o.indexOf(y);o.splice(b,1),a=null}}}function m(y){if(!f$(y))throw new Error(Qi(7));if(typeof y.type>"u")throw new Error(Qi(8));if(l)throw new Error(Qi(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var w=a=o,x=0;x<w.length;x++){var b=w[x];b()}return y}function g(y){if(typeof y!="function")throw new Error(Qi(10));i=y,m({type:RR.REPLACE})}function v(){var y,w=p;return y={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Qi(11));function S(){b.next&&b.next(h())}S();var T=w(S);return{unsubscribe:T}}},y[AR]=function(){return this},y}return m({type:RR.INIT}),r={dispatch:m,subscribe:p,getState:h,replaceReducer:g},r[AR]=v,r}function It(n,e,...t){if(h$()&&e===void 0)throw new Error("invariant requires an error message argument");if(!n){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;r=new Error(e.replace(/%s/g,function(){return t[i++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function h$(){return typeof process<"u"&&!0}function p$(n,e,t){return e.split(".").reduce((r,i)=>r&&r[i]?r[i]:t||null,n)}function m$(n,e){return n.filter(t=>t!==e)}function MO(n){return typeof n=="object"}function g$(n,e){const t=new Map,r=s=>{t.set(s,t.has(s)?t.get(s)+1:1)};n.forEach(r),e.forEach(r);const i=[];return t.forEach((s,a)=>{s===1&&i.push(a)}),i}function v$(n,e){return n.filter(t=>e.indexOf(t)>-1)}const gT="dnd-core/INIT_COORDS",My="dnd-core/BEGIN_DRAG",vT="dnd-core/PUBLISH_DRAG_SOURCE",Ty="dnd-core/HOVER",Cy="dnd-core/DROP",Ny="dnd-core/END_DRAG";function PR(n,e){return{type:gT,payload:{sourceClientOffset:e||null,clientOffset:n||null}}}const x$={type:gT,payload:{clientOffset:null,sourceClientOffset:null}};function y$(n){return function(t=[],r={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:a}=r,o=n.getMonitor(),l=n.getRegistry();n.dispatch(PR(s)),w$(t,o,l);const u=b$(t,o);if(u==null){n.dispatch(x$);return}let h=null;if(s){if(!a)throw new Error("getSourceClientOffset must be defined");_$(a),h=a(u)}n.dispatch(PR(s,h));const m=l.getSource(u).beginDrag(o,u);if(m==null)return;S$(m),l.pinSource(u);const g=l.getSourceType(u);return{type:My,payload:{itemType:g,item:m,sourceId:u,clientOffset:s||null,sourceClientOffset:h||null,isSourcePublic:!!i}}}}function w$(n,e,t){It(!e.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(r){It(t.getSource(r),"Expected sourceIds to be registered.")})}function _$(n){It(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function S$(n){It(MO(n),"Item must be an object.")}function b$(n,e){let t=null;for(let r=n.length-1;r>=0;r--)if(e.canDragSource(n[r])){t=n[r];break}return t}function E$(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){E$(n,i,t[i])})}return n}function T$(n){return function(t={}){const r=n.getMonitor(),i=n.getRegistry();C$(r),R$(r).forEach((a,o)=>{const l=N$(a,o,i,r),u={type:Cy,payload:{dropResult:M$({},t,l)}};n.dispatch(u)})}}function C$(n){It(n.isDragging(),"Cannot call drop while not dragging."),It(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function N$(n,e,t,r){const i=t.getTarget(n);let s=i?i.drop(r,n):void 0;return A$(s),typeof s>"u"&&(s=e===0?{}:r.getDropResult()),s}function A$(n){It(typeof n>"u"||MO(n),"Drop result must either be an object or undefined.")}function R$(n){const e=n.getTargetIds().filter(n.canDropOnTarget,n);return e.reverse(),e}function P$(n){return function(){const t=n.getMonitor(),r=n.getRegistry();I$(t);const i=t.getSourceId();return i!=null&&(r.getSource(i,!0).endDrag(t,i),r.unpinSource()),{type:Ny}}}function I$(n){It(n.isDragging(),"Cannot call endDrag while not dragging.")}function Ub(n,e){return e===null?n===null:Array.isArray(n)?n.some(t=>t===e):n===e}function D$(n){return function(t,{clientOffset:r}={}){k$(t);const i=t.slice(0),s=n.getMonitor(),a=n.getRegistry(),o=s.getItemType();return O$(i,a,o),L$(i,s,a),j$(i,s,a),{type:Ty,payload:{targetIds:i,clientOffset:r||null}}}}function k$(n){It(Array.isArray(n),"Expected targetIds to be an array.")}function L$(n,e,t){It(e.isDragging(),"Cannot call hover while not dragging."),It(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<n.length;r++){const i=n[r];It(n.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");const s=t.getTarget(i);It(s,"Expected targetIds to be registered.")}}function O$(n,e,t){for(let r=n.length-1;r>=0;r--){const i=n[r],s=e.getTargetType(i);Ub(s,t)||n.splice(r,1)}}function j$(n,e,t){n.forEach(function(r){t.getTarget(r).hover(e,r)})}function F$(n){return function(){if(n.getMonitor().isDragging())return{type:vT}}}function U$(n){return{beginDrag:y$(n),publishDragSource:F$(n),hover:D$(n),drop:T$(n),endDrag:P$(n)}}class z${receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function r(s){return(...a)=>{const o=s.apply(e,a);typeof o<"u"&&t(o)}}const i=U$(this);return Object.keys(i).reduce((s,a)=>{const o=i[a];return s[a]=r(o),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function B$(n,e){return{x:n.x+e.x,y:n.y+e.y}}function TO(n,e){return{x:n.x-e.x,y:n.y-e.y}}function V$(n){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:r}=n;return!e||!t||!r?null:TO(B$(e,r),t)}function H$(n){const{clientOffset:e,initialClientOffset:t}=n;return!e||!t?null:TO(e,t)}const Qh=[],xT=[];Qh.__IS_NONE__=!0;xT.__IS_ALL__=!0;function W$(n,e){return n===Qh?!1:n===xT||typeof e>"u"?!0:v$(e,n).length>0}class G${subscribeToStateChange(e,t={}){const{handlerIds:r}=t;It(typeof e=="function","listener must be a function."),It(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const a=this.store.getState(),o=a.stateId;try{o===i||o===i+1&&!W$(a.dirtyHandlerIds,r)||e()}finally{i=o}};return this.store.subscribe(s)}subscribeToOffsetChange(e){It(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const r=()=>{const i=this.store.getState().dragOffset;i!==t&&(t=i,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return It(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(It(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();return Ub(r,i)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(It(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),i=this.getItemType();return r!==i?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:r}=t;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();if(s&&!Ub(i,s))return!1;const a=this.getTargetIds();if(!a.length)return!1;const o=a.indexOf(e);return r?o===a.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return V$(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return H$(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const IR=typeof global<"u"?global:self,CO=IR.MutationObserver||IR.WebKitMutationObserver;function NO(n){return function(){const t=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(t),clearInterval(r),n()}}}function $$(n){let e=1;const t=new CO(n),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const X$=typeof CO=="function"?$$:NO;class Y${enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let r=0,i=e.length-this.index;r<i;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=X$(this.flush),this.requestErrorThrow=NO(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class q${call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class Z${create(e){const t=this.freeTasks,r=t.length?t.pop():new q$(this.onError,i=>t[t.length]=i);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const AO=new Y$,K$=new Z$(AO.registerPendingError);function J$(n){AO.enqueueTask(K$.create(n))}const yT="dnd-core/ADD_SOURCE",wT="dnd-core/ADD_TARGET",_T="dnd-core/REMOVE_SOURCE",Ay="dnd-core/REMOVE_TARGET";function Q$(n){return{type:yT,payload:{sourceId:n}}}function eX(n){return{type:wT,payload:{targetId:n}}}function tX(n){return{type:_T,payload:{sourceId:n}}}function nX(n){return{type:Ay,payload:{targetId:n}}}function rX(n){It(typeof n.canDrag=="function","Expected canDrag to be a function."),It(typeof n.beginDrag=="function","Expected beginDrag to be a function."),It(typeof n.endDrag=="function","Expected endDrag to be a function.")}function iX(n){It(typeof n.canDrop=="function","Expected canDrop to be a function."),It(typeof n.hover=="function","Expected hover to be a function."),It(typeof n.drop=="function","Expected beginDrag to be a function.")}function zb(n,e){if(e&&Array.isArray(n)){n.forEach(t=>zb(t,!1));return}It(typeof n=="string"||typeof n=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ss;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(ss||(ss={}));let sX=0;function aX(){return sX++}function oX(n){const e=aX().toString();switch(n){case ss.SOURCE:return`S${e}`;case ss.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${n}`)}}function DR(n){switch(n[0]){case"S":return ss.SOURCE;case"T":return ss.TARGET;default:throw new Error(`Cannot parse handler ID: ${n}`)}}function kR(n,e){const t=n.entries();let r=!1;do{const{done:i,value:[,s]}=t.next();if(s===e)return!0;r=!!i}while(!r);return!1}class lX{addSource(e,t){zb(e),rX(t);const r=this.addHandler(ss.SOURCE,e,t);return this.store.dispatch(Q$(r)),r}addTarget(e,t){zb(e,!0),iX(t);const r=this.addHandler(ss.TARGET,e,t);return this.store.dispatch(eX(r)),r}containsHandler(e){return kR(this.dragSources,e)||kR(this.dropTargets,e)}getSource(e,t=!1){return It(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return It(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return It(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return It(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return DR(e)===ss.SOURCE}isTargetId(e){return DR(e)===ss.TARGET}removeSource(e){It(this.getSource(e),"Expected an existing source."),this.store.dispatch(tX(e)),J$(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){It(this.getTarget(e),"Expected an existing target."),this.store.dispatch(nX(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);It(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){It(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){const i=oX(e);return this.types.set(i,t),e===ss.SOURCE?this.dragSources.set(i,r):e===ss.TARGET&&this.dropTargets.set(i,r),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const cX=(n,e)=>n===e;function uX(n,e){return!n&&!e?!0:!n||!e?!1:n.x===e.x&&n.y===e.y}function dX(n,e,t=cX){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!t(n[r],e[r]))return!1;return!0}function fX(n=Qh,e){switch(e.type){case Ty:break;case yT:case wT:case Ay:case _T:return Qh;case My:case vT:case Ny:case Cy:default:return xT}const{targetIds:t=[],prevTargetIds:r=[]}=e.payload,i=g$(t,r);if(!(i.length>0||!dX(t,r)))return Qh;const a=r[r.length-1],o=t[t.length-1];return a!==o&&(a&&i.push(a),o&&i.push(o)),i}function hX(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){hX(n,i,t[i])})}return n}const LR={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function mX(n=LR,e){const{payload:t}=e;switch(e.type){case gT:case My:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case Ty:return uX(n.clientOffset,t.clientOffset)?n:pX({},n,{clientOffset:t.clientOffset});case Ny:case Cy:return LR;default:return n}}function gX(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Eu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){gX(n,i,t[i])})}return n}const vX={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function xX(n=vX,e){const{payload:t}=e;switch(e.type){case My:return Eu({},n,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case vT:return Eu({},n,{isSourcePublic:!0});case Ty:return Eu({},n,{targetIds:t.targetIds});case Ay:return n.targetIds.indexOf(t.targetId)===-1?n:Eu({},n,{targetIds:m$(n.targetIds,t.targetId)});case Cy:return Eu({},n,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case Ny:return Eu({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function yX(n=0,e){switch(e.type){case yT:case wT:return n+1;case _T:case Ay:return n-1;default:return n}}function wX(n=0){return n+1}function _X(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){_X(n,i,t[i])})}return n}function bX(n={},e){return{dirtyHandlerIds:fX(n.dirtyHandlerIds,{type:e.type,payload:SX({},e.payload,{prevTargetIds:p$(n,"dragOperation.targetIds",[])})}),dragOffset:mX(n.dragOffset,e),refCount:yX(n.refCount,e),dragOperation:xX(n.dragOperation,e),stateId:wX(n.stateId)}}function EX(n,e=void 0,t={},r=!1){const i=MX(r),s=new G$(i,new lX(i)),a=new z$(i,s),o=n(a,e,t);return a.receiveBackend(o),a}function MX(n){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return EO(bX,n&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function TX(n,e){if(n==null)return{};var t=CX(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function CX(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}let OR=0;const c0=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var NX=E.memo(function(e){var{children:t}=e,r=TX(e,["children"]);const[i,s]=AX(r);return E.useEffect(()=>{if(s){const a=RO();return++OR,()=>{--OR===0&&(a[c0]=null)}}},[]),c.jsx(bO.Provider,{value:i,children:t})});function AX(n){if("manager"in n)return[{dragDropManager:n.manager},!1];const e=RX(n.backend,n.context,n.options,n.debugMode),t=!n.context;return[e,t]}function RX(n,e=RO(),t,r){const i=e;return i[c0]||(i[c0]={dragDropManager:EX(n,e,t,r)}),i[c0]}function RO(){return typeof global<"u"?global:window}var PX=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t};const IX=Yx(PX),Gc=typeof window<"u"?E.useLayoutEffect:E.useEffect;function DX(n,e,t){const[r,i]=E.useState(()=>e(n)),s=E.useCallback(()=>{const a=e(n);IX(r,a)||(i(a),t&&t())},[r,n,t]);return Gc(s),[r,s]}function kX(n,e,t){const[r,i]=DX(n,e,t);return Gc(function(){const a=n.getHandlerId();if(a!=null)return n.subscribeToStateChange(i,{handlerIds:[a]})},[n,i]),r}function PO(n,e,t){return kX(e,n||(()=>({})),()=>t.reconnect())}function IO(n,e){const t=[...e||[]];return e==null&&typeof n!="function"&&t.push(n),E.useMemo(()=>typeof n=="function"?n():n,t)}function LX(n){return E.useMemo(()=>n.hooks.dragSource(),[n])}function OX(n){return E.useMemo(()=>n.hooks.dragPreview(),[n])}let d1=!1,f1=!1;class jX{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){It(!d1,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return d1=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{d1=!1}}isDragging(){if(!this.sourceId)return!1;It(!f1,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return f1=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{f1=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let h1=!1;class FX{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;It(!h1,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return h1=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{h1=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function UX(n,e,t){const r=t.getRegistry(),i=r.addTarget(n,e);return[i,()=>r.removeTarget(i)]}function zX(n,e,t){const r=t.getRegistry(),i=r.addSource(n,e);return[i,()=>r.removeSource(i)]}function Bb(n,e,t,r){let i;if(i!==void 0)return!!i;if(n===e)return!0;if(typeof n!="object"||!n||typeof e!="object"||!e)return!1;const s=Object.keys(n),a=Object.keys(e);if(s.length!==a.length)return!1;const o=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<s.length;l++){const u=s[l];if(!o(u))return!1;const h=n[u],p=e[u];if(i=void 0,i===!1||i===void 0&&h!==p)return!1}return!0}function Vb(n){return n!==null&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function BX(n){if(typeof n.type=="string")return;const e=n.type.displayName||n.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function VX(n){return(e=null,t=null)=>{if(!E.isValidElement(e)){const s=e;return n(s,t),s}const r=e;return BX(r),HX(r,t?s=>n(s,t):n)}}function DO(n){const e={};return Object.keys(n).forEach(t=>{const r=n[t];if(t.endsWith("Ref"))e[t]=n[t];else{const i=VX(r);e[t]=()=>i}}),e}function jR(n,e){typeof n=="function"?n(e):n.current=e}function HX(n,e){const t=n.ref;return It(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?E.cloneElement(n,{ref:r=>{jR(t,r),jR(e,r)}}):E.cloneElement(n,{ref:e})}class WX{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Bb(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Bb(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=DO({dragSource:(t,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Vb(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Vb(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class GX{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Bb(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=DO({dropTarget:(t,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Vb(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function bf(){const{dragDropManager:n}=E.useContext(bO);return It(n!=null,"Expected drag drop context"),n}function $X(n,e){const t=bf(),r=E.useMemo(()=>new WX(t.getBackend()),[t]);return Gc(()=>(r.dragSourceOptions=n||null,r.reconnect(),()=>r.disconnectDragSource()),[r,n]),Gc(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function XX(){const n=bf();return E.useMemo(()=>new jX(n),[n])}class YX{beginDrag(){const e=this.spec,t=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(t):r={},r??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const r=this.spec,i=this.monitor,{isDragging:s}=r;return s?s(i):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,r=this.connector,{end:i}=e;i&&i(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}function qX(n,e,t){const r=E.useMemo(()=>new YX(n,e,t),[e,t]);return E.useEffect(()=>{r.spec=n},[n]),r}function ZX(n){return E.useMemo(()=>{const e=n.type;return It(e!=null,"spec.type must be defined"),e},[n])}function KX(n,e,t){const r=bf(),i=qX(n,e,t),s=ZX(n);Gc(function(){if(s!=null){const[o,l]=zX(s,i,r);return e.receiveHandlerId(o),t.receiveHandlerId(o),l}},[r,e,t,i,s])}function JX(n,e){const t=IO(n,e);It(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=XX(),i=$X(t.options,t.previewOptions);return KX(t,r,i),[PO(t.collect,r,i),LX(i),OX(i)]}function QX(n){return E.useMemo(()=>n.hooks.dropTarget(),[n])}function eY(n){const e=bf(),t=E.useMemo(()=>new GX(e.getBackend()),[e]);return Gc(()=>(t.dropTargetOptions=n||null,t.reconnect(),()=>t.disconnectDropTarget()),[n]),t}function tY(){const n=bf();return E.useMemo(()=>new FX(n),[n])}function nY(n){const{accept:e}=n;return E.useMemo(()=>(It(n.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class rY{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function iY(n,e){const t=E.useMemo(()=>new rY(n,e),[e]);return E.useEffect(()=>{t.spec=n},[n]),t}function sY(n,e,t){const r=bf(),i=iY(n,e),s=nY(n);Gc(function(){const[o,l]=UX(s,i,r);return e.receiveHandlerId(o),t.receiveHandlerId(o),l},[r,e,i,t,s.map(a=>a.toString()).join("|")])}function kO(n,e){const t=IO(n,e),r=tY(),i=eY(t.options);return sY(t,r,i),[PO(t.collect,r,i),QX(i)]}function LO(n){let e=null;return()=>(e==null&&(e=n()),e)}function aY(n,e){return n.filter(t=>t!==e)}function oY(n,e){const t=new Set,r=s=>t.add(s);n.forEach(r),e.forEach(r);const i=[];return t.forEach(s=>i.push(s)),i}class lY{enter(e){const t=this.entered.length,r=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=oY(this.entered.filter(r),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=aY(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class cY{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(r=>{const i=this.config.exposeProperties[r];i!=null&&(t[r]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const OO="__NATIVE_FILE__",jO="__NATIVE_URL__",FO="__NATIVE_TEXT__",UO="__NATIVE_HTML__",FR=Object.freeze(Object.defineProperty({__proto__:null,FILE:OO,HTML:UO,TEXT:FO,URL:jO},Symbol.toStringTag,{value:"Module"}));function p1(n,e,t){const r=e.reduce((i,s)=>i||n.getData(s),"");return r??t}const Hb={[OO]:{exposeProperties:{files:n=>Array.prototype.slice.call(n.files),items:n=>n.items,dataTransfer:n=>n},matchesTypes:["Files"]},[UO]:{exposeProperties:{html:(n,e)=>p1(n,e,""),dataTransfer:n=>n},matchesTypes:["Html","text/html"]},[jO]:{exposeProperties:{urls:(n,e)=>p1(n,e,"").split(`
`),dataTransfer:n=>n},matchesTypes:["Url","text/uri-list"]},[FO]:{exposeProperties:{text:(n,e)=>p1(n,e,""),dataTransfer:n=>n},matchesTypes:["Text","text/plain"]}};function uY(n,e){const t=Hb[n];if(!t)throw new Error(`native type ${n} has no configuration`);const r=new cY(t);return r.loadDataTransfer(e),r}function m1(n){if(!n)return null;const e=Array.prototype.slice.call(n.types||[]);return Object.keys(Hb).filter(t=>{const r=Hb[t];return r!=null&&r.matchesTypes?r.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const dY=LO(()=>/firefox/i.test(navigator.userAgent)),zO=LO(()=>!!window.safari);class UR{interpolate(e){const{xs:t,ys:r,c1s:i,c2s:s,c3s:a}=this;let o=t.length-1;if(e===t[o])return r[o];let l=0,u=a.length-1,h;for(;l<=u;){h=Math.floor(.5*(l+u));const g=t[h];if(g<e)l=h+1;else if(g>e)u=h-1;else return r[h]}o=Math.max(0,u);const p=e-t[o],m=p*p;return r[o]+i[o]*p+s[o]*m+a[o]*p*m}constructor(e,t){const{length:r}=e,i=[];for(let g=0;g<r;g++)i.push(g);i.sort((g,v)=>e[g]<e[v]?-1:1);const s=[],a=[];let o,l;for(let g=0;g<r-1;g++)o=e[g+1]-e[g],l=t[g+1]-t[g],s.push(o),a.push(l/o);const u=[a[0]];for(let g=0;g<s.length-1;g++){const v=a[g],y=a[g+1];if(v*y<=0)u.push(0);else{o=s[g];const w=s[g+1],x=o+w;u.push(3*x/((x+w)/v+(x+o)/y))}}u.push(a[a.length-1]);const h=[],p=[];let m;for(let g=0;g<u.length-1;g++){m=a[g];const v=u[g],y=1/s[g],w=v+u[g+1]-m-m;h.push((m-v-w)*y),p.push(w*y*y)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=h,this.c3s=p}}const fY=1;function BO(n){const e=n.nodeType===fY?n:n.parentElement;if(!e)return null;const{top:t,left:r}=e.getBoundingClientRect();return{x:r,y:t}}function Jg(n){return{x:n.clientX,y:n.clientY}}function hY(n){var e;return n.nodeName==="IMG"&&(dY()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(n)))}function pY(n,e,t,r){let i=n?e.width:t,s=n?e.height:r;return zO()&&n&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function mY(n,e,t,r,i){const s=hY(e),o=BO(s?n:e),l={x:t.x-o.x,y:t.y-o.y},{offsetWidth:u,offsetHeight:h}=n,{anchorX:p,anchorY:m}=r,{dragPreviewWidth:g,dragPreviewHeight:v}=pY(s,e,u,h),y=()=>{let P=new UR([0,.5,1],[l.y,l.y/h*v,l.y+v-h]).interpolate(m);return zO()&&s&&(P+=(window.devicePixelRatio-1)*v),P},w=()=>new UR([0,.5,1],[l.x,l.x/u*g,l.x+g-u]).interpolate(p),{offsetX:x,offsetY:b}=i,S=x===0||x,T=b===0||b;return{x:S?x:w(),y:T?b:y()}}class gY{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function vY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){vY(n,i,t[i])})}return n}class xY{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);const i=a=>this.handleDragStart(a,e),s=a=>this.handleSelectStart(a);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",s),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const r=a=>this.handleDragEnter(a,e),i=a=>this.handleDragOver(a,e),s=a=>this.handleDrop(a,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",s),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return zR({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return zR({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(FR).some(t=>FR[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=uY(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&BO(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const a=Jg(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:o}=i,l=m1(o);if(this.monitor.isDragging()){if(o&&typeof o.setDragImage=="function"){const h=this.monitor.getSourceId(),p=this.sourceNodes.get(h),m=this.sourcePreviewNodes.get(h)||p;if(m){const{anchorX:g,anchorY:v,offsetX:y,offsetY:w}=this.getCurrentSourcePreviewNodeOptions(),S=mY(p,m,a,{anchorX:g,anchorY:v},{offsetX:y,offsetY:w});o.setDragImage(m,S.x,S.y)}}try{o==null||o.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(o&&!o.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:o}=i,l=m1(o);l&&this.beginDragNativeItem(l,o)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:Jg(i)}),s.some(o=>this.monitor.canDropOnTarget(o))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Jg(i),this.scheduleHover(s),(s||[]).some(o=>this.monitor.canDropOnTarget(o))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else m1(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:Jg(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new gY(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new lY(this.isNodeInDocument)}}const yY=function(e,t,r){return new xY(e,t,r)},wY=()=>{const[n,e]=E.useState(!1);return E.useEffect(()=>{const t=window.matchMedia("(max-width: 768px)"),r=()=>e(t.matches);return r(),t.addEventListener("change",r),()=>t.removeEventListener("change",r)},[]),n},_Y=[{name:"Dashboard",path:"/dashboard",icon:O8},{name:"Cases",path:"/cases",icon:ma},{name:"Criminals",path:"/criminals",icon:Ad},{name:"Evidence",path:"/evidence",icon:KM},{name:"Witnesses",path:"/witnesses",icon:wL},{name:"Officers",path:"/officers",icon:xi},{name:"Surveillance",path:"/courts",icon:eo},{name:"Reports",path:"/reports",icon:C8},{name:"3D Globe",path:"/globe",icon:gL},{name:"Most Wanted",path:"/most-wanted",icon:bb},{name:"Profile",path:"/profile",icon:JM}],SY=()=>{const[n,e]=E.useState(!1);return wY(),c.jsxs("aside",{className:Qe("h-full relative","backdrop-blur-xl bg-gradient-to-b from-background/95 via-background/90 to-background/95","border-r border-cyan-500/20",n?"w-20":"w-72","transition-all duration-300 ease-in-out hidden md:flex flex-col","before:absolute before:inset-0 before:bg-gradient-to-b before:from-cyan-500/5 before:to-transparent before:pointer-events-none","scan-line"),children:[c.jsx("div",{className:"absolute top-0 right-0 w-px h-full bg-gradient-to-b from-transparent via-cyan-500/50 to-transparent"}),c.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-cyan-500/20 relative",children:[c.jsxs("div",{className:Qe("flex items-center gap-3",n&&"justify-center w-full"),children:[c.jsxs("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 flex items-center justify-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/20 to-transparent animate-pulse"}),c.jsx(xi,{className:"h-5 w-5 text-cyan-400 relative z-10"})]}),!n&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-base bg-gradient-to-r from-cyan-300 to-blue-400 bg-clip-text text-transparent",children:"FBI CRIMECONNECT"}),c.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"CLASSIFIED FBI SYSTEM"})]})]}),c.jsx("button",{className:Qe("h-8 w-8 rounded-lg bg-cyan-500/10 border border-cyan-500/30 hover:bg-cyan-500/20 hover:border-cyan-500/50","flex items-center justify-center transition-all duration-300","hover:scale-110 active:scale-95",n&&"absolute -right-3 top-1/2 -translate-y-1/2 z-10"),onClick:()=>e(t=>!t),"aria-label":n?"Expand sidebar":"Collapse sidebar",children:n?c.jsx(A8,{className:"h-4 w-4 text-cyan-400"}):c.jsx(N8,{className:"h-4 w-4 text-cyan-400"})})]}),c.jsx("nav",{className:"flex-1 overflow-y-auto p-3 space-y-1 scrollbar-thin scrollbar-thumb-cyan-500/20 scrollbar-track-transparent",children:_Y.map((t,r)=>c.jsx(td,{to:t.path,className:({isActive:i})=>Qe("group relative flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium","transition-all duration-300","hover:translate-x-1",n&&"justify-center px-0",i?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 text-cyan-300 shadow-lg shadow-cyan-500/10":"text-muted-foreground hover:text-foreground hover:bg-cyan-500/5 border border-transparent hover:border-cyan-500/10"),children:({isActive:i})=>c.jsxs(c.Fragment,{children:[i&&c.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-gradient-to-b from-cyan-400 to-blue-500 rounded-r-full"}),c.jsxs("div",{className:Qe("h-10 w-10 rounded-lg flex items-center justify-center relative transition-all duration-300",i?"bg-gradient-to-br from-cyan-500/30 to-blue-500/30 border border-cyan-400/50":"bg-cyan-500/5 border border-cyan-500/10 group-hover:border-cyan-500/30"),children:[i&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/20 to-transparent animate-pulse rounded-lg"}),c.jsx(t.icon,{className:Qe("h-5 w-5 relative z-10 transition-all duration-300",i?"text-cyan-400":"text-muted-foreground group-hover:text-cyan-400")})]}),!n&&c.jsx("span",{className:"flex-1",children:t.name}),!n&&i&&c.jsx("div",{className:"h-2 w-2 rounded-full bg-cyan-400 animate-pulse shadow-lg shadow-cyan-400/50"}),n&&c.jsxs("div",{className:Qe("absolute left-full ml-2 px-3 py-2 rounded-lg","bg-background/95 backdrop-blur-xl border border-cyan-500/30","opacity-0 invisible group-hover:opacity-100 group-hover:visible","transition-all duration-300 whitespace-nowrap z-50","shadow-xl shadow-cyan-500/10"),children:[c.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1 w-2 h-2 rotate-45 bg-background/95 border-l border-b border-cyan-500/30"}),t.name]})]})},t.path))}),c.jsxs("div",{className:Qe("p-4 border-t border-cyan-500/20 relative","before:absolute before:top-0 before:left-0 before:right-0 before:h-px","before:bg-gradient-to-r before:from-transparent before:via-cyan-500/50 before:to-transparent"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 animate-pulse shadow-lg shadow-green-400/50"}),c.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"SYSTEM STATUS"})]}),c.jsx(bl,{className:"h-3 w-3 text-green-400"})]}),!n&&c.jsxs("div",{className:"text-[10px] text-muted-foreground space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(xL,{className:"h-2.5 w-2.5 text-green-400"}),c.jsx("span",{children:"Database: Operational"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Jh,{className:"h-2.5 w-2.5 text-green-400"}),c.jsx("span",{children:"Communications: Secure"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(mL,{className:"h-2.5 w-2.5 text-amber-400"}),c.jsx("span",{children:"AI Analysis: Running"})]})]})]})]})};var ax=["light","dark"],ST="(prefers-color-scheme: dark)",bY=typeof window>"u",bT=E.createContext(void 0),EY={setTheme:n=>{},themes:[]},MY=()=>{var n;return(n=E.useContext(bT))!=null?n:EY},TY=n=>E.useContext(bT)?n.children:E.createElement(NY,{...n}),CY=["light","dark"],NY=({forcedTheme:n,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=CY,defaultTheme:a=t?"system":"light",attribute:o="data-theme",value:l,children:u,nonce:h})=>{let[p,m]=E.useState(()=>BR(i,a)),[g,v]=E.useState(()=>BR(i)),y=l?Object.values(l):s,w=E.useCallback(T=>{let C=T;if(!C)return;T==="system"&&t&&(C=VR());let P=l?l[C]:C,A=e?RY():null,k=document.documentElement;if(o==="class"?(k.classList.remove(...y),P&&k.classList.add(P)):P?k.setAttribute(o,P):k.removeAttribute(o),r){let I=ax.includes(a)?a:null,R=ax.includes(C)?C:I;k.style.colorScheme=R}A==null||A()},[]),x=E.useCallback(T=>{let C=typeof T=="function"?T(T):T;m(C);try{localStorage.setItem(i,C)}catch{}},[n]),b=E.useCallback(T=>{let C=VR(T);v(C),p==="system"&&t&&!n&&w("system")},[p,n]);E.useEffect(()=>{let T=window.matchMedia(ST);return T.addListener(b),b(T),()=>T.removeListener(b)},[b]),E.useEffect(()=>{let T=C=>{if(C.key!==i)return;let P=C.newValue||a;x(P)};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[x]),E.useEffect(()=>{w(n??p)},[n,p]);let S=E.useMemo(()=>({theme:p,setTheme:x,forcedTheme:n,resolvedTheme:p==="system"?g:p,themes:t?[...s,"system"]:s,systemTheme:t?g:void 0}),[p,x,n,g,t,s]);return E.createElement(bT.Provider,{value:S},E.createElement(AY,{forcedTheme:n,disableTransitionOnChange:e,enableSystem:t,enableColorScheme:r,storageKey:i,themes:s,defaultTheme:a,attribute:o,value:l,children:u,attrs:y,nonce:h}),u)},AY=E.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:l})=>{let u=s==="system",h=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,p=i?ax.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,y=!1,w=!0)=>{let x=a?a[v]:v,b=y?v+"|| ''":`'${x}'`,S="";return i&&w&&!y&&ax.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),t==="class"?y||x?S+=`c.add(${b})`:S+="null":x&&(S+=`d[s](n,${b})`),S},g=n?`!function(){${h}${m(n)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${ST}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(s,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(s,!1,!1)};}${p}}catch(t){}}();`;return E.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})}),BR=(n,e)=>{if(bY)return;let t;try{t=localStorage.getItem(n)||void 0}catch{}return t||e},RY=()=>{let n=document.createElement("style");return n.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(n)},1)}},VR=n=>(n||(n=window.matchMedia(ST)),n.matches?"dark":"light");const PY=()=>{var o;const{user:n}=jl(),{theme:e,resolvedTheme:t,setTheme:r}=MY(),i=()=>r((t||e)==="light"?"dark":"light"),s=(()=>{try{const l=localStorage.getItem("userProfile");return l?JSON.parse(l):null}catch{return null}})(),a=(s==null?void 0:s.avatar)||(n==null?void 0:n.avatar)||"/placeholder.svg";return c.jsxs("header",{className:"sticky top-0 z-20 border-b border-cyan-500/20 bg-background/80 backdrop-blur-xl supports-[backdrop-filter]:bg-background/80 relative",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-500/30 to-transparent"}),c.jsxs("div",{className:"container-pro h-16 flex items-center gap-4",children:[c.jsxs(td,{to:"/dashboard",className:"flex items-center gap-2 group",children:[c.jsxs("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 flex items-center justify-center relative overflow-hidden group-hover:border-cyan-500/50 transition-all",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/10 to-transparent group-hover:animate-pulse"}),c.jsx(xi,{className:"h-4 w-4 text-cyan-400 relative z-10"})]}),c.jsxs("div",{className:"hidden lg:block",children:[c.jsx("span",{className:"font-bold text-base bg-gradient-to-r from-cyan-300 to-blue-400 bg-clip-text text-transparent",children:"FBI CRIMECONNECT"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(bl,{className:"h-2.5 w-2.5 text-green-400"}),c.jsx("span",{className:"text-[9px] text-muted-foreground uppercase tracking-widest",children:"FBI CLASSIFIED"})]})]})]}),c.jsx("div",{className:"flex-1 max-w-2xl ml-2",children:c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none z-10",children:c.jsx(Ol,{className:"h-4 w-4 text-cyan-400/70 group-focus-within:text-cyan-400 transition-colors"})}),c.jsx("input",{type:"search",placeholder:"Search cases, criminals, evidence...",className:"w-full h-10 pl-11 pr-4 rounded-lg bg-cyan-500/5 border border-cyan-500/20 text-sm focus:outline-none focus:border-cyan-500/50 focus:bg-cyan-500/10 transition-all duration-300 placeholder:text-muted-foreground/70"}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-cyan-400/0 via-cyan-400/5 to-cyan-400/0 opacity-0 group-focus-within:opacity-100 transition-opacity pointer-events-none"})]})}),c.jsxs("nav",{className:"hidden lg:flex items-center gap-1",children:[c.jsxs(td,{to:"/dashboard",className:({isActive:l})=>`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 flex items-center gap-2 ${l?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 text-cyan-300 border border-cyan-500/30":"text-muted-foreground hover:text-foreground hover:bg-cyan-500/5 border border-transparent hover:border-cyan-500/10"}`,children:[c.jsx(_L,{className:"h-4 w-4"}),"Dashboard"]}),c.jsxs(td,{to:"/cases",className:({isActive:l})=>`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 flex items-center gap-2 ${l?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 text-cyan-300 border border-cyan-500/30":"text-muted-foreground hover:text-foreground hover:bg-cyan-500/5 border border-transparent hover:border-cyan-500/10"}`,children:[c.jsx(eo,{className:"h-4 w-4"}),"Cases"]}),c.jsxs(td,{to:"/reports",className:({isActive:l})=>`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 flex items-center gap-2 ${l?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 text-cyan-300 border border-cyan-500/30":"text-muted-foreground hover:text-foreground hover:bg-cyan-500/5 border border-transparent hover:border-cyan-500/10"}`,children:[c.jsx(xi,{className:"h-4 w-4"}),"Reports"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{className:"relative h-10 w-10 rounded-lg bg-cyan-500/5 border border-cyan-500/20 hover:bg-cyan-500/10 hover:border-cyan-500/40 transition-all duration-300 flex items-center justify-center group","aria-label":"Notifications",children:[c.jsx(M8,{className:"h-4 w-4 text-cyan-400/70 group-hover:text-cyan-400 transition-colors"}),c.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-gradient-to-br from-red-500 to-orange-500 border-2 border-background flex items-center justify-center",children:c.jsx("span",{className:"text-[9px] font-bold text-white",children:"3"})}),c.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500/50 animate-ping"})]}),c.jsx("button",{onClick:i,"aria-label":"Toggle theme",className:"h-10 w-10 rounded-lg bg-cyan-500/5 border border-cyan-500/20 hover:bg-cyan-500/10 hover:border-cyan-500/40 transition-all duration-300 flex items-center justify-center group",children:(t||e)==="light"?c.jsx(U8,{className:"h-4 w-4 text-cyan-400/70 group-hover:text-cyan-400 transition-colors"}):c.jsx(Z8,{className:"h-4 w-4 text-cyan-400/70 group-hover:text-cyan-400 transition-colors"})}),c.jsxs(td,{to:"/profile",className:"group flex items-center gap-3 pl-3 pr-4 py-2 rounded-lg bg-cyan-500/5 border border-cyan-500/20 hover:bg-cyan-500/10 hover:border-cyan-500/40 transition-all duration-300",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:a,alt:"Profile",className:"w-7 h-7 rounded-lg border-2 border-cyan-500/30 object-cover group-hover:border-cyan-500/50 transition-all"}),c.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 rounded-full bg-green-400 border-2 border-background"})]}),c.jsxs("div",{className:"hidden sm:flex flex-col items-start",children:[c.jsx("span",{className:"text-xs font-medium text-foreground leading-none",children:((o=n==null?void 0:n.email)==null?void 0:o.split("@")[0])||"Agent"}),c.jsxs("span",{className:"text-[10px] text-muted-foreground leading-none mt-0.5 flex items-center gap-1",children:[c.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-400 animate-pulse"}),"Online"]})]})]})]})]})]})},IY=({duration:n=450})=>{const[e,t]=E.useState(!1);return E.useEffect(()=>{t(!0);const r=setTimeout(()=>t(!1),n);return()=>clearTimeout(r)},[n]),e?c.jsxs("div",{className:"pointer-events-none fixed inset-0 z-[999] overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-background opacity-60"}),c.jsx("div",{className:"absolute inset-x-0 top-1/3 h-6 bg-red-500/40 mix-blend-screen animate-[fade-in_0.15s_ease-out]"}),c.jsx("div",{className:"absolute inset-x-0 top-1/2 h-5 bg-green-500/40 mix-blend-screen animate-[fade-in_0.2s_ease-out]"}),c.jsx("div",{className:"absolute inset-x-0 top-2/3 h-4 bg-blue-500/40 mix-blend-screen animate-[fade-in_0.25s_ease-out]"}),Array.from({length:14}).map((r,i)=>c.jsx("div",{className:"absolute left-0 right-0 bg-white/5",style:{top:`${Math.random()*100}%`,height:`${Math.random()*6+2}px`,transform:`translateX(${(Math.random()-.5)*30}px)`}},i))]}):null},DY=({text:n="CLASSIFIED // RESTRICTED",opacity:e=.06})=>{const t=E.useMemo(()=>{const r=`<?xml version="1.0" encoding="UTF-8"?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='260' viewBox='0 0 600 260'>
      <defs>
        <filter id='glow' x='-50%' y='-50%' width='200%' height='200%'>
          <feGaussianBlur stdDeviation='1.5' result='coloredBlur'/>
          <feMerge>
            <feMergeNode in='coloredBlur'/>
            <feMergeNode in='SourceGraphic'/>
          </feMerge>
        </filter>
      </defs>
      <g transform='rotate(-25 300 130)'>
        <text x='50' y='160' font-size='44' font-family='Rubik,Segoe UI,Arial' font-weight='800' fill='rgb(220,38,38)' fill-opacity='0.8' opacity='0.9' filter='url(#glow)' letter-spacing='6'>${n}</text>
      </g>
    </svg>`;return`url("data:image/svg+xml;utf8,${encodeURIComponent(r)}")`},[n]);return c.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",style:{backgroundImage:t,backgroundSize:"600px 260px",backgroundRepeat:"repeat",opacity:e}})},kY=()=>{const{isAuthenticated:n,loading:e}=jl(),t=_o();return e?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:c.jsxs("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[c.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-t-transparent border-primary animate-spin"}),c.jsx("p",{className:"text-sm",children:"Loading"})]})}):n?c.jsxs("div",{className:"h-screen w-full bg-background text-foreground",children:[c.jsx(DY,{}),c.jsx(IY,{},t.pathname),c.jsxs("div",{className:"flex h-full relative z-0",children:[c.jsx(SY,{}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[c.jsx(PY,{}),c.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsx(q9,{})})})]})]})]}):c.jsx(Ip,{to:"/login",state:{from:t}})},ET=pf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),lt=E.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const a=r?Sl:"button";return c.jsx(a,{className:Qe(ET({variant:e,size:t,className:n})),ref:s,...i})});lt.displayName="Button";const LY=()=>{const[n,e]=E.useState(""),[t,r]=E.useState(""),[i,s]=E.useState(!1),[a,o]=E.useState(""),[l,u]=E.useState(!1),h=Sf(),{login:p}=jl(),m=async g=>{g.preventDefault(),u(!0),o("");try{await p(n,t),h("/dashboard")}catch{o("Invalid credentials. Please try again.")}finally{u(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background to-cyan-900/5"}),c.jsx("div",{className:"absolute inset-0 bg-grid-pattern"}),c.jsx("div",{className:"absolute inset-0 pointer-events-none scan-lines"}),c.jsxs("div",{className:"w-full max-w-md relative z-10",children:[c.jsxs("div",{className:"glass-card rounded-2xl p-8 shadow-2xl border-cyan-500/30",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 flex items-center justify-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/20 to-transparent animate-pulse"}),c.jsx(xi,{className:"h-8 w-8 text-cyan-400 relative z-10"})]})}),c.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-300 to-blue-400 bg-clip-text text-transparent mb-2",children:"FBI CRIMECONNECT"}),c.jsx("p",{className:"text-sm text-muted-foreground uppercase tracking-widest",children:"CLASSIFIED LAW ENFORCEMENT SYSTEM"}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[c.jsx(bl,{className:"h-4 w-4 text-green-400 animate-pulse"}),c.jsx("span",{className:"text-xs text-green-400 font-medium",children:"SECURE CONNECTION ESTABLISHED"})]})]}),a&&c.jsxs("div",{className:"mb-6 p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm flex items-center gap-2",children:[c.jsx(_L,{className:"h-4 w-4"}),a]}),c.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"AGENT IDENTIFICATION"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(JM,{className:"h-5 w-5 text-cyan-400/70"})}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:g=>e(g.target.value),className:"input-pro w-full pl-10 pr-4 py-3 bg-cyan-500/5 border-cyan-500/20 focus:border-cyan-500/50 focus:bg-cyan-500/10",placeholder:"agent.username@fbi.gov"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"SECURITY CLEARANCE"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(bl,{className:"h-5 w-5 text-cyan-400/70"})}),c.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:t,onChange:g=>r(g.target.value),className:"input-pro w-full pl-10 pr-12 py-3 bg-cyan-500/5 border-cyan-500/20 focus:border-cyan-500/50 focus:bg-cyan-500/10",placeholder:""}),c.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i?c.jsx(I8,{className:"h-5 w-5 text-cyan-400/70 hover:text-cyan-400 transition-colors"}):c.jsx(eo,{className:"h-5 w-5 text-cyan-400/70 hover:text-cyan-400 transition-colors"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-cyan-500 focus:ring-cyan-500 border-cyan-500/30 rounded bg-cyan-500/5"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-foreground",children:"Remember device"})]}),c.jsx("div",{className:"text-sm",children:c.jsx(Sa,{to:"/forgot-password",className:"font-medium text-cyan-400 hover:text-cyan-300 transition-colors",children:"Forgot credentials?"})})]}),c.jsx("div",{children:c.jsx(lt,{type:"submit",disabled:l,className:"w-full btn-pro bg-gradient-to-r from-cyan-500 to-blue-500 border-cyan-500/50 hover:from-cyan-600 hover:to-blue-600 hover:border-cyan-500/70 text-white py-3",children:l?c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-t-transparent border-white animate-spin"}),c.jsx("span",{children:"AUTHENTICATING..."})]}):c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(xi,{className:"h-5 w-5"}),c.jsx("span",{children:"ACCESS SYSTEM"})]})})})]}),c.jsxs("div",{className:"mt-6 text-center",children:[c.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"This system is restricted to authorized FBI personnel only. Unauthorized access is prohibited and will be prosecuted."}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[c.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-400 animate-pulse"}),c.jsx("span",{className:"text-[10px] text-green-400 font-medium",children:"CONNECTION SECURE"})]})]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have access?"," ",c.jsx(Sa,{to:"/register",className:"font-medium text-cyan-400 hover:text-cyan-300 transition-colors",children:"Request authorization"})]})})]})]})},OY={totalCases:256,openCases:87,closedCases:169,totalCriminals:324,totalEvidence:512,totalWitnesses:189,recentCases:[{id:1,title:"Armed Robbery - Downtown Bank",status:"open",description:"Armed robbery at First National Bank on Main Street",policeStationId:1,createdAt:new Date("2023-05-15"),updatedAt:new Date("2023-05-18")},{id:2,title:"Vehicle Theft - Highland Park",status:"pending",description:"Luxury vehicle stolen from Highland Park residential area",policeStationId:2,createdAt:new Date("2023-06-02"),updatedAt:new Date("2023-06-05")},{id:3,title:"Residential Burglary - Westside",status:"closed",description:"Break-in and theft at residential property in Westside neighborhood",policeStationId:1,createdAt:new Date("2023-04-10"),updatedAt:new Date("2023-04-29")},{id:4,title:"Assault - Downtown Bar",status:"open",description:"Physical assault reported outside The Blue Note Bar",policeStationId:3,createdAt:new Date("2023-06-10"),updatedAt:new Date("2023-06-10")}]},jY=({status:n})=>{const e=n==="open"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":n==="closed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":n==="pending"?"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300";return c.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full capitalize ${e}`,children:n})},FY=()=>{const[n,e]=E.useState(null),[t,r]=E.useState(!0),[i,s]=E.useState(["> System initialized...","> Loading classified data...","> Connection secured...","> Access granted: Level 7 Clearance","> FBI CrimeConnect v2.4.1 ready"]);if(E.useEffect(()=>{(async()=>{r(!0);try{await new Promise(h=>setTimeout(h,300)),e(OY)}finally{r(!1)}})();const u=setInterval(()=>{const h=["> Scanning database...","> Cross-referencing evidence...","> Analyzing patterns...","> Updating threat levels...","> Synchronizing with NCIC...","> Checking for updates...","> System status: Operational"];s(p=>{const m=[...p,h[Math.floor(Math.random()*h.length)]];return m.length>10?m.slice(-10):m})},3e3);return()=>clearInterval(u)},[]),t)return c.jsxs("div",{className:"py-10 space-y-6",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((l,u)=>c.jsx("div",{className:"h-28 rounded-lg bg-muted animate-pulse"},u))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"h-80 rounded-lg bg-muted animate-pulse lg:col-span-2"}),c.jsx("div",{className:"h-80 rounded-lg bg-muted animate-pulse"})]})]});if(!n)return c.jsx("div",{children:"Failed to load"});const a=[{title:"Total Cases",value:n.totalCases,icon:ma,trend:"+12% this month",color:"from-blue-500 to-cyan-500"},{title:"Open Cases",value:n.openCases,icon:XA,trend:`${Math.round(n.openCases/n.totalCases*100)}% of total`,color:"from-amber-500 to-orange-500"},{title:"Criminals",value:n.totalCriminals,icon:Ad,trend:"+5% this month",color:"from-red-500 to-pink-500"},{title:"Evidence",value:n.totalEvidence,icon:KM,trend:"+24% this month",color:"from-green-500 to-emerald-500"}],o=[{name:"Database",status:"Operational",icon:Ad,color:"text-green-400"},{name:"Network",status:"Secure",icon:bl,color:"text-green-400"},{name:"Surveillance",status:"Active",icon:eo,color:"text-green-400"},{name:"Communications",status:"Encrypted",icon:Jh,color:"text-green-400"},{name:"Servers",status:"Online",icon:xL,color:"text-green-400"},{name:"AI Analysis",status:"Running",icon:mL,color:"text-amber-400"}];return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsxs("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 flex items-center justify-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/10 to-transparent animate-pulse"}),c.jsx(xi,{className:"h-6 w-6 text-cyan-400 relative z-10"})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight neon-text bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"FBI CRIMECONNECT"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"CLASSIFIED - FBI LAW ENFORCEMENT ONLY"})]})]}),c.jsx("div",{className:"absolute -bottom-2 left-0 w-48 h-1 bg-gradient-to-r from-cyan-400 to-transparent rounded-full"})]}),c.jsxs("div",{className:"glass-card rounded-xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-300 to-blue-400 bg-clip-text text-transparent",children:"SYSTEM STATUS"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 animate-pulse"}),c.jsx("span",{className:"text-xs text-green-400",children:"ALL SYSTEMS OPERATIONAL"})]})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:o.map((l,u)=>c.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-cyan-500/5 border border-cyan-500/10",children:[c.jsx(l.icon,{className:`h-4 w-4 ${l.color}`}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-medium",children:l.name}),c.jsx("div",{className:"text-[10px] text-muted-foreground",children:l.status})]})]},l.name))})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((l,u)=>c.jsxs("div",{className:"glass-card rounded-xl p-6 scan-line hover:scale-105 transition-transform duration-300 relative overflow-hidden",style:{animationDelay:`${u*100}ms`},children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-cyan-400/10 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:`h-12 w-12 rounded-lg bg-gradient-to-br ${l.color}/20 border ${l.color.split(" ")[0]}/30 flex items-center justify-center relative overflow-hidden`,children:[c.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.color}/10 to-transparent animate-pulse`}),c.jsx(l.icon,{className:`h-6 w-6 ${l.color.split(" ")[0].replace("from-","text-")} relative z-10`})]}),c.jsx(bb,{className:"h-4 w-4 text-cyan-400/30"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:l.title}),c.jsx("div",{className:`text-3xl font-bold bg-gradient-to-r ${l.color} bg-clip-text text-transparent`,children:l.value})]}),c.jsxs("div",{className:"text-xs text-cyan-400/70 mt-4 flex items-center gap-1",children:[c.jsx(XA,{className:"h-3 w-3"})," ",l.trend]})]},l.title))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 glass-card rounded-xl p-6 data-stream relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"}),c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-300 to-blue-400 bg-clip-text text-transparent flex items-center gap-2",children:[c.jsx(ma,{className:"h-5 w-5"}),"RECENT CASES"]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Latest case files and status"})]}),c.jsx(lt,{asChild:!0,variant:"outline",size:"sm",className:"bg-cyan-500/10 border-cyan-500/30 hover:bg-cyan-500/20 hover:border-cyan-500/50 transition-all",children:c.jsxs(Sa,{to:"/cases",className:"flex items-center gap-2",children:["View all",c.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-cyan-400 animate-pulse"})]})})]}),c.jsx("div",{className:"space-y-3",children:n.recentCases.slice(0,5).map((l,u)=>c.jsxs("div",{className:"group relative p-4 rounded-lg bg-gradient-to-r from-cyan-500/5 to-transparent border border-cyan-500/10 hover:border-cyan-500/30 transition-all duration-300 hover:translate-x-1",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"}),c.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[c.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 flex items-center justify-center flex-shrink-0",children:c.jsx(ma,{className:"h-5 w-5 text-cyan-400"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs(Sa,{to:`/cases/${l.id}`,className:"text-sm font-semibold hover:text-cyan-400 transition-colors line-clamp-1 flex items-center gap-2",children:[c.jsx("span",{className:"h-2 w-2 rounded-full bg-cyan-400 animate-pulse"}),l.title]}),c.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1 mt-0.5",children:l.description})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs flex-shrink-0",children:[c.jsxs("div",{className:"hidden md:flex items-center gap-1.5 text-muted-foreground",children:[c.jsx(qA,{className:"h-3.5 w-3.5 text-cyan-400/70"}),l.updatedAt.toLocaleDateString()]}),c.jsxs("div",{className:"hidden md:flex items-center gap-1.5 text-muted-foreground",children:[c.jsx(kc,{className:"h-3.5 w-3.5 text-cyan-400/70"}),"Station ",l.policeStationId]}),c.jsx(jY,{status:l.status})]})]})]},l.id))})]}),c.jsxs("div",{className:"glass-card rounded-xl p-6 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-400/20 to-transparent blur-3xl"}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"}),c.jsxs("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-300 to-blue-400 bg-clip-text text-transparent mb-2 relative z-10 flex items-center gap-2",children:[c.jsx(bb,{className:"h-5 w-5"}),"CASE DISTRIBUTION"]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-6 relative z-10",children:"Open vs. closed vs. pending"}),c.jsxs("div",{className:"flex flex-col items-center gap-6 relative z-10",children:[c.jsxs("div",{className:"relative w-40 h-40",children:[c.jsx("div",{className:"absolute inset-0 rounded-full animate-pulse",style:{background:`conic-gradient(
                  from 0deg,
                  rgb(34,211,238) 0% ${n.openCases/n.totalCases*100}%,
                  rgb(34,197,94) ${n.openCases/n.totalCases*100}% ${(n.closedCases/n.totalCases+n.openCases/n.totalCases)*100}%,
                  rgb(148,163,184) ${(n.closedCases/n.totalCases+n.openCases/n.totalCases)*100}% 100%
                )`,boxShadow:"0 0 30px rgba(0, 200, 255, 0.3)"}}),c.jsx("div",{className:"absolute inset-[20%] rounded-full bg-background/90 backdrop-blur-sm border-2 border-cyan-500/20 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:n.totalCases}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})})]}),c.jsxs("div",{className:"space-y-3 text-sm w-full",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg bg-cyan-500/5 border border-cyan-500/10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-cyan-400 animate-pulse"}),c.jsx("span",{children:"Open"})]}),c.jsx("span",{className:"font-bold text-cyan-400",children:n.openCases})]}),c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg bg-green-500/5 border border-green-500/10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-green-400"}),c.jsx("span",{children:"Closed"})]}),c.jsx("span",{className:"font-bold text-green-400",children:n.closedCases})]}),c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg bg-slate-500/5 border border-slate-500/10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-slate-400"}),c.jsx("span",{children:"Pending"})]}),c.jsx("span",{className:"font-bold text-slate-400",children:n.totalCases-n.openCases-n.closedCases})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"glass-card rounded-xl p-6 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"}),c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-green-500/20 to-emerald-500/20 border border-green-500/30 flex items-center justify-center",children:c.jsx(yL,{className:"h-4 w-4 text-green-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-green-300 to-emerald-400 bg-clip-text text-transparent",children:"TERMINAL CONSOLE"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"System logs and diagnostics"})]})]}),c.jsxs("div",{className:"bg-black/30 rounded-lg p-4 font-mono text-sm h-48 overflow-y-auto",children:[i.map((l,u)=>c.jsxs("div",{className:`mb-1 ${l.startsWith(">")?"text-cyan-400":l.includes("ERROR")?"text-red-400":"text-green-400"}`,children:[c.jsx("span",{className:"text-green-400 mr-2",children:">"}),l.substring(1)]},u)),c.jsxs("div",{className:"flex items-center mt-2",children:[c.jsx("span",{className:"text-green-400 mr-2",children:">"}),c.jsx("div",{className:"h-4 w-2 bg-green-400 animate-pulse"})]})]})]}),c.jsxs("div",{className:"glass-card rounded-xl p-6 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-red-500/50 to-transparent"}),c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-red-500/20 to-orange-500/20 border border-red-500/30 flex items-center justify-center",children:c.jsx(Js,{className:"h-5 w-5 text-red-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-red-300 to-orange-400 bg-clip-text text-transparent",children:"SECURITY ALERTS"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Real-time monitoring"})]})]}),c.jsx("div",{className:"space-y-3",children:[{id:1,level:"warning",message:"Unauthorized access attempt detected in Sector 7",time:"14:22:41",color:"amber"},{id:2,level:"info",message:"System security scan completed",time:"13:05:12",color:"blue"},{id:3,level:"alert",message:"Multiple login failures for user REDACTED",time:"11:47:28",color:"red"},{id:4,level:"info",message:"Database backup completed successfully",time:"09:15:33",color:"green"}].map(l=>c.jsxs("div",{className:`relative group p-3 rounded-lg bg-${l.color}-500/5 border border-${l.color}-500/20 hover:border-${l.color}-500/40 transition-all duration-300`,children:[c.jsx("div",{className:`absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-${l.color}-500 to-transparent rounded-l-lg`}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`h-8 w-8 rounded-lg bg-${l.color}-500/20 flex items-center justify-center flex-shrink-0`,children:c.jsx(Js,{className:`h-4 w-4 text-${l.color}-400`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-medium text-foreground line-clamp-2 mb-1",children:l.message}),c.jsxs("div",{className:`text-xs text-${l.color}-400/70 flex items-center gap-1`,children:[c.jsx(qA,{className:"h-3 w-3"}),l.time]})]}),c.jsx("div",{className:`h-2 w-2 rounded-full bg-${l.color}-400 animate-pulse`})]})]},l.id))})]})]}),c.jsxs("div",{className:"glass-card rounded-xl p-4 text-center",children:[c.jsxs("p",{className:"text-xs text-muted-foreground",children:["FBI CrimeConnect System v2.4.1 | CLASSIFIED - LAW ENFORCEMENT ONLY |",c.jsx("span",{className:"text-cyan-400/70",children:" SECURE CONNECTION ESTABLISHED"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[c.jsx(bl,{className:"h-3 w-3 text-green-400"}),c.jsx("span",{className:"text-[10px] text-green-400",children:"END-TO-END ENCRYPTED"})]})]})]})},nn=E.forwardRef(({className:n,type:e,...t},r)=>c.jsx("input",{type:e,className:Qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));nn.displayName="Input";const g1=[{id:1,title:"Armed Robbery - Downtown Bank",status:"open",description:"Armed robbery at First National Bank on Main Street",policeStationId:1,createdAt:new Date("2023-05-15"),updatedAt:new Date("2023-05-18")},{id:2,title:"Vehicle Theft - Highland Park",status:"pending",description:"Luxury vehicle stolen from Highland Park residential area",policeStationId:2,createdAt:new Date("2023-06-02"),updatedAt:new Date("2023-06-05")},{id:3,title:"Residential Burglary - Westside",status:"closed",description:"Break-in and theft at residential property in Westside neighborhood",policeStationId:1,createdAt:new Date("2023-04-10"),updatedAt:new Date("2023-04-29")},{id:4,title:"Assault - Downtown Bar",status:"open",description:"Physical assault reported outside The Blue Note Bar",policeStationId:3,createdAt:new Date("2023-06-10"),updatedAt:new Date("2023-06-10")},{id:5,title:"Drug Trafficking - Harbor Area",status:"pending",description:"Suspected drug trafficking operation near the harbor warehouses",policeStationId:2,createdAt:new Date("2023-05-28"),updatedAt:new Date("2023-06-03")},{id:6,title:"Corporate Fraud - Meridian Corp",status:"open",description:"Investigation into financial irregularities at Meridian Corporation",policeStationId:4,createdAt:new Date("2023-06-05"),updatedAt:new Date("2023-06-08")},{id:7,title:"Missing Person - Emily Chen",status:"closed",description:"24-year-old female reported missing from university campus",policeStationId:1,createdAt:new Date("2023-03-14"),updatedAt:new Date("2023-03-28")},{id:8,title:"Vandalism - City Park",status:"closed",description:"Extensive property damage at City Park central fountain",policeStationId:3,createdAt:new Date("2023-05-01"),updatedAt:new Date("2023-05-15")}],UY=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(!0),[i,s]=E.useState(""),[a,o]=E.useState("all"),[l,u]=E.useState("date"),[h,p]=E.useState("desc"),[m,g]=E.useState(null);Sf(),_o();const[v,y]=E.useState(null),[w,x]=E.useState({title:"",description:"",status:"open",policeStationId:1}),[b,S]=E.useState(10),[T,C]=E.useState(!1),P=E.useRef(null),A=()=>{const W=localStorage.getItem("cases");if(W)try{return JSON.parse(W).map(O=>({...O,createdAt:new Date(O.createdAt),updatedAt:new Date(O.updatedAt)}))}catch{return g1}return g1};E.useEffect(()=>{r(!0);let W=A();localStorage.getItem("cases")||localStorage.setItem("cases",JSON.stringify(g1)),e(W),r(!1)},[]);const k=W=>{g(W),setTimeout(()=>{const te=n.filter(O=>O.id!==W);e(te),localStorage.setItem("cases",JSON.stringify(te)),g(null),en.success("Case deleted!")},500)},I=W=>{y(W),x({title:W.title,description:W.description,status:W.status,policeStationId:W.policeStationId})},R=W=>{const{name:te,value:O}=W.target;x(B=>({...B,[te]:te==="policeStationId"?Number(O):O}))},U=()=>{if(!v)return;const W=n.map(te=>te.id===v.id?{...te,...w,updatedAt:new Date}:te);e(W),localStorage.setItem("cases",JSON.stringify(W)),y(null),en.success("Case updated!")},V=()=>{y(null)},J=W=>{l===W?p(h==="asc"?"desc":"asc"):(u(W),p("asc"))},z=n.filter(W=>(a==="all"||W.status===a)&&(W.title.toLowerCase().includes(i.toLowerCase())||W.description.toLowerCase().includes(i.toLowerCase()))).sort((W,te)=>l==="title"?h==="asc"?W.title.localeCompare(te.title):te.title.localeCompare(W.title):h==="asc"?new Date(W.createdAt).getTime()-new Date(te.createdAt).getTime():new Date(te.createdAt).getTime()-new Date(W.createdAt).getTime());E.useEffect(()=>{const W=()=>{if(!P.current)return;const{scrollTop:O,scrollHeight:B,clientHeight:Y}=P.current;O+Y>=B-50&&!T&&b<z.length&&(C(!0),setTimeout(()=>{S(L=>Math.min(L+10,z.length)),C(!1)},500))},te=P.current;return te&&te.addEventListener("scroll",W),()=>{te&&te.removeEventListener("scroll",W)}},[z.length,T,b]);const Q=({status:W})=>{const te={open:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",closed:"bg-green-500/10 text-green-400 border-green-500/30",pending:"bg-yellow-500/10 text-yellow-400 border-yellow-500/30",archived:"bg-gray-500/10 text-gray-400 border-gray-500/30"};return c.jsx("span",{className:`text-xs px-2.5 py-1 rounded-lg uppercase font-medium border ${te[W]} backdrop-blur-sm`,children:W})};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"relative",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight neon-text bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Cases"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Manage all FBI active investigations"}),c.jsx("div",{className:"absolute -bottom-2 left-0 w-24 h-1 bg-gradient-to-r from-cyan-400 to-transparent rounded-full"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(lt,{asChild:!0,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white shadow-lg shadow-cyan-500/25",children:c.jsxs(Sa,{to:"/cases/add",className:"flex items-center gap-2",children:[c.jsx(vL,{className:"h-4 w-4"}),"New Case"]})})})]}),c.jsxs("div",{className:"glass-card rounded-xl p-6 scan-line",children:[c.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4 mb-6",children:[c.jsxs("div",{className:"flex-1 relative group",children:[c.jsx(Ol,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-cyan-400/70 group-focus-within:text-cyan-400 transition-colors z-10"}),c.jsx(nn,{placeholder:"Search cases by title or description...",className:"pl-11 h-11 bg-cyan-500/5 border-cyan-500/20 focus:border-cyan-500/50 focus:ring-cyan-500/20",value:i,onChange:W=>s(W.target.value)}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-cyan-400/0 via-cyan-400/5 to-cyan-400/0 opacity-0 group-focus-within:opacity-100 transition-opacity pointer-events-none"})]}),c.jsx("div",{className:"flex space-x-2",children:c.jsxs("div",{className:"flex items-center bg-cyan-500/5 border border-cyan-500/20 rounded-lg px-3 hover:border-cyan-500/40 transition-all",children:[c.jsx(F8,{className:"h-4 w-4 text-cyan-400/70 mr-2"}),c.jsxs("select",{className:"bg-transparent py-2.5 pr-2 border-0 focus:ring-0 text-sm focus:outline-none cursor-pointer",value:a,onChange:W=>o(W.target.value),children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"open",children:"Open"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"closed",children:"Closed"}),c.jsx("option",{value:"archived",children:"Archived"})]})]})})]}),c.jsx("div",{ref:P,style:{maxHeight:"60vh",overflowY:"auto"},children:t?c.jsx("div",{className:"space-y-4 py-4",children:[...Array(5)].map((W,te)=>c.jsx("div",{className:"h-24 bg-muted rounded-lg animate-pulse"},te))}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"hidden md:flex py-3 px-4 text-sm font-medium text-muted-foreground",children:[c.jsx("div",{className:"flex-1 flex items-center",children:c.jsxs("button",{className:"flex items-center",onClick:()=>J("title"),children:["Title",l==="title"&&(h==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})}),c.jsx("div",{className:"w-24 text-center",children:"Status"}),c.jsx("div",{className:"w-32 flex items-center justify-end",children:c.jsxs("button",{className:"flex items-center",onClick:()=>J("date"),children:["Date",l==="date"&&(h==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})})]}),c.jsxs("div",{className:"divide-y divide-border",children:[z.length===0?c.jsxs("div",{className:"py-8 text-center",children:[c.jsx(ma,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:"No cases found"})]}):z.slice(0,b).map(W=>c.jsx("div",{className:"block hover:bg-muted/50 transition-colors",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center py-4 px-4",children:[c.jsxs("div",{className:"flex items-start flex-1 min-w-0",children:[c.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded bg-primary/10 flex items-center justify-center mr-4",children:c.jsx(ma,{className:"h-5 w-5 text-primary"})}),c.jsx("div",{children:v&&v.id===W.id?c.jsxs("form",{className:"space-y-2",onSubmit:te=>{te.preventDefault(),U()},children:[c.jsx("input",{className:"block w-full border rounded px-2 py-1 mb-1",name:"title",value:w.title,onChange:R,required:!0}),c.jsx("textarea",{className:"block w-full border rounded px-2 py-1 mb-1",name:"description",value:w.description,onChange:R,required:!0}),c.jsxs("select",{className:"block w-full border rounded px-2 py-1 mb-1",name:"status",value:w.status,onChange:R,children:[c.jsx("option",{value:"open",children:"Open"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"closed",children:"Closed"}),c.jsx("option",{value:"archived",children:"Archived"})]}),c.jsx("input",{className:"block w-full border rounded px-2 py-1 mb-1",name:"policeStationId",type:"number",min:"1",value:w.policeStationId,onChange:R,required:!0}),c.jsxs("div",{className:"flex space-x-2 mt-2",children:[c.jsx(lt,{size:"sm",type:"submit",children:"Save"}),c.jsx(lt,{size:"sm",variant:"outline",type:"button",onClick:V,children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"font-medium text-foreground leading-tight",children:W.title}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:W.description})]})})]}),c.jsx("div",{className:"mt-2 md:mt-0 md:w-24 md:text-center",children:c.jsx(Q,{status:W.status})}),c.jsx("div",{className:"mt-2 md:mt-0 md:w-32 md:text-right text-sm text-muted-foreground",children:new Date(W.createdAt).toLocaleDateString()}),c.jsx("div",{className:"mt-2 md:mt-0 md:w-32 md:text-right flex space-x-2 justify-end",children:v&&v.id===W.id?null:c.jsxs(c.Fragment,{children:[c.jsx(lt,{size:"sm",variant:"outline",onClick:()=>I(W),children:"Edit"}),c.jsx(lt,{size:"sm",variant:"destructive",onClick:()=>k(W.id),disabled:m===W.id,children:m===W.id?"Deleting...":"Delete"})]})})]})},W.id)),T&&c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"h-6 w-6 rounded-full border-4 border-primary border-t-transparent animate-spin"})})]})]})})]})]})};var hm=n=>n.type==="checkbox",xc=n=>n instanceof Date,qr=n=>n==null;const VO=n=>typeof n=="object";var qn=n=>!qr(n)&&!Array.isArray(n)&&VO(n)&&!xc(n),HO=n=>qn(n)&&n.target?hm(n.target)?n.target.checked:n.target.value:n,zY=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,WO=(n,e)=>n.has(zY(e)),BY=n=>{const e=n.constructor&&n.constructor.prototype;return qn(e)&&e.hasOwnProperty("isPrototypeOf")},MT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function li(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(MT&&(n instanceof Blob||n instanceof FileList))&&(t||qn(n)))if(e=t?[]:{},!t&&!BY(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=li(n[r]));else return n;return e}var Ry=n=>Array.isArray(n)?n.filter(Boolean):[],Fn=n=>n===void 0,He=(n,e,t)=>{if(!e||!qn(n))return t;const r=Ry(e.split(/[,[\].]+?/)).reduce((i,s)=>qr(i)?i:i[s],n);return Fn(r)||r===n?Fn(n[e])?t:n[e]:r},ns=n=>typeof n=="boolean",TT=n=>/^\w*$/.test(n),GO=n=>Ry(n.replace(/["|']|\]/g,"").split(/\.|\[/)),rn=(n,e,t)=>{let r=-1;const i=TT(e)?[e]:GO(e),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let l=t;if(r!==a){const u=n[o];l=qn(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(o==="__proto__")return;n[o]=l,n=n[o]}return n};const ox={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ns={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ja={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},$O=me.createContext(null),Py=()=>me.useContext($O),VY=n=>{const{children:e,...t}=n;return me.createElement($O.Provider,{value:t},e)};var XO=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Ns.all&&(e._proxyFormState[a]=!r||Ns.all),t&&(t[a]=!0),n[a]}});return i},ci=n=>qn(n)&&!Object.keys(n).length,YO=(n,e,t,r)=>{t(n);const{name:i,...s}=n;return ci(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Ns.all))},ep=n=>Array.isArray(n)?n:[n],qO=(n,e,t)=>!n||!e||n===e||ep(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r)));function CT(n){const e=me.useRef(n);e.current=n,me.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}function HY(n){const e=Py(),{control:t=e.control,disabled:r,name:i,exact:s}=n||{},[a,o]=me.useState(t._formState),l=me.useRef(!0),u=me.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=me.useRef(i);return h.current=i,CT({disabled:r,next:p=>l.current&&qO(h.current,p.name,s)&&YO(p,u.current,t._updateFormState)&&o({...t._formState,...p}),subject:t._subjects.state}),me.useEffect(()=>(l.current=!0,u.current.isValid&&t._updateValid(!0),()=>{l.current=!1}),[t]),XO(a,t,u.current,!1)}var ca=n=>typeof n=="string",ZO=(n,e,t,r,i)=>ca(n)?(r&&e.watch.add(n),He(t,n,i)):Array.isArray(n)?n.map(s=>(r&&e.watch.add(s),He(t,s))):(r&&(e.watchAll=!0),t);function WY(n){const e=Py(),{control:t=e.control,name:r,defaultValue:i,disabled:s,exact:a}=n||{},o=me.useRef(r);o.current=r,CT({disabled:s,subject:t._subjects.values,next:h=>{qO(o.current,h.name,a)&&u(li(ZO(o.current,t._names,h.values||t._formValues,!1,i)))}});const[l,u]=me.useState(t._getWatch(r,i));return me.useEffect(()=>t._removeUnmounted()),l}function GY(n){const e=Py(),{name:t,disabled:r,control:i=e.control,shouldUnregister:s}=n,a=WO(i._names.array,t),o=WY({control:i,name:t,defaultValue:He(i._formValues,t,He(i._defaultValues,t,n.defaultValue)),exact:!0}),l=HY({control:i,name:t,exact:!0}),u=me.useRef(i.register(t,{...n.rules,value:o,...ns(n.disabled)?{disabled:n.disabled}:{}}));return me.useEffect(()=>{const h=i._options.shouldUnregister||s,p=(m,g)=>{const v=He(i._fields,m);v&&v._f&&(v._f.mount=g)};if(p(t,!0),h){const m=li(He(i._options.defaultValues,t));rn(i._defaultValues,t,m),Fn(He(i._formValues,t))&&rn(i._formValues,t,m)}return()=>{(a?h&&!i._state.action:h)?i.unregister(t):p(t,!1)}},[t,i,a,s]),me.useEffect(()=>{He(i._fields,t)&&i._updateDisabledField({disabled:r,fields:i._fields,name:t,value:He(i._fields,t)._f.value})},[r,t,i]),{field:{name:t,value:o,...ns(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:me.useCallback(h=>u.current.onChange({target:{value:HO(h),name:t},type:ox.CHANGE}),[t]),onBlur:me.useCallback(()=>u.current.onBlur({target:{value:He(i._formValues,t),name:t},type:ox.BLUR}),[t,i]),ref:me.useCallback(h=>{const p=He(i._fields,t);p&&h&&(p._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:m=>h.setCustomValidity(m),reportValidity:()=>h.reportValidity()})},[i._fields,t])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!He(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!He(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!He(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!He(l.validatingFields,t)},error:{enumerable:!0,get:()=>He(l.errors,t)}})}}const $Y=n=>n.render(GY(n));var KO=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},HR=n=>({isOnSubmit:!n||n===Ns.onSubmit,isOnBlur:n===Ns.onBlur,isOnChange:n===Ns.onChange,isOnAll:n===Ns.all,isOnTouch:n===Ns.onTouched}),WR=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const tp=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const s=He(n,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(tp(o,e))break}else if(qn(o)&&tp(o,e))break}}};var XY=(n,e,t)=>{const r=ep(He(n,t));return rn(r,"root",e[t]),rn(n,t,r),n},NT=n=>n.type==="file",to=n=>typeof n=="function",lx=n=>{if(!MT)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},u0=n=>ca(n),AT=n=>n.type==="radio",cx=n=>n instanceof RegExp;const GR={value:!1,isValid:!1},$R={value:!0,isValid:!0};var JO=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Fn(n[0].attributes.value)?Fn(n[0].value)||n[0].value===""?$R:{value:n[0].value,isValid:!0}:$R:GR}return GR};const XR={isValid:!1,value:null};var QO=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,XR):XR;function YR(n,e,t="validate"){if(u0(n)||Array.isArray(n)&&n.every(u0)||ns(n)&&!n)return{type:t,message:u0(n)?n:"",ref:e}}var Mu=n=>qn(n)&&!cx(n)?n:{value:n,message:""},qR=async(n,e,t,r,i)=>{const{ref:s,refs:a,required:o,maxLength:l,minLength:u,min:h,max:p,pattern:m,validate:g,name:v,valueAsNumber:y,mount:w,disabled:x}=n._f,b=He(e,v);if(!w||x)return{};const S=a?a[0]:s,T=V=>{r&&S.reportValidity&&(S.setCustomValidity(ns(V)?"":V||""),S.reportValidity())},C={},P=AT(s),A=hm(s),k=P||A,I=(y||NT(s))&&Fn(s.value)&&Fn(b)||lx(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,R=KO.bind(null,v,t,C),U=(V,J,z,Q=ja.maxLength,W=ja.minLength)=>{const te=V?J:z;C[v]={type:V?Q:W,message:te,ref:s,...R(V?Q:W,te)}};if(i?!Array.isArray(b)||!b.length:o&&(!k&&(I||qr(b))||ns(b)&&!b||A&&!JO(a).isValid||P&&!QO(a).isValid)){const{value:V,message:J}=u0(o)?{value:!!o,message:o}:Mu(o);if(V&&(C[v]={type:ja.required,message:J,ref:S,...R(ja.required,J)},!t))return T(J),C}if(!I&&(!qr(h)||!qr(p))){let V,J;const z=Mu(p),Q=Mu(h);if(!qr(b)&&!isNaN(b)){const W=s.valueAsNumber||b&&+b;qr(z.value)||(V=W>z.value),qr(Q.value)||(J=W<Q.value)}else{const W=s.valueAsDate||new Date(b),te=Y=>new Date(new Date().toDateString()+" "+Y),O=s.type=="time",B=s.type=="week";ca(z.value)&&b&&(V=O?te(b)>te(z.value):B?b>z.value:W>new Date(z.value)),ca(Q.value)&&b&&(J=O?te(b)<te(Q.value):B?b<Q.value:W<new Date(Q.value))}if((V||J)&&(U(!!V,z.message,Q.message,ja.max,ja.min),!t))return T(C[v].message),C}if((l||u)&&!I&&(ca(b)||i&&Array.isArray(b))){const V=Mu(l),J=Mu(u),z=!qr(V.value)&&b.length>+V.value,Q=!qr(J.value)&&b.length<+J.value;if((z||Q)&&(U(z,V.message,J.message),!t))return T(C[v].message),C}if(m&&!I&&ca(b)){const{value:V,message:J}=Mu(m);if(cx(V)&&!b.match(V)&&(C[v]={type:ja.pattern,message:J,ref:s,...R(ja.pattern,J)},!t))return T(J),C}if(g){if(to(g)){const V=await g(b,e),J=YR(V,S);if(J&&(C[v]={...J,...R(ja.validate,J.message)},!t))return T(J.message),C}else if(qn(g)){let V={};for(const J in g){if(!ci(V)&&!t)break;const z=YR(await g[J](b,e),S,J);z&&(V={...z,...R(J,z.message)},T(z.message),t&&(C[v]=V))}if(!ci(V)&&(C[v]={ref:S,...V},!t))return C}}return T(!0),C};function YY(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Fn(n)?r++:n[e[r++]];return n}function qY(n){for(const e in n)if(n.hasOwnProperty(e)&&!Fn(n[e]))return!1;return!0}function rr(n,e){const t=Array.isArray(e)?e:TT(e)?[e]:GO(e),r=t.length===1?n:YY(n,t),i=t.length-1,s=t[i];return r&&delete r[s],i!==0&&(qn(r)&&ci(r)||Array.isArray(r)&&qY(r))&&rr(n,t.slice(0,-1)),n}var v1=()=>{let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next&&s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}},Wb=n=>qr(n)||!VO(n);function Jo(n,e){if(Wb(n)||Wb(e))return n===e;if(xc(n)&&xc(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(xc(s)&&xc(a)||qn(s)&&qn(a)||Array.isArray(s)&&Array.isArray(a)?!Jo(s,a):s!==a)return!1}}return!0}var ej=n=>n.type==="select-multiple",ZY=n=>AT(n)||hm(n),x1=n=>lx(n)&&n.isConnected,tj=n=>{for(const e in n)if(to(n[e]))return!0;return!1};function ux(n,e={}){const t=Array.isArray(n);if(qn(n)||t)for(const r in n)Array.isArray(n[r])||qn(n[r])&&!tj(n[r])?(e[r]=Array.isArray(n[r])?[]:{},ux(n[r],e[r])):qr(n[r])||(e[r]=!0);return e}function nj(n,e,t){const r=Array.isArray(n);if(qn(n)||r)for(const i in n)Array.isArray(n[i])||qn(n[i])&&!tj(n[i])?Fn(e)||Wb(t[i])?t[i]=Array.isArray(n[i])?ux(n[i],[]):{...ux(n[i])}:nj(n[i],qr(e)?{}:e[i],t[i]):t[i]=!Jo(n[i],e[i]);return t}var mh=(n,e)=>nj(n,e,ux(e)),rj=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Fn(n)?n:e?n===""?NaN:n&&+n:t&&ca(n)?new Date(n):r?r(n):n;function y1(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return NT(e)?e.files:AT(e)?QO(n.refs).value:ej(e)?[...e.selectedOptions].map(({value:t})=>t):hm(e)?JO(n.refs).value:rj(Fn(e.value)?n.ref.value:e.value,n)}var KY=(n,e,t,r)=>{const i={};for(const s of n){const a=He(e,s);a&&rn(i,s,a._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},gh=n=>Fn(n)?n:cx(n)?n.source:qn(n)?cx(n.value)?n.value.source:n.value:n;const ZR="AsyncFunction";var JY=n=>(!n||!n.validate)&&!!(to(n.validate)&&n.validate.constructor.name===ZR||qn(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===ZR)),QY=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function KR(n,e,t){const r=He(n,t);if(r||TT(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),a=He(e,s),o=He(n,s);if(a&&!Array.isArray(a)&&t!==s)return{name:t};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:t}}var eq=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,tq=(n,e)=>!Ry(He(n,e)).length&&rr(n,e);const nq={mode:Ns.onSubmit,reValidateMode:Ns.onChange,shouldFocusError:!0};function rq(n={}){let e={...nq,...n},t={submitCount:0,isDirty:!1,isLoading:to(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=qn(e.defaultValues)||qn(e.values)?li(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:li(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:v1(),array:v1(),state:v1()},m=HR(e.mode),g=HR(e.reValidateMode),v=e.criteriaMode===Ns.all,y=H=>ee=>{clearTimeout(u),u=setTimeout(H,ee)},w=async H=>{if(!n.disabled&&(h.isValid||H)){const ee=e.resolver?ci((await k()).errors):await R(r,!0);ee!==t.isValid&&p.state.next({isValid:ee})}},x=(H,ee)=>{!n.disabled&&(h.isValidating||h.validatingFields)&&((H||Array.from(o.mount)).forEach(se=>{se&&(ee?rn(t.validatingFields,se,ee):rr(t.validatingFields,se))}),p.state.next({validatingFields:t.validatingFields,isValidating:!ci(t.validatingFields)}))},b=(H,ee=[],se,Me,Ae=!0,F=!0)=>{if(Me&&se&&!n.disabled){if(a.action=!0,F&&Array.isArray(He(r,H))){const j=se(He(r,H),Me.argA,Me.argB);Ae&&rn(r,H,j)}if(F&&Array.isArray(He(t.errors,H))){const j=se(He(t.errors,H),Me.argA,Me.argB);Ae&&rn(t.errors,H,j),tq(t.errors,H)}if(h.touchedFields&&F&&Array.isArray(He(t.touchedFields,H))){const j=se(He(t.touchedFields,H),Me.argA,Me.argB);Ae&&rn(t.touchedFields,H,j)}h.dirtyFields&&(t.dirtyFields=mh(i,s)),p.state.next({name:H,isDirty:V(H,ee),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else rn(s,H,ee)},S=(H,ee)=>{rn(t.errors,H,ee),p.state.next({errors:t.errors})},T=H=>{t.errors=H,p.state.next({errors:t.errors,isValid:!1})},C=(H,ee,se,Me)=>{const Ae=He(r,H);if(Ae){const F=He(s,H,Fn(se)?He(i,H):se);Fn(F)||Me&&Me.defaultChecked||ee?rn(s,H,ee?F:y1(Ae._f)):Q(H,F),a.mount&&w()}},P=(H,ee,se,Me,Ae)=>{let F=!1,j=!1;const ie={name:H};if(!n.disabled){const Te=!!(He(r,H)&&He(r,H)._f&&He(r,H)._f.disabled);if(!se||Me){h.isDirty&&(j=t.isDirty,t.isDirty=ie.isDirty=V(),F=j!==ie.isDirty);const _e=Te||Jo(He(i,H),ee);j=!!(!Te&&He(t.dirtyFields,H)),_e||Te?rr(t.dirtyFields,H):rn(t.dirtyFields,H,!0),ie.dirtyFields=t.dirtyFields,F=F||h.dirtyFields&&j!==!_e}if(se){const _e=He(t.touchedFields,H);_e||(rn(t.touchedFields,H,se),ie.touchedFields=t.touchedFields,F=F||h.touchedFields&&_e!==se)}F&&Ae&&p.state.next(ie)}return F?ie:{}},A=(H,ee,se,Me)=>{const Ae=He(t.errors,H),F=h.isValid&&ns(ee)&&t.isValid!==ee;if(n.delayError&&se?(l=y(()=>S(H,se)),l(n.delayError)):(clearTimeout(u),l=null,se?rn(t.errors,H,se):rr(t.errors,H)),(se?!Jo(Ae,se):Ae)||!ci(Me)||F){const j={...Me,...F&&ns(ee)?{isValid:ee}:{},errors:t.errors,name:H};t={...t,...j},p.state.next(j)}},k=async H=>{x(H,!0);const ee=await e.resolver(s,e.context,KY(H||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(H),ee},I=async H=>{const{errors:ee}=await k(H);if(H)for(const se of H){const Me=He(ee,se);Me?rn(t.errors,se,Me):rr(t.errors,se)}else t.errors=ee;return ee},R=async(H,ee,se={valid:!0})=>{for(const Me in H){const Ae=H[Me];if(Ae){const{_f:F,...j}=Ae;if(F){const ie=o.array.has(F.name),Te=Ae._f&&JY(Ae._f);Te&&h.validatingFields&&x([Me],!0);const _e=await qR(Ae,s,v,e.shouldUseNativeValidation&&!ee,ie);if(Te&&h.validatingFields&&x([Me]),_e[F.name]&&(se.valid=!1,ee))break;!ee&&(He(_e,F.name)?ie?XY(t.errors,_e,F.name):rn(t.errors,F.name,_e[F.name]):rr(t.errors,F.name))}!ci(j)&&await R(j,ee,se)}}return se.valid},U=()=>{for(const H of o.unMount){const ee=He(r,H);ee&&(ee._f.refs?ee._f.refs.every(se=>!x1(se)):!x1(ee._f.ref))&&we(H)}o.unMount=new Set},V=(H,ee)=>!n.disabled&&(H&&ee&&rn(s,H,ee),!Jo(L(),i)),J=(H,ee,se)=>ZO(H,o,{...a.mount?s:Fn(ee)?i:ca(H)?{[H]:ee}:ee},se,ee),z=H=>Ry(He(a.mount?s:i,H,n.shouldUnregister?He(i,H,[]):[])),Q=(H,ee,se={})=>{const Me=He(r,H);let Ae=ee;if(Me){const F=Me._f;F&&(!F.disabled&&rn(s,H,rj(ee,F)),Ae=lx(F.ref)&&qr(ee)?"":ee,ej(F.ref)?[...F.ref.options].forEach(j=>j.selected=Ae.includes(j.value)):F.refs?hm(F.ref)?F.refs.length>1?F.refs.forEach(j=>(!j.defaultChecked||!j.disabled)&&(j.checked=Array.isArray(Ae)?!!Ae.find(ie=>ie===j.value):Ae===j.value)):F.refs[0]&&(F.refs[0].checked=!!Ae):F.refs.forEach(j=>j.checked=j.value===Ae):NT(F.ref)?F.ref.value="":(F.ref.value=Ae,F.ref.type||p.values.next({name:H,values:{...s}})))}(se.shouldDirty||se.shouldTouch)&&P(H,Ae,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&Y(H)},W=(H,ee,se)=>{for(const Me in ee){const Ae=ee[Me],F=`${H}.${Me}`,j=He(r,F);(o.array.has(H)||qn(Ae)||j&&!j._f)&&!xc(Ae)?W(F,Ae,se):Q(F,Ae,se)}},te=(H,ee,se={})=>{const Me=He(r,H),Ae=o.array.has(H),F=li(ee);rn(s,H,F),Ae?(p.array.next({name:H,values:{...s}}),(h.isDirty||h.dirtyFields)&&se.shouldDirty&&p.state.next({name:H,dirtyFields:mh(i,s),isDirty:V(H,F)})):Me&&!Me._f&&!qr(F)?W(H,F,se):Q(H,F,se),WR(H,o)&&p.state.next({...t}),p.values.next({name:a.mount?H:void 0,values:{...s}})},O=async H=>{a.mount=!0;const ee=H.target;let se=ee.name,Me=!0;const Ae=He(r,se),F=()=>ee.type?y1(Ae._f):HO(H),j=ie=>{Me=Number.isNaN(ie)||xc(ie)&&isNaN(ie.getTime())||Jo(ie,He(s,se,ie))};if(Ae){let ie,Te;const _e=F(),De=H.type===ox.BLUR||H.type===ox.FOCUS_OUT,tt=!QY(Ae._f)&&!e.resolver&&!He(t.errors,se)&&!Ae._f.deps||eq(De,He(t.touchedFields,se),t.isSubmitted,g,m),Ue=WR(se,o,De);rn(s,se,_e),De?(Ae._f.onBlur&&Ae._f.onBlur(H),l&&l(0)):Ae._f.onChange&&Ae._f.onChange(H);const We=P(se,_e,De,!1),mt=!ci(We)||Ue;if(!De&&p.values.next({name:se,type:H.type,values:{...s}}),tt)return h.isValid&&(n.mode==="onBlur"?De&&w():w()),mt&&p.state.next({name:se,...Ue?{}:We});if(!De&&Ue&&p.state.next({...t}),e.resolver){const{errors:zt}=await k([se]);if(j(_e),Me){const ze=KR(t.errors,r,se),Wt=KR(zt,r,ze.name||se);ie=Wt.error,se=Wt.name,Te=ci(zt)}}else x([se],!0),ie=(await qR(Ae,s,v,e.shouldUseNativeValidation))[se],x([se]),j(_e),Me&&(ie?Te=!1:h.isValid&&(Te=await R(r,!0)));Me&&(Ae._f.deps&&Y(Ae._f.deps),A(se,Te,ie,We))}},B=(H,ee)=>{if(He(t.errors,ee)&&H.focus)return H.focus(),1},Y=async(H,ee={})=>{let se,Me;const Ae=ep(H);if(e.resolver){const F=await I(Fn(H)?H:Ae);se=ci(F),Me=H?!Ae.some(j=>He(F,j)):se}else H?(Me=(await Promise.all(Ae.map(async F=>{const j=He(r,F);return await R(j&&j._f?{[F]:j}:j)}))).every(Boolean),!(!Me&&!t.isValid)&&w()):Me=se=await R(r);return p.state.next({...!ca(H)||h.isValid&&se!==t.isValid?{}:{name:H},...e.resolver||!H?{isValid:se}:{},errors:t.errors}),ee.shouldFocus&&!Me&&tp(r,B,H?Ae:o.mount),Me},L=H=>{const ee={...a.mount?s:i};return Fn(H)?ee:ca(H)?He(ee,H):H.map(se=>He(ee,se))},Z=(H,ee)=>({invalid:!!He((ee||t).errors,H),isDirty:!!He((ee||t).dirtyFields,H),error:He((ee||t).errors,H),isValidating:!!He(t.validatingFields,H),isTouched:!!He((ee||t).touchedFields,H)}),oe=H=>{H&&ep(H).forEach(ee=>rr(t.errors,ee)),p.state.next({errors:H?t.errors:{}})},de=(H,ee,se)=>{const Me=(He(r,H,{_f:{}})._f||{}).ref,Ae=He(t.errors,H)||{},{ref:F,message:j,type:ie,...Te}=Ae;rn(t.errors,H,{...Te,...ee,ref:Me}),p.state.next({name:H,errors:t.errors,isValid:!1}),se&&se.shouldFocus&&Me&&Me.focus&&Me.focus()},ye=(H,ee)=>to(H)?p.values.subscribe({next:se=>H(J(void 0,ee),se)}):J(H,ee,!0),we=(H,ee={})=>{for(const se of H?ep(H):o.mount)o.mount.delete(se),o.array.delete(se),ee.keepValue||(rr(r,se),rr(s,se)),!ee.keepError&&rr(t.errors,se),!ee.keepDirty&&rr(t.dirtyFields,se),!ee.keepTouched&&rr(t.touchedFields,se),!ee.keepIsValidating&&rr(t.validatingFields,se),!e.shouldUnregister&&!ee.keepDefaultValue&&rr(i,se);p.values.next({values:{...s}}),p.state.next({...t,...ee.keepDirty?{isDirty:V()}:{}}),!ee.keepIsValid&&w()},ne=({disabled:H,name:ee,field:se,fields:Me,value:Ae})=>{if(ns(H)&&a.mount||H){const F=H?void 0:Fn(Ae)?y1(se?se._f:He(Me,ee)._f):Ae;rn(s,ee,F),P(ee,F,!1,!1,!0)}},fe=(H,ee={})=>{let se=He(r,H);const Me=ns(ee.disabled)||ns(n.disabled);return rn(r,H,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:H}},name:H,mount:!0,...ee}}),o.mount.add(H),se?ne({field:se,disabled:ns(ee.disabled)?ee.disabled:n.disabled,name:H,value:ee.value}):C(H,!0,ee.value),{...Me?{disabled:ee.disabled||n.disabled}:{},...e.progressive?{required:!!ee.required,min:gh(ee.min),max:gh(ee.max),minLength:gh(ee.minLength),maxLength:gh(ee.maxLength),pattern:gh(ee.pattern)}:{},name:H,onChange:O,onBlur:O,ref:Ae=>{if(Ae){fe(H,ee),se=He(r,H);const F=Fn(Ae.value)&&Ae.querySelectorAll&&Ae.querySelectorAll("input,select,textarea")[0]||Ae,j=ZY(F),ie=se._f.refs||[];if(j?ie.find(Te=>Te===F):F===se._f.ref)return;rn(r,H,{_f:{...se._f,...j?{refs:[...ie.filter(x1),F,...Array.isArray(He(i,H))?[{}]:[]],ref:{type:F.type,name:H}}:{ref:F}}}),C(H,!1,void 0,F)}else se=He(r,H,{}),se._f&&(se._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(WO(o.array,H)&&a.action)&&o.unMount.add(H)}}},Le=()=>e.shouldFocusError&&tp(r,B,o.mount),ke=H=>{ns(H)&&(p.state.next({disabled:H}),tp(r,(ee,se)=>{const Me=He(r,se);Me&&(ee.disabled=Me._f.disabled||H,Array.isArray(Me._f.refs)&&Me._f.refs.forEach(Ae=>{Ae.disabled=Me._f.disabled||H}))},0,!1))},Re=(H,ee)=>async se=>{let Me;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let Ae=li(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:F,values:j}=await k();t.errors=F,Ae=j}else await R(r);if(rr(t.errors,"root"),ci(t.errors)){p.state.next({errors:{}});try{await H(Ae,se)}catch(F){Me=F}}else ee&&await ee({...t.errors},se),Le(),setTimeout(Le);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ci(t.errors)&&!Me,submitCount:t.submitCount+1,errors:t.errors}),Me)throw Me},X=(H,ee={})=>{He(r,H)&&(Fn(ee.defaultValue)?te(H,li(He(i,H))):(te(H,ee.defaultValue),rn(i,H,li(ee.defaultValue))),ee.keepTouched||rr(t.touchedFields,H),ee.keepDirty||(rr(t.dirtyFields,H),t.isDirty=ee.defaultValue?V(H,li(He(i,H))):V()),ee.keepError||(rr(t.errors,H),h.isValid&&w()),p.state.next({...t}))},Ee=(H,ee={})=>{const se=H?li(H):i,Me=li(se),Ae=ci(H),F=Ae?i:Me;if(ee.keepDefaultValues||(i=se),!ee.keepValues){if(ee.keepDirtyValues){const j=new Set([...o.mount,...Object.keys(mh(i,s))]);for(const ie of Array.from(j))He(t.dirtyFields,ie)?rn(F,ie,He(s,ie)):te(ie,He(F,ie))}else{if(MT&&Fn(H))for(const j of o.mount){const ie=He(r,j);if(ie&&ie._f){const Te=Array.isArray(ie._f.refs)?ie._f.refs[0]:ie._f.ref;if(lx(Te)){const _e=Te.closest("form");if(_e){_e.reset();break}}}}r={}}s=n.shouldUnregister?ee.keepDefaultValues?li(i):{}:li(F),p.array.next({values:{...F}}),p.values.next({values:{...F}})}o={mount:ee.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,a.watch=!!n.shouldUnregister,p.state.next({submitCount:ee.keepSubmitCount?t.submitCount:0,isDirty:Ae?!1:ee.keepDirty?t.isDirty:!!(ee.keepDefaultValues&&!Jo(H,i)),isSubmitted:ee.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:Ae?{}:ee.keepDirtyValues?ee.keepDefaultValues&&s?mh(i,s):t.dirtyFields:ee.keepDefaultValues&&H?mh(i,H):ee.keepDirty?t.dirtyFields:{},touchedFields:ee.keepTouched?t.touchedFields:{},errors:ee.keepErrors?t.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},pe=(H,ee)=>Ee(to(H)?H(s):H,ee);return{control:{register:fe,unregister:we,getFieldState:Z,handleSubmit:Re,setError:de,_executeSchema:k,_getWatch:J,_getDirty:V,_updateValid:w,_removeUnmounted:U,_updateFieldArray:b,_updateDisabledField:ne,_getFieldArray:z,_reset:Ee,_resetDefaultValues:()=>to(e.defaultValues)&&e.defaultValues().then(H=>{pe(H,e.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:H=>{t={...t,...H}},_disableForm:ke,_subjects:p,_proxyFormState:h,_setErrors:T,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(H){a=H},get _defaultValues(){return i},get _names(){return o},set _names(H){o=H},get _formState(){return t},set _formState(H){t=H},get _options(){return e},set _options(H){e={...e,...H}}},trigger:Y,register:fe,handleSubmit:Re,watch:ye,setValue:te,getValues:L,reset:pe,resetField:X,clearErrors:oe,unregister:we,setError:de,setFocus:(H,ee={})=>{const se=He(r,H),Me=se&&se._f;if(Me){const Ae=Me.refs?Me.refs[0]:Me.ref;Ae.focus&&(Ae.focus(),ee.shouldSelect&&Ae.select())}},getFieldState:Z}}function pm(n={}){const e=me.useRef(),t=me.useRef(),[r,i]=me.useState({isDirty:!1,isValidating:!1,isLoading:to(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:to(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...rq(n),formState:r});const s=e.current.control;return s._options=n,CT({subject:s._subjects.state,next:a=>{YO(a,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),me.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),me.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),me.useEffect(()=>{n.values&&!Jo(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,i(a=>({...a}))):s._resetDefaultValues()},[n.values,s]),me.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),me.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),me.useEffect(()=>{n.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[n.shouldUnregister,s]),me.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=XO(r,s),e.current}const JR=(n,e,t)=>{if(n&&"reportValidity"in n){const r=He(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},ij=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?JR(r.ref,t,n):r.refs&&r.refs.forEach(i=>JR(i,t,n))}},iq=(n,e)=>{e.shouldUseNativeValidation&&ij(n,e);const t={};for(const r in n){const i=He(e.fields,r),s=Object.assign(n[r]||{},{ref:i&&i.ref});if(sq(e.names||Object.keys(n),r)){const a=Object.assign({},He(t,r));rn(a,"root",s),rn(t,r,a)}else rn(t,r,s)}return t},sq=(n,e)=>n.some(t=>t.startsWith(e+"."));var aq=function(n,e){for(var t={};n.length;){var r=n[0],i=r.code,s=r.message,a=r.path.join(".");if(!t[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];t[a]={message:o.message,type:o.code}}else t[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(p){return n.push(p)})}),e){var l=t[a].types,u=l&&l[r.code];t[a]=KO(a,e,t,i,u?[].concat(u,r.message):r.message)}n.shift()}return t},mm=function(n,e,t){return t===void 0&&(t={}),function(r,i,s){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&ij({},s),{errors:{},values:t.raw?r:u}})}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:iq(aq(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},qt;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},n.find=(i,s)=>{for(const a of i)if(s(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(qt||(qt={}));var QR;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(QR||(QR={}));const nt=qt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fc=n=>{switch(typeof n){case"undefined":return nt.undefined;case"string":return nt.string;case"number":return isNaN(n)?nt.nan:nt.number;case"boolean":return nt.boolean;case"function":return nt.function;case"bigint":return nt.bigint;case"symbol":return nt.symbol;case"object":return Array.isArray(n)?nt.array:n===null?nt.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?nt.promise:typeof Map<"u"&&n instanceof Map?nt.map:typeof Set<"u"&&n instanceof Set?nt.set:typeof Date<"u"&&n instanceof Date?nt.date:nt.object;default:return nt.unknown}},Be=qt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ls extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let o=r,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof ls))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}ls.create=n=>new ls(n);const Dp=(n,e)=>{let t;switch(n.code){case Be.invalid_type:n.received===nt.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Be.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,qt.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:t=`Unrecognized key(s) in object: ${qt.joinValues(n.keys,", ")}`;break;case Be.invalid_union:t="Invalid input";break;case Be.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${qt.joinValues(n.options)}`;break;case Be.invalid_enum_value:t=`Invalid enum value. Expected ${qt.joinValues(n.options)}, received '${n.received}'`;break;case Be.invalid_arguments:t="Invalid function arguments";break;case Be.invalid_return_type:t="Invalid function return type";break;case Be.invalid_date:t="Invalid date";break;case Be.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:qt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Be.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Be.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Be.custom:t="Invalid input";break;case Be.invalid_intersection_types:t="Intersection results could not be merged";break;case Be.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Be.not_finite:t="Number must be finite";break;default:t=e.defaultError,qt.assertNever(n)}return{message:t}};let oq=Dp;function Gb(){return oq}const $b=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function Ze(n,e){const t=Gb(),r=$b({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Dp?void 0:Dp].filter(i=>!!i)});n.common.issues.push(r)}class Qr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Tt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Qr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Tt;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const Tt=Object.freeze({status:"aborted"}),Lh=n=>({status:"dirty",value:n}),_i=n=>({status:"valid",value:n}),eP=n=>n.status==="aborted",tP=n=>n.status==="dirty",dx=n=>n.status==="valid",fx=n=>typeof Promise<"u"&&n instanceof Promise;function hx(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function sj(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var ft;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ft||(ft={}));var Oh,jh;class ba{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nP=(n,e)=>{if(dx(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ls(n.common.issues);return this._error=t,this._error}}};function Dt(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var l,u;const{message:h}=n;return a.code==="invalid_enum_value"?{message:h??o.defaultError}:typeof o.data>"u"?{message:(l=h??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=h??t)!==null&&u!==void 0?u:o.defaultError}},description:i}}class Gt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return fc(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:fc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Qr,ctx:{common:e.parent.common,data:e.data,parsedType:fc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(fx(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fc(e)},s=this._parseSync({data:e,path:i.path,parent:i});return nP(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fc(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(fx(i)?i:Promise.resolve(i));return nP(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:Be.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new po({schema:this,typeName:wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return io.create(this,this._def)}nullable(){return qc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return va.create(this,this._def)}promise(){return kp.create(this,this._def)}or(e){return vx.create([this,e],this._def)}and(e){return xx.create(this,e,this._def)}transform(e){return new po({...Dt(this._def),schema:this,typeName:wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new bx({...Dt(this._def),innerType:this,defaultValue:t,typeName:wt.ZodDefault})}brand(){return new cj({typeName:wt.ZodBranded,type:this,...Dt(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Ex({...Dt(this._def),innerType:this,catchValue:t,typeName:wt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Iy.create(this,e)}readonly(){return Mx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lq=/^c[^\s-]{8,}$/i,cq=/^[0-9a-z]+$/,uq=/^[0-9A-HJKMNP-TV-Z]{26}$/,dq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fq=/^[a-z0-9_-]{21}$/i,hq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let w1;const gq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vq=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,xq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yq=new RegExp(`^${aj}$`);function oj(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function wq(n){return new RegExp(`^${oj(n)}$`)}function _q(n){let e=`${aj}T${oj(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Sq(n,e){return!!((e==="v4"||!e)&&gq.test(n)||(e==="v6"||!e)&&vq.test(n))}class ua extends Gt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==nt.string){const s=this._getOrReturnCtx(e);return Ze(s,{code:Be.invalid_type,expected:nt.string,received:s.parsedType}),Tt}const r=new Qr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Ze(i,{code:Be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Ze(i,{code:Be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")pq.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"email",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")w1||(w1=new RegExp(mq,"u")),w1.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"emoji",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")dq.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"uuid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")fq.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"nanoid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")lq.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"cuid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")cq.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"cuid2",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")uq.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"ulid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ze(i,{validation:"url",code:Be.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"regex",code:Be.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?_q(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?yq.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?wq(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?hq.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"duration",code:Be.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Sq(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"ip",code:Be.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?xq.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:"base64",code:Be.invalid_string,message:s.message}),r.dirty()):qt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:Be.invalid_string,...ft.errToObj(r)})}_addCheck(e){return new ua({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ft.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ft.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ft.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ft.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ft.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ft.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ft.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ft.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ft.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ft.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ft.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ft.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ft.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ft.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ft.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ft.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ft.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ft.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ft.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ft.errToObj(t)})}nonempty(e){return this.min(1,ft.errToObj(e))}trim(){return new ua({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ua({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ua({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ua.create=n=>{var e;return new ua({checks:[],typeName:wt.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Dt(n)})};function bq(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class $c extends Gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==nt.number){const s=this._getOrReturnCtx(e);return Ze(s,{code:Be.invalid_type,expected:nt.number,received:s.parsedType}),Tt}let r;const i=new Qr;for(const s of this._def.checks)s.kind==="int"?qt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ze(r,{code:Be.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Be.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Be.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?bq(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ze(r,{code:Be.not_finite,message:s.message}),i.dirty()):qt.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ft.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ft.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ft.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ft.toString(t))}setLimit(e,t,r,i){return new $c({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ft.toString(i)}]})}_addCheck(e){return new $c({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ft.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ft.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ft.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ft.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ft.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ft.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ft.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ft.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ft.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}$c.create=n=>new $c({checks:[],typeName:wt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Dt(n)});class Xc extends Gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==nt.bigint){const s=this._getOrReturnCtx(e);return Ze(s,{code:Be.invalid_type,expected:nt.bigint,received:s.parsedType}),Tt}let r;const i=new Qr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Be.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Be.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):qt.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ft.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ft.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ft.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ft.toString(t))}setLimit(e,t,r,i){return new Xc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ft.toString(i)}]})}_addCheck(e){return new Xc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ft.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ft.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ft.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ft.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ft.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Xc.create=n=>{var e;return new Xc({checks:[],typeName:wt.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Dt(n)})};class px extends Gt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==nt.boolean){const r=this._getOrReturnCtx(e);return Ze(r,{code:Be.invalid_type,expected:nt.boolean,received:r.parsedType}),Tt}return _i(e.data)}}px.create=n=>new px({typeName:wt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Dt(n)});class tf extends Gt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==nt.date){const s=this._getOrReturnCtx(e);return Ze(s,{code:Be.invalid_type,expected:nt.date,received:s.parsedType}),Tt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ze(s,{code:Be.invalid_date}),Tt}const r=new Qr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ze(i,{code:Be.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):qt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tf({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ft.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ft.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}tf.create=n=>new tf({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:wt.ZodDate,...Dt(n)});class Xb extends Gt{_parse(e){if(this._getType(e)!==nt.symbol){const r=this._getOrReturnCtx(e);return Ze(r,{code:Be.invalid_type,expected:nt.symbol,received:r.parsedType}),Tt}return _i(e.data)}}Xb.create=n=>new Xb({typeName:wt.ZodSymbol,...Dt(n)});class mx extends Gt{_parse(e){if(this._getType(e)!==nt.undefined){const r=this._getOrReturnCtx(e);return Ze(r,{code:Be.invalid_type,expected:nt.undefined,received:r.parsedType}),Tt}return _i(e.data)}}mx.create=n=>new mx({typeName:wt.ZodUndefined,...Dt(n)});class gx extends Gt{_parse(e){if(this._getType(e)!==nt.null){const r=this._getOrReturnCtx(e);return Ze(r,{code:Be.invalid_type,expected:nt.null,received:r.parsedType}),Tt}return _i(e.data)}}gx.create=n=>new gx({typeName:wt.ZodNull,...Dt(n)});class Yb extends Gt{constructor(){super(...arguments),this._any=!0}_parse(e){return _i(e.data)}}Yb.create=n=>new Yb({typeName:wt.ZodAny,...Dt(n)});class Id extends Gt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _i(e.data)}}Id.create=n=>new Id({typeName:wt.ZodUnknown,...Dt(n)});class Nl extends Gt{_parse(e){const t=this._getOrReturnCtx(e);return Ze(t,{code:Be.invalid_type,expected:nt.never,received:t.parsedType}),Tt}}Nl.create=n=>new Nl({typeName:wt.ZodNever,...Dt(n)});class qb extends Gt{_parse(e){if(this._getType(e)!==nt.undefined){const r=this._getOrReturnCtx(e);return Ze(r,{code:Be.invalid_type,expected:nt.void,received:r.parsedType}),Tt}return _i(e.data)}}qb.create=n=>new qb({typeName:wt.ZodVoid,...Dt(n)});class va extends Gt{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==nt.array)return Ze(t,{code:Be.invalid_type,expected:nt.array,received:t.parsedType}),Tt;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,o=t.data.length<i.exactLength.value;(a||o)&&(Ze(t,{code:a?Be.too_big:Be.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(Ze(t,{code:Be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(Ze(t,{code:Be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>i.type._parseAsync(new ba(t,a,t.path,o)))).then(a=>Qr.mergeArray(r,a));const s=[...t.data].map((a,o)=>i.type._parseSync(new ba(t,a,t.path,o)));return Qr.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new va({...this._def,minLength:{value:e,message:ft.toString(t)}})}max(e,t){return new va({...this._def,maxLength:{value:e,message:ft.toString(t)}})}length(e,t){return new va({...this._def,exactLength:{value:e,message:ft.toString(t)}})}nonempty(e){return this.min(1,e)}}va.create=(n,e)=>new va({type:n,minLength:null,maxLength:null,exactLength:null,typeName:wt.ZodArray,...Dt(e)});function nd(n){if(n instanceof On){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=io.create(nd(r))}return new On({...n._def,shape:()=>e})}else return n instanceof va?new va({...n._def,type:nd(n.element)}):n instanceof io?io.create(nd(n.unwrap())):n instanceof qc?qc.create(nd(n.unwrap())):n instanceof ho?ho.create(n.items.map(e=>nd(e))):n}class On extends Gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=qt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==nt.object){const u=this._getOrReturnCtx(e);return Ze(u,{code:Be.invalid_type,expected:nt.object,received:u.parsedType}),Tt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Nl&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const h=s[u],p=i.data[u];l.push({key:{status:"valid",value:u},value:h._parse(new ba(i,p,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Nl){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of o)l.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(u==="strict")o.length>0&&(Ze(i,{code:Be.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of o){const p=i.data[h];l.push({key:{status:"valid",value:h},value:u._parse(new ba(i,p,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of l){const p=await h.key,m=await h.value;u.push({key:p,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>Qr.mergeObjectSync(r,u)):Qr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ft.errToObj,new On({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,a,o;const l=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=ft.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new On({...this._def,unknownKeys:"strip"})}passthrough(){return new On({...this._def,unknownKeys:"passthrough"})}extend(e){return new On({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new On({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:wt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new On({...this._def,catchall:e})}pick(e){const t={};return qt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new On({...this._def,shape:()=>t})}omit(e){const t={};return qt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new On({...this._def,shape:()=>t})}deepPartial(){return nd(this)}partial(e){const t={};return qt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new On({...this._def,shape:()=>t})}required(e){const t={};return qt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof io;)s=s._def.innerType;t[r]=s}}),new On({...this._def,shape:()=>t})}keyof(){return lj(qt.objectKeys(this.shape))}}On.create=(n,e)=>new On({shape:()=>n,unknownKeys:"strip",catchall:Nl.create(),typeName:wt.ZodObject,...Dt(e)});On.strictCreate=(n,e)=>new On({shape:()=>n,unknownKeys:"strict",catchall:Nl.create(),typeName:wt.ZodObject,...Dt(e)});On.lazycreate=(n,e)=>new On({shape:n,unknownKeys:"strip",catchall:Nl.create(),typeName:wt.ZodObject,...Dt(e)});class vx extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new ls(o.ctx.common.issues));return Ze(t,{code:Be.invalid_union,unionErrors:a}),Tt}if(t.common.async)return Promise.all(r.map(async s=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const u={...t,common:{...t.common,issues:[]},parent:null},h=l._parseSync({data:t.data,path:t.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new ls(l));return Ze(t,{code:Be.invalid_union,unionErrors:o}),Tt}}get options(){return this._def.options}}vx.create=(n,e)=>new vx({options:n,typeName:wt.ZodUnion,...Dt(e)});const $a=n=>n instanceof wx?$a(n.schema):n instanceof po?$a(n.innerType()):n instanceof _x?[n.value]:n instanceof Yc?n.options:n instanceof Sx?qt.objectValues(n.enum):n instanceof bx?$a(n._def.innerType):n instanceof mx?[void 0]:n instanceof gx?[null]:n instanceof io?[void 0,...$a(n.unwrap())]:n instanceof qc?[null,...$a(n.unwrap())]:n instanceof cj||n instanceof Mx?$a(n.unwrap()):n instanceof Ex?$a(n._def.innerType):[];class RT extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==nt.object)return Ze(t,{code:Be.invalid_type,expected:nt.object,received:t.parsedType}),Tt;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Ze(t,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const a=$a(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new RT({typeName:wt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Dt(r)})}}function Zb(n,e){const t=fc(n),r=fc(e);if(n===e)return{valid:!0,data:n};if(t===nt.object&&r===nt.object){const i=qt.objectKeys(e),s=qt.objectKeys(n).filter(o=>i.indexOf(o)!==-1),a={...n,...e};for(const o of s){const l=Zb(n[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(t===nt.array&&r===nt.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const a=n[s],o=e[s],l=Zb(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===nt.date&&r===nt.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class xx extends Gt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(eP(s)||eP(a))return Tt;const o=Zb(s.value,a.value);return o.valid?((tP(s)||tP(a))&&t.dirty(),{status:t.value,value:o.data}):(Ze(r,{code:Be.invalid_intersection_types}),Tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}xx.create=(n,e,t)=>new xx({left:n,right:e,typeName:wt.ZodIntersection,...Dt(t)});class ho extends Gt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nt.array)return Ze(r,{code:Be.invalid_type,expected:nt.array,received:r.parsedType}),Tt;if(r.data.length<this._def.items.length)return Ze(r,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Tt;!this._def.rest&&r.data.length>this._def.items.length&&(Ze(r,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ba(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Qr.mergeArray(t,a)):Qr.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new ho({...this._def,rest:e})}}ho.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ho({items:n,typeName:wt.ZodTuple,rest:null,...Dt(e)})};class yx extends Gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nt.object)return Ze(r,{code:Be.invalid_type,expected:nt.object,received:r.parsedType}),Tt;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new ba(r,o,r.path,o)),value:a._parse(new ba(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Qr.mergeObjectAsync(t,i):Qr.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Gt?new yx({keyType:e,valueType:t,typeName:wt.ZodRecord,...Dt(r)}):new yx({keyType:ua.create(),valueType:e,typeName:wt.ZodRecord,...Dt(t)})}}class Kb extends Gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nt.map)return Ze(r,{code:Be.invalid_type,expected:nt.map,received:r.parsedType}),Tt;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],u)=>({key:i._parse(new ba(r,o,r.path,[u,"key"])),value:s._parse(new ba(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,h=await l.value;if(u.status==="aborted"||h.status==="aborted")return Tt;(u.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(u.value,h.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,h=l.value;if(u.status==="aborted"||h.status==="aborted")return Tt;(u.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(u.value,h.value)}return{status:t.value,value:o}}}}Kb.create=(n,e,t)=>new Kb({valueType:e,keyType:n,typeName:wt.ZodMap,...Dt(t)});class nf extends Gt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nt.set)return Ze(r,{code:Be.invalid_type,expected:nt.set,received:r.parsedType}),Tt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ze(r,{code:Be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ze(r,{code:Be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function a(l){const u=new Set;for(const h of l){if(h.status==="aborted")return Tt;h.status==="dirty"&&t.dirty(),u.add(h.value)}return{status:t.value,value:u}}const o=[...r.data.values()].map((l,u)=>s._parse(new ba(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,t){return new nf({...this._def,minSize:{value:e,message:ft.toString(t)}})}max(e,t){return new nf({...this._def,maxSize:{value:e,message:ft.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}nf.create=(n,e)=>new nf({valueType:n,minSize:null,maxSize:null,typeName:wt.ZodSet,...Dt(e)});class np extends Gt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==nt.function)return Ze(t,{code:Be.invalid_type,expected:nt.function,received:t.parsedType}),Tt;function r(o,l){return $b({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gb(),Dp].filter(u=>!!u),issueData:{code:Be.invalid_arguments,argumentsError:l}})}function i(o,l){return $b({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gb(),Dp].filter(u=>!!u),issueData:{code:Be.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof kp){const o=this;return _i(async function(...l){const u=new ls([]),h=await o._def.args.parseAsync(l,s).catch(g=>{throw u.addIssue(r(l,g)),u}),p=await Reflect.apply(a,this,h);return await o._def.returns._def.type.parseAsync(p,s).catch(g=>{throw u.addIssue(i(p,g)),u})})}else{const o=this;return _i(function(...l){const u=o._def.args.safeParse(l,s);if(!u.success)throw new ls([r(l,u.error)]);const h=Reflect.apply(a,this,u.data),p=o._def.returns.safeParse(h,s);if(!p.success)throw new ls([i(h,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new np({...this._def,args:ho.create(e).rest(Id.create())})}returns(e){return new np({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new np({args:e||ho.create([]).rest(Id.create()),returns:t||Id.create(),typeName:wt.ZodFunction,...Dt(r)})}}class wx extends Gt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}wx.create=(n,e)=>new wx({getter:n,typeName:wt.ZodLazy,...Dt(e)});class _x extends Gt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ze(t,{received:t.data,code:Be.invalid_literal,expected:this._def.value}),Tt}return{status:"valid",value:e.data}}get value(){return this._def.value}}_x.create=(n,e)=>new _x({value:n,typeName:wt.ZodLiteral,...Dt(e)});function lj(n,e){return new Yc({values:n,typeName:wt.ZodEnum,...Dt(e)})}class Yc extends Gt{constructor(){super(...arguments),Oh.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Ze(t,{expected:qt.joinValues(r),received:t.parsedType,code:Be.invalid_type}),Tt}if(hx(this,Oh)||sj(this,Oh,new Set(this._def.values)),!hx(this,Oh).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Ze(t,{received:t.data,code:Be.invalid_enum_value,options:r}),Tt}return _i(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Yc.create(e,{...this._def,...t})}exclude(e,t=this._def){return Yc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Oh=new WeakMap;Yc.create=lj;class Sx extends Gt{constructor(){super(...arguments),jh.set(this,void 0)}_parse(e){const t=qt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==nt.string&&r.parsedType!==nt.number){const i=qt.objectValues(t);return Ze(r,{expected:qt.joinValues(i),received:r.parsedType,code:Be.invalid_type}),Tt}if(hx(this,jh)||sj(this,jh,new Set(qt.getValidEnumValues(this._def.values))),!hx(this,jh).has(e.data)){const i=qt.objectValues(t);return Ze(r,{received:r.data,code:Be.invalid_enum_value,options:i}),Tt}return _i(e.data)}get enum(){return this._def.values}}jh=new WeakMap;Sx.create=(n,e)=>new Sx({values:n,typeName:wt.ZodNativeEnum,...Dt(e)});class kp extends Gt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==nt.promise&&t.common.async===!1)return Ze(t,{code:Be.invalid_type,expected:nt.promise,received:t.parsedType}),Tt;const r=t.parsedType===nt.promise?t.data:Promise.resolve(t.data);return _i(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}kp.create=(n,e)=>new kp({type:n,typeName:wt.ZodPromise,...Dt(e)});class po extends Gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Ze(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return Tt;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Tt:l.status==="dirty"||t.value==="dirty"?Lh(l.value):l});{if(t.value==="aborted")return Tt;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?Tt:o.status==="dirty"||t.value==="dirty"?Lh(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Tt:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Tt:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!dx(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>dx(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:t.value,value:o})):a);qt.assertNever(i)}}po.create=(n,e,t)=>new po({schema:n,typeName:wt.ZodEffects,effect:e,...Dt(t)});po.createWithPreprocess=(n,e,t)=>new po({schema:e,effect:{type:"preprocess",transform:n},typeName:wt.ZodEffects,...Dt(t)});class io extends Gt{_parse(e){return this._getType(e)===nt.undefined?_i(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}io.create=(n,e)=>new io({innerType:n,typeName:wt.ZodOptional,...Dt(e)});class qc extends Gt{_parse(e){return this._getType(e)===nt.null?_i(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qc.create=(n,e)=>new qc({innerType:n,typeName:wt.ZodNullable,...Dt(e)});class bx extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===nt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}bx.create=(n,e)=>new bx({innerType:n,typeName:wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Dt(e)});class Ex extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return fx(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ls(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ls(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ex.create=(n,e)=>new Ex({innerType:n,typeName:wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Dt(e)});class Jb extends Gt{_parse(e){if(this._getType(e)!==nt.nan){const r=this._getOrReturnCtx(e);return Ze(r,{code:Be.invalid_type,expected:nt.nan,received:r.parsedType}),Tt}return{status:"valid",value:e.data}}}Jb.create=n=>new Jb({typeName:wt.ZodNaN,...Dt(n)});class cj extends Gt{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Iy extends Gt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Tt:s.status==="dirty"?(t.dirty(),Lh(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Tt:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new Iy({in:e,out:t,typeName:wt.ZodPipeline})}}class Mx extends Gt{_parse(e){const t=this._def.innerType._parse(e),r=i=>(dx(i)&&(i.value=Object.freeze(i.value)),i);return fx(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}Mx.create=(n,e)=>new Mx({innerType:n,typeName:wt.ZodReadonly,...Dt(e)});On.lazycreate;var wt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(wt||(wt={}));const zr=ua.create;$c.create;Jb.create;Xc.create;px.create;tf.create;Xb.create;mx.create;gx.create;Yb.create;Id.create;Nl.create;qb.create;va.create;const gm=On.create;On.strictCreate;vx.create;RT.create;xx.create;ho.create;yx.create;Kb.create;nf.create;np.create;wx.create;_x.create;const Eq=Yc.create;Sx.create;kp.create;po.create;io.create;qc.create;po.createWithPreprocess;Iy.create;const Mq={string:n=>ua.create({...n,coerce:!0}),number:n=>$c.create({...n,coerce:!0}),boolean:n=>px.create({...n,coerce:!0}),bigint:n=>Xc.create({...n,coerce:!0}),date:n=>tf.create({...n,coerce:!0})},zn=E.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,className:Qe("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));zn.displayName="Card";const vr=E.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,className:Qe("flex flex-col space-y-1.5 p-6",n),...e}));vr.displayName="CardHeader";const br=E.forwardRef(({className:n,...e},t)=>c.jsx("h3",{ref:t,className:Qe("text-2xl font-semibold leading-none tracking-tight",n),...e}));br.displayName="CardTitle";const uj=E.forwardRef(({className:n,...e},t)=>c.jsx("p",{ref:t,className:Qe("text-sm text-muted-foreground",n),...e}));uj.displayName="CardDescription";const Yn=E.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,className:Qe("p-6 pt-0",n),...e}));Yn.displayName="CardContent";const Tq=E.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,className:Qe("flex items-center p-6 pt-0",n),...e}));Tq.displayName="CardFooter";var Cq="Label",dj=E.forwardRef((n,e)=>c.jsx(ht.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));dj.displayName=Cq;var fj=dj;const Nq=pf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tx=E.forwardRef(({className:n,...e},t)=>c.jsx(fj,{ref:t,className:Qe(Nq(),n),...e}));Tx.displayName=fj.displayName;const hj=VY,pj=E.createContext({}),Za=({...n})=>c.jsx(pj.Provider,{value:{name:n.name},children:c.jsx($Y,{...n})}),Dy=()=>{const n=E.useContext(pj),e=E.useContext(mj),{getFieldState:t,formState:r}=Py(),i=t(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},mj=E.createContext({}),ra=E.forwardRef(({className:n,...e},t)=>{const r=E.useId();return c.jsx(mj.Provider,{value:{id:r},children:c.jsx("div",{ref:t,className:Qe("space-y-2",n),...e})})});ra.displayName="FormItem";const ia=E.forwardRef(({className:n,...e},t)=>{const{error:r,formItemId:i}=Dy();return c.jsx(Tx,{ref:t,className:Qe(r&&"text-destructive",n),htmlFor:i,...e})});ia.displayName="FormLabel";const sa=E.forwardRef(({...n},e)=>{const{error:t,formItemId:r,formDescriptionId:i,formMessageId:s}=Dy();return c.jsx(Sl,{ref:e,id:r,"aria-describedby":t?`${i} ${s}`:`${i}`,"aria-invalid":!!t,...n})});sa.displayName="FormControl";const yc=E.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:r}=Dy();return c.jsx("p",{ref:t,id:r,className:Qe("text-sm text-muted-foreground",n),...e})});yc.displayName="FormDescription";const aa=E.forwardRef(({className:n,children:e,...t},r)=>{const{error:i,formMessageId:s}=Dy(),a=i?String(i==null?void 0:i.message):e;return a?c.jsx("p",{ref:r,id:s,className:Qe("text-sm font-medium text-destructive",n),...t,children:a}):null});aa.displayName="FormMessage";const PT=E.forwardRef(({className:n,...e},t)=>c.jsx("textarea",{className:Qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));PT.displayName="Textarea";function Qb(n,[e,t]){return Math.min(t,Math.max(e,n))}var Aq=E.createContext(void 0);function Ef(n){const e=E.useContext(Aq);return n||e||"ltr"}var _1=0;function gj(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??rP()),document.body.insertAdjacentElement("beforeend",n[1]??rP()),_1++,()=>{_1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_1--}},[])}function rP(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var S1="focusScope.autoFocusOnMount",b1="focusScope.autoFocusOnUnmount",iP={bubbles:!1,cancelable:!0},Rq="FocusScope",IT=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=n,[o,l]=E.useState(null),u=Xn(i),h=Xn(s),p=E.useRef(null),m=Ht(e,y=>l(y)),g=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let y=function(S){if(g.paused||!o)return;const T=S.target;o.contains(T)?p.current=T:$o(p.current,{select:!0})},w=function(S){if(g.paused||!o)return;const T=S.relatedTarget;T!==null&&(o.contains(T)||$o(p.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&$o(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const b=new MutationObserver(x);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),b.disconnect()}}},[r,o,g.paused]),E.useEffect(()=>{if(o){aP.add(g);const y=document.activeElement;if(!o.contains(y)){const x=new CustomEvent(S1,iP);o.addEventListener(S1,u),o.dispatchEvent(x),x.defaultPrevented||(Pq(Oq(vj(o)),{select:!0}),document.activeElement===y&&$o(o))}return()=>{o.removeEventListener(S1,u),setTimeout(()=>{const x=new CustomEvent(b1,iP);o.addEventListener(b1,h),o.dispatchEvent(x),x.defaultPrevented||$o(y??document.body,{select:!0}),o.removeEventListener(b1,h),aP.remove(g)},0)}}},[o,u,h,g]);const v=E.useCallback(y=>{if(!t&&!r||g.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(w&&x){const b=y.currentTarget,[S,T]=Iq(b);S&&T?!y.shiftKey&&x===T?(y.preventDefault(),t&&$o(S,{select:!0})):y.shiftKey&&x===S&&(y.preventDefault(),t&&$o(T,{select:!0})):x===b&&y.preventDefault()}},[t,r,g.paused]);return c.jsx(ht.div,{tabIndex:-1,...a,ref:m,onKeyDown:v})});IT.displayName=Rq;function Pq(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if($o(r,{select:e}),document.activeElement!==t)return}function Iq(n){const e=vj(n),t=sP(e,n),r=sP(e.reverse(),n);return[t,r]}function vj(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function sP(n,e){for(const t of n)if(!Dq(t,{upTo:e}))return t}function Dq(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function kq(n){return n instanceof HTMLInputElement&&"select"in n}function $o(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&kq(n)&&e&&n.select()}}var aP=Lq();function Lq(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=oP(n,e),n.unshift(e)},remove(e){var t;n=oP(n,e),(t=n[0])==null||t.resume()}}}function oP(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Oq(n){return n.filter(e=>e.tagName!=="A")}function xj(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var jq=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Tu=new WeakMap,Qg=new WeakMap,ev={},E1=0,yj=function(n){return n&&(n.host||yj(n.parentNode))},Fq=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=yj(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Uq=function(n,e,t,r){var i=Fq(e,Array.isArray(n)?n:[n]);ev[t]||(ev[t]=new WeakMap);var s=ev[t],a=[],o=new Set,l=new Set(i),u=function(p){!p||o.has(p)||(o.add(p),u(p.parentNode))};i.forEach(u);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(m){if(o.has(m))h(m);else try{var g=m.getAttribute(r),v=g!==null&&g!=="false",y=(Tu.get(m)||0)+1,w=(s.get(m)||0)+1;Tu.set(m,y),s.set(m,w),a.push(m),y===1&&v&&Qg.set(m,!0),w===1&&m.setAttribute(t,"true"),v||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return h(e),o.clear(),E1++,function(){a.forEach(function(p){var m=Tu.get(p)-1,g=s.get(p)-1;Tu.set(p,m),s.set(p,g),m||(Qg.has(p)||p.removeAttribute(r),Qg.delete(p)),g||p.removeAttribute(t)}),E1--,E1||(Tu=new WeakMap,Tu=new WeakMap,Qg=new WeakMap,ev={})}},wj=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=jq(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Uq(r,i,t,"aria-hidden")):function(){return null}},oa=function(){return oa=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},oa.apply(this,arguments)};function _j(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function zq(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var d0="right-scroll-bar-position",f0="width-before-scroll-bar",Bq="with-scroll-bars-hidden",Vq="--removed-body-scroll-bar-size";function M1(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Hq(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var Wq=typeof window<"u"?E.useLayoutEffect:E.useEffect,lP=new WeakMap;function Gq(n,e){var t=Hq(null,function(r){return n.forEach(function(i){return M1(i,r)})});return Wq(function(){var r=lP.get(t);if(r){var i=new Set(r),s=new Set(n),a=t.current;i.forEach(function(o){s.has(o)||M1(o,null)}),s.forEach(function(o){i.has(o)||M1(o,a)})}lP.set(t,n)},[n]),t}function $q(n){return n}function Xq(n,e){e===void 0&&(e=$q);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var a=e(s,r);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;t.length;){var a=t;t=[],a.forEach(s)}t={push:function(o){return s(o)},filter:function(){return t}}},assignMedium:function(s){r=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(s),a=t}var l=function(){var h=a;a=[],h.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),t}}}};return i}function Yq(n){n===void 0&&(n={});var e=Xq(null);return e.options=oa({async:!0,ssr:!1},n),e}var Sj=function(n){var e=n.sideCar,t=_j(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,oa({},t))};Sj.isSideCarExport=!0;function qq(n,e){return n.useMedium(e),Sj}var bj=Yq(),T1=function(){},ky=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:T1,onWheelCapture:T1,onTouchMoveCapture:T1}),i=r[0],s=r[1],a=n.forwardProps,o=n.children,l=n.className,u=n.removeScrollBar,h=n.enabled,p=n.shards,m=n.sideCar,g=n.noIsolation,v=n.inert,y=n.allowPinchZoom,w=n.as,x=w===void 0?"div":w,b=n.gapMode,S=_j(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=m,C=Gq([t,e]),P=oa(oa({},S),i);return E.createElement(E.Fragment,null,h&&E.createElement(T,{sideCar:bj,removeScrollBar:u,shards:p,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:t,gapMode:b}),a?E.cloneElement(E.Children.only(o),oa(oa({},P),{ref:C})):E.createElement(x,oa({},P,{className:l,ref:C}),o))});ky.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ky.classNames={fullWidth:f0,zeroRight:d0};var Zq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Kq(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Zq();return e&&n.setAttribute("nonce",e),n}function Jq(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Qq(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var eZ=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Kq())&&(Jq(e,t),Qq(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tZ=function(){var n=eZ();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Ej=function(){var n=tZ(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},nZ={left:0,top:0,right:0,gap:0},C1=function(n){return parseInt(n||"",10)||0},rZ=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[C1(t),C1(r),C1(i)]},iZ=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return nZ;var e=rZ(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},sZ=Ej(),Dd="data-scroll-locked",aZ=function(n,e,t,r){var i=n.left,s=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Bq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Dd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(d0,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(f0,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(d0," .").concat(d0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(f0," .").concat(f0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Dd,`] {
    `).concat(Vq,": ").concat(o,`px;
  }
`)},cP=function(){var n=parseInt(document.body.getAttribute(Dd)||"0",10);return isFinite(n)?n:0},oZ=function(){E.useEffect(function(){return document.body.setAttribute(Dd,(cP()+1).toString()),function(){var n=cP()-1;n<=0?document.body.removeAttribute(Dd):document.body.setAttribute(Dd,n.toString())}},[])},lZ=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;oZ();var s=E.useMemo(function(){return iZ(i)},[i]);return E.createElement(sZ,{styles:aZ(s,!e,i,t?"":"!important")})},eE=!1;if(typeof window<"u")try{var tv=Object.defineProperty({},"passive",{get:function(){return eE=!0,!0}});window.addEventListener("test",tv,tv),window.removeEventListener("test",tv,tv)}catch{eE=!1}var Cu=eE?{passive:!1}:!1,cZ=function(n){return n.tagName==="TEXTAREA"},Mj=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!cZ(n)&&t[e]==="visible")},uZ=function(n){return Mj(n,"overflowY")},dZ=function(n){return Mj(n,"overflowX")},uP=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Tj(n,r);if(i){var s=Cj(n,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},fZ=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},hZ=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Tj=function(n,e){return n==="v"?uZ(e):dZ(e)},Cj=function(n,e){return n==="v"?fZ(e):hZ(e)},pZ=function(n,e){return n==="h"&&e==="rtl"?-1:1},mZ=function(n,e,t,r,i){var s=pZ(n,window.getComputedStyle(e).direction),a=s*r,o=t.target,l=e.contains(o),u=!1,h=a>0,p=0,m=0;do{var g=Cj(n,o),v=g[0],y=g[1],w=g[2],x=y-w-s*v;(v||x)&&Tj(n,o)&&(p+=x,m+=v),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(h&&(Math.abs(p)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(u=!0),u},nv=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},dP=function(n){return[n.deltaX,n.deltaY]},fP=function(n){return n&&"current"in n?n.current:n},gZ=function(n,e){return n[0]===e[0]&&n[1]===e[1]},vZ=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},xZ=0,Nu=[];function yZ(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),i=E.useState(xZ++)[0],s=E.useState(Ej)[0],a=E.useRef(n);E.useEffect(function(){a.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var y=zq([n.lockRef.current],(n.shards||[]).map(fP),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var o=E.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var x=nv(y),b=t.current,S="deltaX"in y?y.deltaX:b[0]-x[0],T="deltaY"in y?y.deltaY:b[1]-x[1],C,P=y.target,A=Math.abs(S)>Math.abs(T)?"h":"v";if("touches"in y&&A==="h"&&P.type==="range")return!1;var k=uP(A,P);if(!k)return!0;if(k?C=A:(C=A==="v"?"h":"v",k=uP(A,P)),!k)return!1;if(!r.current&&"changedTouches"in y&&(S||T)&&(r.current=C),!C)return!0;var I=r.current||C;return mZ(I,w,y,I==="h"?S:T,!0)},[]),l=E.useCallback(function(y){var w=y;if(!(!Nu.length||Nu[Nu.length-1]!==s)){var x="deltaY"in w?dP(w):nv(w),b=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&gZ(C.delta,x)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var S=(a.current.shards||[]).map(fP).filter(Boolean).filter(function(C){return C.contains(w.target)}),T=S.length>0?o(w,S[0]):!a.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),u=E.useCallback(function(y,w,x,b){var S={name:y,delta:w,target:x,should:b,shadowParent:wZ(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(T){return T!==S})},1)},[]),h=E.useCallback(function(y){t.current=nv(y),r.current=void 0},[]),p=E.useCallback(function(y){u(y.type,dP(y),y.target,o(y,n.lockRef.current))},[]),m=E.useCallback(function(y){u(y.type,nv(y),y.target,o(y,n.lockRef.current))},[]);E.useEffect(function(){return Nu.push(s),n.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Cu),document.addEventListener("touchmove",l,Cu),document.addEventListener("touchstart",h,Cu),function(){Nu=Nu.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Cu),document.removeEventListener("touchmove",l,Cu),document.removeEventListener("touchstart",h,Cu)}},[]);var g=n.removeScrollBar,v=n.inert;return E.createElement(E.Fragment,null,v?E.createElement(s,{styles:vZ(i)}):null,g?E.createElement(lZ,{gapMode:n.gapMode}):null)}function wZ(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const _Z=qq(bj,yZ);var DT=E.forwardRef(function(n,e){return E.createElement(ky,oa({},n,{ref:e,sideCar:_Z}))});DT.classNames=ky.classNames;var SZ=[" ","Enter","ArrowUp","ArrowDown"],bZ=[" ","Enter"],vm="Select",[Ly,Oy,EZ]=dy(vm),[Mf,hce]=Os(vm,[EZ,yf]),jy=yf(),[MZ,Fl]=Mf(vm),[TZ,CZ]=Mf(vm),Nj=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:u,name:h,autoComplete:p,disabled:m,required:g,form:v}=n,y=jy(e),[w,x]=E.useState(null),[b,S]=E.useState(null),[T,C]=E.useState(!1),P=Ef(u),[A=!1,k]=wi({prop:r,defaultProp:i,onChange:s}),[I,R]=wi({prop:a,defaultProp:o,onChange:l}),U=E.useRef(null),V=w?v||!!w.closest("form"):!0,[J,z]=E.useState(new Set),Q=Array.from(J).map(W=>W.props.value).join(";");return c.jsx(KL,{...y,children:c.jsxs(MZ,{required:g,scope:e,trigger:w,onTriggerChange:x,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:T,onValueNodeHasChildrenChange:C,contentId:ga(),value:I,onValueChange:R,open:A,onOpenChange:k,dir:P,triggerPointerDownPosRef:U,disabled:m,children:[c.jsx(Ly.Provider,{scope:e,children:c.jsx(TZ,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(W=>{z(te=>new Set(te).add(W))},[]),onNativeOptionRemove:E.useCallback(W=>{z(te=>{const O=new Set(te);return O.delete(W),O})},[]),children:t})}),V?c.jsxs(Qj,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:p,value:I,onChange:W=>R(W.target.value),disabled:m,form:v,children:[I===void 0?c.jsx("option",{value:""}):null,Array.from(J)]},Q):null]})})};Nj.displayName=vm;var Aj="SelectTrigger",Rj=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=jy(t),a=Fl(Aj,t),o=a.disabled||r,l=Ht(e,a.onTriggerChange),u=Oy(t),h=E.useRef("touch"),[p,m,g]=e4(y=>{const w=u().filter(S=>!S.disabled),x=w.find(S=>S.value===a.value),b=t4(w,y,x);b!==void 0&&a.onValueChange(b.value)}),v=y=>{o||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(lT,{asChild:!0,...s,children:c.jsx(ht.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Jj(a.value)?"":void 0,...i,ref:l,onClick:Ke(i.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&v(y)}),onPointerDown:Ke(i.onPointerDown,y=>{h.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Ke(i.onKeyDown,y=>{const w=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(w&&y.key===" ")&&SZ.includes(y.key)&&(v(),y.preventDefault())})})})});Rj.displayName=Aj;var Pj="SelectValue",Ij=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:a="",...o}=n,l=Fl(Pj,t),{onValueNodeHasChildrenChange:u}=l,h=s!==void 0,p=Ht(e,l.onValueNodeChange);return yr(()=>{u(h)},[u,h]),c.jsx(ht.span,{...o,ref:p,style:{pointerEvents:"none"},children:Jj(l.value)?c.jsx(c.Fragment,{children:a}):s})});Ij.displayName=Pj;var NZ="SelectIcon",Dj=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return c.jsx(ht.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Dj.displayName=NZ;var AZ="SelectPortal",kj=n=>c.jsx(fy,{asChild:!0,...n});kj.displayName=AZ;var Zc="SelectContent",Lj=E.forwardRef((n,e)=>{const t=Fl(Zc,n.__scopeSelect),[r,i]=E.useState();if(yr(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?iu.createPortal(c.jsx(Oj,{scope:n.__scopeSelect,children:c.jsx(Ly.Slot,{scope:n.__scopeSelect,children:c.jsx("div",{children:n.children})})}),s):null}return c.jsx(jj,{...n,ref:e})});Lj.displayName=Zc;var ys=10,[Oj,Ul]=Mf(Zc),RZ="SelectContentImpl",jj=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w,...x}=n,b=Fl(Zc,t),[S,T]=E.useState(null),[C,P]=E.useState(null),A=Ht(e,ne=>T(ne)),[k,I]=E.useState(null),[R,U]=E.useState(null),V=Oy(t),[J,z]=E.useState(!1),Q=E.useRef(!1);E.useEffect(()=>{if(S)return wj(S)},[S]),gj();const W=E.useCallback(ne=>{const[fe,...Le]=V().map(X=>X.ref.current),[ke]=Le.slice(-1),Re=document.activeElement;for(const X of ne)if(X===Re||(X==null||X.scrollIntoView({block:"nearest"}),X===fe&&C&&(C.scrollTop=0),X===ke&&C&&(C.scrollTop=C.scrollHeight),X==null||X.focus(),document.activeElement!==Re))return},[V,C]),te=E.useCallback(()=>W([k,S]),[W,k,S]);E.useEffect(()=>{J&&te()},[J,te]);const{onOpenChange:O,triggerPointerDownPosRef:B}=b;E.useEffect(()=>{if(S){let ne={x:0,y:0};const fe=ke=>{var Re,X;ne={x:Math.abs(Math.round(ke.pageX)-(((Re=B.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((X=B.current)==null?void 0:X.y)??0))}},Le=ke=>{ne.x<=10&&ne.y<=10?ke.preventDefault():S.contains(ke.target)||O(!1),document.removeEventListener("pointermove",fe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Le,{capture:!0})}}},[S,O,B]),E.useEffect(()=>{const ne=()=>O(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[O]);const[Y,L]=e4(ne=>{const fe=V().filter(Re=>!Re.disabled),Le=fe.find(Re=>Re.ref.current===document.activeElement),ke=t4(fe,ne,Le);ke&&setTimeout(()=>ke.ref.current.focus())}),Z=E.useCallback((ne,fe,Le)=>{const ke=!Q.current&&!Le;(b.value!==void 0&&b.value===fe||ke)&&(I(ne),ke&&(Q.current=!0))},[b.value]),oe=E.useCallback(()=>S==null?void 0:S.focus(),[S]),de=E.useCallback((ne,fe,Le)=>{const ke=!Q.current&&!Le;(b.value!==void 0&&b.value===fe||ke)&&U(ne)},[b.value]),ye=r==="popper"?tE:Fj,we=ye===tE?{side:o,sideOffset:l,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return c.jsx(Oj,{scope:t,content:S,viewport:C,onViewportChange:P,itemRefCallback:Z,selectedItem:k,onItemLeave:oe,itemTextRefCallback:de,focusSelectedItem:te,selectedItemText:R,position:r,isPositioned:J,searchRef:Y,children:c.jsx(DT,{as:Sl,allowPinchZoom:!0,children:c.jsx(IT,{asChild:!0,trapped:b.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ke(i,ne=>{var fe;(fe=b.trigger)==null||fe.focus({preventScroll:!0}),ne.preventDefault()}),children:c.jsx(hf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:c.jsx(ye,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ne=>ne.preventDefault(),...x,...we,onPlaced:()=>z(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ke(x.onKeyDown,ne=>{const fe=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!fe&&ne.key.length===1&&L(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ke=V().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Re=ne.target,X=ke.indexOf(Re);ke=ke.slice(X+1)}setTimeout(()=>W(ke)),ne.preventDefault()}})})})})})})});jj.displayName=RZ;var PZ="SelectItemAlignedPosition",Fj=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Fl(Zc,t),a=Ul(Zc,t),[o,l]=E.useState(null),[u,h]=E.useState(null),p=Ht(e,A=>h(A)),m=Oy(t),g=E.useRef(!1),v=E.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:x,focusSelectedItem:b}=a,S=E.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&y&&w&&x){const A=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(s.dir!=="rtl"){const Re=R.left-k.left,X=I.left-Re,Ee=A.left-X,pe=A.width+Ee,Pe=Math.max(pe,k.width),be=window.innerWidth-ys,et=Qb(X,[ys,Math.max(ys,be-Pe)]);o.style.minWidth=pe+"px",o.style.left=et+"px"}else{const Re=k.right-R.right,X=window.innerWidth-I.right-Re,Ee=window.innerWidth-A.right-X,pe=A.width+Ee,Pe=Math.max(pe,k.width),be=window.innerWidth-ys,et=Qb(X,[ys,Math.max(ys,be-Pe)]);o.style.minWidth=pe+"px",o.style.right=et+"px"}const U=m(),V=window.innerHeight-ys*2,J=y.scrollHeight,z=window.getComputedStyle(u),Q=parseInt(z.borderTopWidth,10),W=parseInt(z.paddingTop,10),te=parseInt(z.borderBottomWidth,10),O=parseInt(z.paddingBottom,10),B=Q+W+J+O+te,Y=Math.min(w.offsetHeight*5,B),L=window.getComputedStyle(y),Z=parseInt(L.paddingTop,10),oe=parseInt(L.paddingBottom,10),de=A.top+A.height/2-ys,ye=V-de,we=w.offsetHeight/2,ne=w.offsetTop+we,fe=Q+W+ne,Le=B-fe;if(fe<=de){const Re=U.length>0&&w===U[U.length-1].ref.current;o.style.bottom="0px";const X=u.clientHeight-y.offsetTop-y.offsetHeight,Ee=Math.max(ye,we+(Re?oe:0)+X+te),pe=fe+Ee;o.style.height=pe+"px"}else{const Re=U.length>0&&w===U[0].ref.current;o.style.top="0px";const Ee=Math.max(de,Q+y.offsetTop+(Re?Z:0)+we)+Le;o.style.height=Ee+"px",y.scrollTop=fe-de+y.offsetTop}o.style.margin=`${ys}px 0`,o.style.minHeight=Y+"px",o.style.maxHeight=V+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,o,u,y,w,x,s.dir,r]);yr(()=>S(),[S]);const[T,C]=E.useState();yr(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const P=E.useCallback(A=>{A&&v.current===!0&&(S(),b==null||b(),v.current=!1)},[S,b]);return c.jsx(DZ,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:c.jsx(ht.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Fj.displayName=PZ;var IZ="SelectPopperPosition",tE=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=ys,...s}=n,a=jy(t);return c.jsx(cT,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tE.displayName=IZ;var[DZ,kT]=Mf(Zc,{}),nE="SelectViewport",Uj=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Ul(nE,t),a=kT(nE,t),o=Ht(e,s.onViewportChange),l=E.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Ly.Slot,{scope:t,children:c.jsx(ht.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&p){const g=Math.abs(l.current-h.scrollTop);if(g>0){const v=window.innerHeight-ys*2,y=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),x=Math.max(y,w);if(x<v){const b=x+g,S=Math.min(v,b),T=b-S;p.style.height=S+"px",p.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});Uj.displayName=nE;var zj="SelectGroup",[kZ,LZ]=Mf(zj),OZ=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=ga();return c.jsx(kZ,{scope:t,id:i,children:c.jsx(ht.div,{role:"group","aria-labelledby":i,...r,ref:e})})});OZ.displayName=zj;var Bj="SelectLabel",Vj=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=LZ(Bj,t);return c.jsx(ht.div,{id:i.id,...r,ref:e})});Vj.displayName=Bj;var Cx="SelectItem",[jZ,Hj]=Mf(Cx),Wj=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...a}=n,o=Fl(Cx,t),l=Ul(Cx,t),u=o.value===r,[h,p]=E.useState(s??""),[m,g]=E.useState(!1),v=Ht(e,b=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,b,r,i)}),y=ga(),w=E.useRef("touch"),x=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(jZ,{scope:t,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:E.useCallback(b=>{p(S=>S||((b==null?void 0:b.textContent)??"").trim())},[]),children:c.jsx(Ly.ItemSlot,{scope:t,value:r,disabled:i,textValue:h,children:c.jsx(ht.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:Ke(a.onFocus,()=>g(!0)),onBlur:Ke(a.onBlur,()=>g(!1)),onClick:Ke(a.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:Ke(a.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:Ke(a.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:Ke(a.onPointerMove,b=>{var S;w.current=b.pointerType,i?(S=l.onItemLeave)==null||S.call(l):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(a.onPointerLeave,b=>{var S;b.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Ke(a.onKeyDown,b=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&b.key===" "||(bZ.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});Wj.displayName=Cx;var Fh="SelectItemText",Gj=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,a=Fl(Fh,t),o=Ul(Fh,t),l=Hj(Fh,t),u=CZ(Fh,t),[h,p]=E.useState(null),m=Ht(e,x=>p(x),l.onItemTextChange,x=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,x,l.value,l.disabled)}),g=h==null?void 0:h.textContent,v=E.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return yr(()=>(y(v),()=>w(v)),[y,w,v]),c.jsxs(c.Fragment,{children:[c.jsx(ht.span,{id:l.textId,...s,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?iu.createPortal(s.children,a.valueNode):null]})});Gj.displayName=Fh;var $j="SelectItemIndicator",Xj=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return Hj($j,t).isSelected?c.jsx(ht.span,{"aria-hidden":!0,...r,ref:e}):null});Xj.displayName=$j;var rE="SelectScrollUpButton",Yj=E.forwardRef((n,e)=>{const t=Ul(rE,n.__scopeSelect),r=kT(rE,n.__scopeSelect),[i,s]=E.useState(!1),a=Ht(e,r.onScrollButtonChange);return yr(()=>{if(t.viewport&&t.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?c.jsx(Zj,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});Yj.displayName=rE;var iE="SelectScrollDownButton",qj=E.forwardRef((n,e)=>{const t=Ul(iE,n.__scopeSelect),r=kT(iE,n.__scopeSelect),[i,s]=E.useState(!1),a=Ht(e,r.onScrollButtonChange);return yr(()=>{if(t.viewport&&t.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;s(h)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?c.jsx(Zj,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});qj.displayName=iE;var Zj=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Ul("SelectScrollButton",t),a=E.useRef(null),o=Oy(t),l=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),yr(()=>{var h;const u=o().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[o]),c.jsx(ht.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ke(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{l()})})}),FZ="SelectSeparator",Kj=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return c.jsx(ht.div,{"aria-hidden":!0,...r,ref:e})});Kj.displayName=FZ;var sE="SelectArrow",UZ=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=jy(t),s=Fl(sE,t),a=Ul(sE,t);return s.open&&a.position==="popper"?c.jsx(uT,{...i,...r,ref:e}):null});UZ.displayName=sE;function Jj(n){return n===""||n===void 0}var Qj=E.forwardRef((n,e)=>{const{value:t,...r}=n,i=E.useRef(null),s=Ht(e,i),a=xj(t);return E.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&h){const p=new Event("change",{bubbles:!0});h.call(o,t),o.dispatchEvent(p)}},[a,t]),c.jsx(dm,{asChild:!0,children:c.jsx("select",{...r,ref:s,defaultValue:t})})});Qj.displayName="BubbleSelect";function e4(n){const e=Xn(n),t=E.useRef(""),r=E.useRef(0),i=E.useCallback(a=>{const o=t.current+a;e(o),function l(u){t.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function t4(n,e,t){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let a=zZ(n,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==t));const l=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function zZ(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var BZ=Nj,n4=Rj,VZ=Ij,HZ=Dj,WZ=kj,r4=Lj,GZ=Uj,i4=Vj,s4=Wj,$Z=Gj,XZ=Xj,a4=Yj,o4=qj,l4=Kj;const YZ=BZ,qZ=VZ,c4=E.forwardRef(({className:n,children:e,...t},r)=>c.jsxs(n4,{ref:r,className:Qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,c.jsx(HZ,{asChild:!0,children:c.jsx(Bi,{className:"h-4 w-4 opacity-50"})})]}));c4.displayName=n4.displayName;const u4=E.forwardRef(({className:n,...e},t)=>c.jsx(a4,{ref:t,className:Qe("flex cursor-default items-center justify-center py-1",n),...e,children:c.jsx(Is,{className:"h-4 w-4"})}));u4.displayName=a4.displayName;const d4=E.forwardRef(({className:n,...e},t)=>c.jsx(o4,{ref:t,className:Qe("flex cursor-default items-center justify-center py-1",n),...e,children:c.jsx(Bi,{className:"h-4 w-4"})}));d4.displayName=o4.displayName;const f4=E.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>c.jsx(WZ,{children:c.jsxs(r4,{ref:i,className:Qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[c.jsx(u4,{}),c.jsx(GZ,{className:Qe("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(d4,{})]})}));f4.displayName=r4.displayName;const ZZ=E.forwardRef(({className:n,...e},t)=>c.jsx(i4,{ref:t,className:Qe("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));ZZ.displayName=i4.displayName;const Uh=E.forwardRef(({className:n,children:e,...t},r)=>c.jsxs(s4,{ref:r,className:Qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(XZ,{children:c.jsx(_b,{className:"h-4 w-4"})})}),c.jsx($Z,{children:e})]}));Uh.displayName=s4.displayName;const KZ=E.forwardRef(({className:n,...e},t)=>c.jsx(l4,{ref:t,className:Qe("-mx-1 my-1 h-px bg-muted",n),...e}));KZ.displayName=l4.displayName;const JZ=gm({title:zr().min(5,{message:"Title must be at least 5 characters."}),description:zr().min(10,{message:"Description must be at least 10 characters."}),status:Eq(["open","pending","closed","archived"],{required_error:"Please select a case status."}),policeStationId:Mq.number({required_error:"Please enter a police station ID."})}),QZ=()=>{const n=Sf(),e=pm({resolver:mm(JZ),defaultValues:{title:"",description:"",status:"open",policeStationId:1}});function t(r){const i=localStorage.getItem("cases");let s=[];if(i)try{s=JSON.parse(i)}catch{s=[]}const a={id:Date.now(),title:r.title,description:r.description,status:r.status,policeStationId:r.policeStationId,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},o=[...s,a];localStorage.setItem("cases",JSON.stringify(o)),en.success("Case added successfully!"),n("/cases")}return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Add New Case"}),c.jsx("p",{className:"text-muted-foreground",children:"Create a new FBI case file in the system."})]}),c.jsxs(zn,{children:[c.jsx(vr,{children:c.jsx(br,{children:"Case Details"})}),c.jsx(Yn,{children:c.jsx(hj,{...e,children:c.jsxs("form",{onSubmit:e.handleSubmit(t),className:"space-y-6",children:[c.jsx(Za,{control:e.control,name:"title",render:({field:r})=>c.jsxs(ra,{children:[c.jsx(ia,{children:"Case Title"}),c.jsx(sa,{children:c.jsx(nn,{placeholder:"e.g. Armed Robbery - Downtown Bank",...r})}),c.jsx(yc,{children:"Provide a clear and concise title for the case."}),c.jsx(aa,{})]})}),c.jsx(Za,{control:e.control,name:"description",render:({field:r})=>c.jsxs(ra,{children:[c.jsx(ia,{children:"Description"}),c.jsx(sa,{children:c.jsx(PT,{placeholder:"Detailed description of the case...",className:"min-h-[120px]",...r})}),c.jsx(yc,{children:"Include key details about the case."}),c.jsx(aa,{})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(Za,{control:e.control,name:"status",render:({field:r})=>c.jsxs(ra,{children:[c.jsx(ia,{children:"Status"}),c.jsxs(YZ,{onValueChange:r.onChange,defaultValue:r.value,children:[c.jsx(sa,{children:c.jsx(c4,{children:c.jsx(qZ,{placeholder:"Select a status"})})}),c.jsxs(f4,{children:[c.jsx(Uh,{value:"open",children:"Open"}),c.jsx(Uh,{value:"pending",children:"Pending"}),c.jsx(Uh,{value:"closed",children:"Closed"}),c.jsx(Uh,{value:"archived",children:"Archived"})]})]}),c.jsx(yc,{children:"The current status of the case."}),c.jsx(aa,{})]})}),c.jsx(Za,{control:e.control,name:"policeStationId",render:({field:r})=>c.jsxs(ra,{children:[c.jsx(ia,{children:"Police Station ID"}),c.jsx(sa,{children:c.jsx(nn,{type:"number",min:"1",...r})}),c.jsx(yc,{children:"The ID of the associated police station."}),c.jsx(aa,{})]})})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(lt,{variant:"outline",type:"button",onClick:()=>n("/cases"),children:"Cancel"}),c.jsx(lt,{type:"submit",children:"Add Case"})]})]})})})]})]})};var LT="Dialog",[h4,p4]=Os(LT),[eK,js]=h4(LT),m4=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=n,o=E.useRef(null),l=E.useRef(null),[u=!1,h]=wi({prop:r,defaultProp:i,onChange:s});return c.jsx(eK,{scope:e,triggerRef:o,contentRef:l,contentId:ga(),titleId:ga(),descriptionId:ga(),open:u,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(p=>!p),[h]),modal:a,children:t})};m4.displayName=LT;var g4="DialogTrigger",v4=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=js(g4,t),s=Ht(e,i.triggerRef);return c.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FT(i.open),...r,ref:s,onClick:Ke(n.onClick,i.onOpenToggle)})});v4.displayName=g4;var OT="DialogPortal",[tK,x4]=h4(OT,{forceMount:void 0}),y4=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=js(OT,e);return c.jsx(tK,{scope:e,forceMount:t,children:E.Children.map(r,a=>c.jsx(Wi,{present:t||s.open,children:c.jsx(fy,{asChild:!0,container:i,children:a})}))})};y4.displayName=OT;var Nx="DialogOverlay",w4=E.forwardRef((n,e)=>{const t=x4(Nx,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=js(Nx,n.__scopeDialog);return s.modal?c.jsx(Wi,{present:r||s.open,children:c.jsx(nK,{...i,ref:e})}):null});w4.displayName=Nx;var nK=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=js(Nx,t);return c.jsx(DT,{as:Sl,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(ht.div,{"data-state":FT(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Kc="DialogContent",_4=E.forwardRef((n,e)=>{const t=x4(Kc,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=js(Kc,n.__scopeDialog);return c.jsx(Wi,{present:r||s.open,children:s.modal?c.jsx(rK,{...i,ref:e}):c.jsx(iK,{...i,ref:e})})});_4.displayName=Kc;var rK=E.forwardRef((n,e)=>{const t=js(Kc,n.__scopeDialog),r=E.useRef(null),i=Ht(e,t.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return wj(s)},[]),c.jsx(S4,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(n.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ke(n.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Ke(n.onFocusOutside,s=>s.preventDefault())})}),iK=E.forwardRef((n,e)=>{const t=js(Kc,n.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return c.jsx(S4,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,s),s.defaultPrevented||(r.current||(o=t.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),S4=E.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=n,o=js(Kc,t),l=E.useRef(null),u=Ht(e,l);return gj(),c.jsxs(c.Fragment,{children:[c.jsx(IT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(hf,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":FT(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(aK,{titleId:o.titleId}),c.jsx(lK,{contentRef:l,descriptionId:o.descriptionId})]})]})}),jT="DialogTitle",b4=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=js(jT,t);return c.jsx(ht.h2,{id:i.titleId,...r,ref:e})});b4.displayName=jT;var E4="DialogDescription",M4=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=js(E4,t);return c.jsx(ht.p,{id:i.descriptionId,...r,ref:e})});M4.displayName=E4;var T4="DialogClose",C4=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=js(T4,t);return c.jsx(ht.button,{type:"button",...r,ref:e,onClick:Ke(n.onClick,()=>i.onOpenChange(!1))})});C4.displayName=T4;function FT(n){return n?"open":"closed"}var N4="DialogTitleWarning",[sK,A4]=F6(N4,{contentName:Kc,titleName:jT,docsSlug:"dialog"}),aK=({titleId:n})=>{const e=A4(N4),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},oK="DialogDescriptionWarning",lK=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${A4(oK).contentName}}.`;return E.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},R4=m4,P4=v4,I4=y4,UT=w4,zT=_4,BT=b4,VT=M4,HT=C4,D4="AlertDialog",[cK,pce]=Os(D4,[p4]),So=p4(),k4=n=>{const{__scopeAlertDialog:e,...t}=n,r=So(e);return c.jsx(R4,{...r,...t,modal:!0})};k4.displayName=D4;var uK="AlertDialogTrigger",L4=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=So(t);return c.jsx(P4,{...i,...r,ref:e})});L4.displayName=uK;var dK="AlertDialogPortal",O4=n=>{const{__scopeAlertDialog:e,...t}=n,r=So(e);return c.jsx(I4,{...r,...t})};O4.displayName=dK;var fK="AlertDialogOverlay",j4=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=So(t);return c.jsx(UT,{...i,...r,ref:e})});j4.displayName=fK;var kd="AlertDialogContent",[hK,pK]=cK(kd),F4=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,s=So(t),a=E.useRef(null),o=Ht(e,a),l=E.useRef(null);return c.jsx(sK,{contentName:kd,titleName:U4,docsSlug:"alert-dialog",children:c.jsx(hK,{scope:t,cancelRef:l,children:c.jsxs(zT,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:Ke(i.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(XM,{children:r}),c.jsx(gK,{contentRef:a})]})})})});F4.displayName=kd;var U4="AlertDialogTitle",z4=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=So(t);return c.jsx(BT,{...i,...r,ref:e})});z4.displayName=U4;var B4="AlertDialogDescription",V4=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=So(t);return c.jsx(VT,{...i,...r,ref:e})});V4.displayName=B4;var mK="AlertDialogAction",H4=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=So(t);return c.jsx(HT,{...i,...r,ref:e})});H4.displayName=mK;var W4="AlertDialogCancel",G4=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=pK(W4,t),s=So(t),a=Ht(e,i);return c.jsx(HT,{...s,...r,ref:a})});G4.displayName=W4;var gK=({contentRef:n})=>{const e=`\`${kd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${kd}\` by passing a \`${B4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${kd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},vK=k4,xK=L4,yK=O4,$4=j4,X4=F4,Y4=H4,q4=G4,Z4=z4,K4=V4;const xm=vK,ym=xK,wK=yK,J4=E.forwardRef(({className:n,...e},t)=>c.jsx($4,{className:Qe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));J4.displayName=$4.displayName;const Tf=E.forwardRef(({className:n,...e},t)=>c.jsxs(wK,{children:[c.jsx(J4,{}),c.jsx(X4,{ref:t,className:Qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));Tf.displayName=X4.displayName;const Cf=({className:n,...e})=>c.jsx("div",{className:Qe("flex flex-col space-y-2 text-center sm:text-left",n),...e});Cf.displayName="AlertDialogHeader";const Nf=({className:n,...e})=>c.jsx("div",{className:Qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Nf.displayName="AlertDialogFooter";const Af=E.forwardRef(({className:n,...e},t)=>c.jsx(Z4,{ref:t,className:Qe("text-lg font-semibold",n),...e}));Af.displayName=Z4.displayName;const Rf=E.forwardRef(({className:n,...e},t)=>c.jsx(K4,{ref:t,className:Qe("text-sm text-muted-foreground",n),...e}));Rf.displayName=K4.displayName;const Pf=E.forwardRef(({className:n,...e},t)=>c.jsx(Y4,{ref:t,className:Qe(ET(),n),...e}));Pf.displayName=Y4.displayName;const If=E.forwardRef(({className:n,...e},t)=>c.jsx(q4,{ref:t,className:Qe(ET({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));If.displayName=q4.displayName;const N1=[{id:"1",first_name:"John",last_name:"Doe",middle_name:"A",date_of_birth:"1985-06-15",biometric_data:"Fingerprint",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=400&h=400&fit=facearea&facepad=2&auto=format"},{id:"2",first_name:"Jane",last_name:"Smith",middle_name:"",date_of_birth:"1990-02-20",biometric_data:"DNA",image:"https://images.unsplash.com/photo-1511367461989-f85a21fda167?q=80&w=400&h=400&fit=facearea&facepad=2&auto=format"}],_K=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(!0),[i,s]=E.useState(""),[a,o]=E.useState("name"),[l,u]=E.useState("asc"),[h,p]=E.useState(null);E.useState(null),E.useState({first_name:"",last_name:"",middle_name:"",date_of_birth:"",biometric_data:""});const[m,g]=E.useState(10),[v,y]=E.useState(!1),w=E.useRef(null),x=n.filter(A=>A.first_name.toLowerCase().includes(i.toLowerCase())||A.last_name.toLowerCase().includes(i.toLowerCase())).sort((A,k)=>{if(a==="name"){const I=`${A.last_name} ${A.first_name}`.toLowerCase(),R=`${k.last_name} ${k.first_name}`.toLowerCase();return l==="asc"?I.localeCompare(R):R.localeCompare(I)}else return l==="asc"?new Date(A.date_of_birth).getTime()-new Date(k.date_of_birth).getTime():new Date(k.date_of_birth).getTime()-new Date(A.date_of_birth).getTime()}),b=()=>{const A=localStorage.getItem("criminals");if(A)try{return JSON.parse(A)}catch{return N1}return N1};E.useEffect(()=>{r(!0);let A=b();localStorage.getItem("criminals")||localStorage.setItem("criminals",JSON.stringify(N1)),e(A),r(!1)},[]),E.useEffect(()=>{const A=()=>{if(!w.current)return;const{scrollTop:I,scrollHeight:R,clientHeight:U}=w.current;I+U>=R-50&&!v&&m<x.length&&(y(!0),setTimeout(()=>{g(V=>Math.min(V+10,x.length)),y(!1)},500))},k=w.current;return k&&k.addEventListener("scroll",A),()=>{k&&k.removeEventListener("scroll",A)}},[x.length,v,m]);const S=A=>{p(A),setTimeout(()=>{const k=n.filter(I=>I.id!==A);e(k),localStorage.setItem("criminals",JSON.stringify(k)),p(null),en.success("Criminal record deleted successfully")},500)},T=A=>{a===A?u(l==="asc"?"desc":"asc"):(o(A),u("asc"))},C=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=A=>{const k=new Date,I=new Date(A);let R=k.getFullYear()-I.getFullYear();const U=k.getMonth()-I.getMonth();return(U<0||U===0&&k.getDate()<I.getDate())&&R--,R};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Criminals"}),c.jsx("p",{className:"text-muted-foreground",children:"All criminals in the FBI system"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(nn,{type:"text",placeholder:"Search by first or last name...",value:i,onChange:A=>s(A.target.value),className:"w-64"}),c.jsxs("select",{value:a,onChange:A=>o(A.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"name",children:"Sort by Name"}),c.jsx("option",{value:"date",children:"Sort by Date of Birth"})]}),c.jsxs("select",{value:l,onChange:A=>u(A.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"asc",children:"Ascending"}),c.jsx("option",{value:"desc",children:"Descending"})]})]})]}),c.jsxs(zn,{className:"glass-card",children:[c.jsx(vr,{className:"px-6",children:c.jsx(br,{children:"All Criminals"})}),c.jsxs(Yn,{children:[c.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4 mb-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(nn,{placeholder:"Search criminals...",className:"pl-10",value:i,onChange:A=>s(A.target.value)})]}),c.jsx("div",{className:"flex space-x-2",children:c.jsxs("div",{className:"flex items-center bg-muted rounded-md",children:[c.jsx("div",{className:"px-3",children:c.jsx(mf,{className:"h-4 w-4 text-muted-foreground"})}),c.jsxs("select",{className:"bg-transparent py-2 pr-3 border-0 focus:ring-0 text-sm focus:outline-none",defaultValue:"all",children:[c.jsx("option",{value:"all",children:"All Records"}),c.jsx("option",{value:"recent",children:"Recent"}),c.jsx("option",{value:"oldest",children:"Oldest"})]})]})})]}),t?c.jsx("div",{className:"space-y-4 py-4",children:[...Array(3)].map((A,k)=>c.jsx("div",{className:"h-24 bg-muted rounded-lg animate-pulse"},k))}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"hidden md:flex py-3 px-4 text-sm font-medium text-muted-foreground",children:[c.jsx("div",{className:"flex-1 flex items-center",children:c.jsxs("button",{className:"flex items-center",onClick:()=>T("name"),children:["Name",a==="name"&&(l==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})}),c.jsx("div",{className:"w-32 text-center",children:"Age"}),c.jsx("div",{className:"w-40 flex items-center justify-end",children:c.jsxs("button",{className:"flex items-center",onClick:()=>T("date"),children:["Date of Birth",a==="date"&&(l==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})}),c.jsx("div",{className:"w-16"})," "]}),c.jsx("div",{ref:w,style:{maxHeight:"60vh",overflowY:"auto"},children:c.jsxs("div",{className:"divide-y divide-border",children:[x.length===0?c.jsxs("div",{className:"py-8 text-center",children:[c.jsx(JM,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:"No criminals found"})]}):x.slice(0,m).map(A=>c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center py-4 px-4 hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex items-start flex-1 min-w-0",children:[c.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-primary/10 flex items-center justify-center mr-4 overflow-hidden",children:c.jsx("img",{src:A.image||"https://source.unsplash.com/400x400/?portrait,person",alt:A.first_name+" "+A.last_name,className:"h-10 w-10 rounded-full object-cover border",onError:k=>k.currentTarget.src="https://source.unsplash.com/400x400/?portrait,person"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground leading-tight",children:c.jsxs(Sa,{to:`/criminals/${A.id}`,children:[A.last_name,", ",A.first_name]})}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["ID: ",A.id.substring(0,8),"..."]})]})]}),c.jsxs("div",{className:"mt-2 md:mt-0 md:w-32 md:text-center text-sm",children:[P(A.date_of_birth)," years"]}),c.jsx("div",{className:"mt-2 md:mt-0 md:w-40 md:text-right text-sm text-muted-foreground",children:C(A.date_of_birth)}),c.jsx("div",{className:"mt-2 md:mt-0 md:w-16 md:text-right flex justify-end",children:c.jsxs(xm,{children:[c.jsx(ym,{asChild:!0,children:c.jsx(lt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:k=>k.stopPropagation(),children:c.jsx(Eb,{className:"h-4 w-4"})})}),c.jsxs(Tf,{children:[c.jsxs(Cf,{children:[c.jsx(Af,{children:"Are you sure?"}),c.jsxs(Rf,{children:["This will permanently delete the criminal record for ",A.first_name," ",A.last_name,". This action cannot be undone."]})]}),c.jsxs(Nf,{children:[c.jsx(If,{children:"Cancel"}),c.jsx(Pf,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>S(A.id),children:"Delete"})]})]})]})})]},A.id)),v&&c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"h-6 w-6 rounded-full border-4 border-primary border-t-transparent animate-spin"})})]})})]})]})]})]})},SK=gm({firstName:zr().min(2,{message:"First name must be at least 2 characters."}),lastName:zr().min(2,{message:"Last name must be at least 2 characters."}),middleName:zr().optional(),dateOfBirth:zr().regex(/^\d{4}-\d{2}-\d{2}$/,{message:"Date must be in YYYY-MM-DD format."}),biometricData:zr().optional()}),bK=()=>{const n=Sf(),[e,t]=E.useState(!1),r=pm({resolver:mm(SK),defaultValues:{firstName:"",lastName:"",middleName:"",dateOfBirth:"",biometricData:""}});async function i(s){t(!0);try{const a=localStorage.getItem("criminals");let o=[];if(a)try{o=JSON.parse(a)}catch{o=[]}const l={id:Date.now().toString(),first_name:s.firstName,last_name:s.lastName,middle_name:s.middleName||"",date_of_birth:s.dateOfBirth,biometric_data:s.biometricData||"",image:`https://source.unsplash.com/400x400/?portrait,person&sig=${Date.now()}`},u=[...o,l];localStorage.setItem("criminals",JSON.stringify(u)),en.success("Criminal record added successfully!"),n("/criminals")}catch(a){console.error("Error submitting form:",a),en.error("An unexpected error occurred")}finally{t(!1)}}return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Add Criminal Record"}),c.jsx("p",{className:"text-muted-foreground",children:"Create a new FBI criminal record in the system."})]}),c.jsxs(zn,{children:[c.jsx(vr,{children:c.jsx(br,{children:"Personal Details"})}),c.jsx(Yn,{children:c.jsx(hj,{...r,children:c.jsxs("form",{onSubmit:r.handleSubmit(i),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(Za,{control:r.control,name:"firstName",render:({field:s})=>c.jsxs(ra,{children:[c.jsx(ia,{children:"First Name"}),c.jsx(sa,{children:c.jsx(nn,{placeholder:"First name",...s})}),c.jsx(aa,{})]})}),c.jsx(Za,{control:r.control,name:"middleName",render:({field:s})=>c.jsxs(ra,{children:[c.jsx(ia,{children:"Middle Name (Optional)"}),c.jsx(sa,{children:c.jsx(nn,{placeholder:"Middle name",...s})}),c.jsx(aa,{})]})}),c.jsx(Za,{control:r.control,name:"lastName",render:({field:s})=>c.jsxs(ra,{children:[c.jsx(ia,{children:"Last Name"}),c.jsx(sa,{children:c.jsx(nn,{placeholder:"Last name",...s})}),c.jsx(aa,{})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(Za,{control:r.control,name:"dateOfBirth",render:({field:s})=>c.jsxs(ra,{children:[c.jsx(ia,{children:"Date of Birth"}),c.jsx(sa,{children:c.jsx(nn,{type:"date",...s})}),c.jsx(yc,{children:"Format: YYYY-MM-DD"}),c.jsx(aa,{})]})}),c.jsx(Za,{control:r.control,name:"biometricData",render:({field:s})=>c.jsxs(ra,{children:[c.jsx(ia,{children:"Biometric Data (Optional)"}),c.jsx(sa,{children:c.jsx(nn,{placeholder:"Biometric reference",...s})}),c.jsx(yc,{children:"Reference to biometric data if available."}),c.jsx(aa,{})]})})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(lt,{variant:"outline",type:"button",onClick:()=>n("/criminals"),children:"Cancel"}),c.jsx(lt,{type:"submit",disabled:e,children:e?"Adding...":"Add Criminal Record"})]})]})})})]})]})},A1=[{id:"1",name:"Alice Johnson",rank:"Detective",badge_number:"BD-1001",department:"Homicide",created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1517841905240-472988babdf9?q=80&w=400&h=400&fit=facearea&facepad=2&auto=format"},{id:"2",name:"Bob Smith",rank:"Sergeant",badge_number:"BD-1002",department:"Robbery",created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?q=80&w=400&h=400&fit=facearea&facepad=2&auto=format"},{id:"3",name:"Maria Lopez",rank:"Officer",badge_number:"BD-1003",department:"Narcotics",created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?q=80&w=400&h=400&fit=facearea&facepad=2&auto=format"}],EK=gm({name:zr().min(2,{message:"Name must be at least 2 characters."}),rank:zr().min(2,{message:"Rank must be at least 2 characters."}),badge_number:zr().min(2,{message:"Badge number must be at least 2 characters."}),department:zr().optional()}),MK=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(!0),[i,s]=E.useState(""),[a,o]=E.useState("name"),[l,u]=E.useState("asc");E.useState(!1),pm({resolver:mm(EK),defaultValues:{name:"",rank:"",badge_number:"",department:""}}),E.useState(!1),E.useState(null),E.useState({name:"",rank:"",badge_number:"",department:""});const h=()=>{const v=localStorage.getItem("officers");if(v)try{return JSON.parse(v)}catch{return A1}return A1};E.useEffect(()=>{r(!0);let v=h();localStorage.getItem("officers")||localStorage.setItem("officers",JSON.stringify(A1)),e(v),r(!1)},[]);const p=v=>{const y=n.filter(w=>w.id!==v);e(y),localStorage.setItem("officers",JSON.stringify(y)),en.success("Officer record deleted successfully")},m=v=>{a===v?u(l==="asc"?"desc":"asc"):(o(v),u("asc"))},g=n.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.rank.toLowerCase().includes(i.toLowerCase())||v.department&&v.department.toLowerCase().includes(i.toLowerCase())).sort((v,y)=>a==="name"?l==="asc"?v.name.localeCompare(y.name):y.name.localeCompare(v.name):l==="asc"?v.rank.localeCompare(y.rank):y.rank.localeCompare(v.rank));return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Officers"}),c.jsx("p",{className:"text-muted-foreground",children:"All FBI officers in the system"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(nn,{type:"text",placeholder:"Search by name, rank, or badge number...",value:i,onChange:v=>s(v.target.value),className:"w-64"}),c.jsxs("select",{value:a,onChange:v=>o(v.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"name",children:"Sort by Name"}),c.jsx("option",{value:"rank",children:"Sort by Rank"}),c.jsx("option",{value:"badge_number",children:"Sort by Badge Number"})]}),c.jsxs("select",{value:l,onChange:v=>u(v.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"asc",children:"Ascending"}),c.jsx("option",{value:"desc",children:"Descending"})]})]})]}),c.jsxs(zn,{className:"glass-card",children:[c.jsx(vr,{className:"px-6",children:c.jsx(br,{children:"All Officers"})}),c.jsxs(Yn,{children:[c.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4 mb-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(nn,{placeholder:"Search officers...",className:"pl-10",value:i,onChange:v=>s(v.target.value)})]}),c.jsx("div",{className:"flex space-x-2",children:c.jsxs("div",{className:"flex items-center bg-muted rounded-md",children:[c.jsx("div",{className:"px-3",children:c.jsx(mf,{className:"h-4 w-4 text-muted-foreground"})}),c.jsxs("select",{className:"bg-transparent py-2 pr-3 border-0 focus:ring-0 text-sm focus:outline-none",defaultValue:"all",children:[c.jsx("option",{value:"all",children:"All Ranks"}),c.jsx("option",{value:"detective",children:"Detective"}),c.jsx("option",{value:"sergeant",children:"Sergeant"}),c.jsx("option",{value:"officer",children:"Officer"})]})]})})]}),t?c.jsx("div",{className:"space-y-4 py-4",children:[...Array(3)].map((v,y)=>c.jsx("div",{className:"h-24 bg-muted rounded-lg animate-pulse"},y))}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"hidden md:flex py-3 px-4 text-sm font-medium text-muted-foreground",children:[c.jsx("div",{className:"flex-1 flex items-center",children:c.jsxs("button",{className:"flex items-center",onClick:()=>m("name"),children:["Name",a==="name"&&(l==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})}),c.jsx("div",{className:"w-32 flex items-center",children:c.jsxs("button",{className:"flex items-center",onClick:()=>m("rank"),children:["Rank",a==="rank"&&(l==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})}),c.jsx("div",{className:"w-32 text-center",children:"Badge Number"}),c.jsx("div",{className:"w-32 text-center",children:"Department"}),c.jsx("div",{className:"w-16"})," "]}),c.jsx("div",{className:"divide-y divide-border",children:g.length===0?c.jsxs("div",{className:"py-8 text-center",children:[c.jsx(xi,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:"No officers found"})]}):g.map(v=>c.jsxs("div",{className:"flex items-center py-4 px-4 hover:bg-muted/50 transition-colors rounded-lg mb-2",children:[c.jsx("div",{className:"h-16 w-16 flex-shrink-0 rounded-full bg-primary/10 flex items-center justify-center mr-4 overflow-hidden border",children:c.jsx("img",{src:v.image,alt:v.name,className:"h-full w-full object-cover object-center rounded-full"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-foreground text-lg truncate",children:v.name}),c.jsxs("div",{className:"text-sm text-muted-foreground truncate",children:["Rank: ",v.rank," | Badge: ",v.badge_number," | Dept: ",v.department||"-"]}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",v.id.substring(0,8),"..."]})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:c.jsxs(xm,{children:[c.jsx(ym,{asChild:!0,children:c.jsx(lt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:y=>y.stopPropagation(),children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[c.jsx("path",{d:"M3 6h18"}),c.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),c.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),c.jsxs(Tf,{children:[c.jsxs(Cf,{children:[c.jsx(Af,{children:"Are you sure?"}),c.jsxs(Rf,{children:["This will permanently delete the officer record for ",v.name,". This action cannot be undone."]})]}),c.jsxs(Nf,{children:[c.jsx(If,{children:"Cancel"}),c.jsx(Pf,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>p(v.id),children:"Delete"})]})]})]})})]},v.id))})]})]})]})]})},aE=R4,TK=P4,CK=I4,Q4=E.forwardRef(({className:n,...e},t)=>c.jsx(UT,{ref:t,className:Qe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));Q4.displayName=UT.displayName;const Ax=E.forwardRef(({className:n,children:e,...t},r)=>c.jsxs(CK,{children:[c.jsx(Q4,{}),c.jsxs(zT,{ref:r,className:Qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,c.jsxs(HT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Z0,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ax.displayName=zT.displayName;const Rx=({className:n,...e})=>c.jsx("div",{className:Qe("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Rx.displayName="DialogHeader";const WT=({className:n,...e})=>c.jsx("div",{className:Qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});WT.displayName="DialogFooter";const Px=E.forwardRef(({className:n,...e},t)=>c.jsx(BT,{ref:t,className:Qe("text-lg font-semibold leading-none tracking-tight",n),...e}));Px.displayName=BT.displayName;const Ix=E.forwardRef(({className:n,...e},t)=>c.jsx(VT,{ref:t,className:Qe("text-sm text-muted-foreground",n),...e}));Ix.displayName=VT.displayName;const R1=[{id:"1",description:"Fingerprint on window",storage_location:"Locker A-101",case_id:null,created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?q=80&w=400&h=400&fit=crop&auto=format"},{id:"2",description:"CCTV footage",storage_location:"Digital Archive",case_id:null,created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1464983953574-0892a716854b?q=80&w=400&h=400&fit=crop&auto=format"},{id:"3",description:"Recovered weapon",storage_location:"Locker B-202",case_id:null,created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1510822736943-1b6a1e1b8a48?q=80&w=400&h=400&fit=crop&auto=format"},{id:"4",description:"Signed document",storage_location:"Evidence Room",case_id:null,created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=400&h=400&fit=crop&auto=format"}],NK=gm({description:zr().min(3,{message:"Description must be at least 3 characters."}),storage_location:zr().min(2,{message:"Storage location must be at least 2 characters."})}),AK=()=>{var k,I;const[n,e]=E.useState([]),[t,r]=E.useState(!0),[i,s]=E.useState(""),[a,o]=E.useState("date"),[l,u]=E.useState("desc"),[h,p]=E.useState(!1),m=pm({resolver:mm(NK),defaultValues:{description:"",storage_location:""}}),[g,v]=E.useState(!1);E.useState(null),E.useState({description:"",storage_location:""});const[y,w]=E.useState(10),[x,b]=E.useState(!1),S=E.useRef(null),T=()=>{const R=localStorage.getItem("evidence");if(R)try{return JSON.parse(R)}catch{return R1}return R1};E.useEffect(()=>{r(!0);let R=T();localStorage.getItem("evidence")||localStorage.setItem("evidence",JSON.stringify(R1)),e(R),r(!1)},[]);const C=R=>{const U=n.filter(V=>V.id!==R);e(U),localStorage.setItem("evidence",JSON.stringify(U)),en.success("Evidence record deleted successfully")},P=async R=>{p(!0);try{const U={...R,id:Date.now().toString(),case_id:null,created_at:new Date().toISOString()},V=[...n,U];e(V),localStorage.setItem("evidence",JSON.stringify(V)),en.success("Evidence added successfully"),m.reset(),v(!1)}catch{en.error("An unexpected error occurred")}finally{p(!1)}},A=n.filter(R=>R.description.toLowerCase().includes(i.toLowerCase())||R.storage_location.toLowerCase().includes(i.toLowerCase())).sort((R,U)=>a==="description"?l==="asc"?R.description.localeCompare(U.description):U.description.localeCompare(R.description):l==="asc"?new Date(R.created_at).getTime()-new Date(U.created_at).getTime():new Date(U.created_at).getTime()-new Date(R.created_at).getTime());return E.useEffect(()=>{const R=()=>{if(!S.current)return;const{scrollTop:V,scrollHeight:J,clientHeight:z}=S.current;V+z>=J-50&&!x&&y<A.length&&(b(!0),setTimeout(()=>{w(Q=>Math.min(Q+10,A.length)),b(!1)},500))},U=S.current;return U&&U.addEventListener("scroll",R),()=>{U&&U.removeEventListener("scroll",R)}},[x,y,A.length]),c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Evidence"}),c.jsx("p",{className:"text-muted-foreground",children:"All FBI evidence in the system"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(nn,{type:"text",placeholder:"Search by description or storage location...",value:i,onChange:R=>s(R.target.value),className:"w-64"}),c.jsxs("select",{value:a,onChange:R=>o(R.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"description",children:"Sort by Description"}),c.jsx("option",{value:"date",children:"Sort by Date"})]}),c.jsxs("select",{value:l,onChange:R=>u(R.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"asc",children:"Ascending"}),c.jsx("option",{value:"desc",children:"Descending"})]})]})]}),c.jsxs(aE,{open:g,onOpenChange:v,children:[c.jsx(TK,{asChild:!0,children:c.jsxs(lt,{className:"flex items-center",children:[c.jsx(vL,{className:"mr-2 h-4 w-4"})," Add Evidence"]})}),c.jsxs(Ax,{children:[c.jsxs(Rx,{children:[c.jsx(Px,{children:"Add Evidence"}),c.jsx(Ix,{children:"Enter evidence details below."})]}),c.jsxs("form",{onSubmit:m.handleSubmit(P),className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Tx,{children:"Description"}),c.jsx(nn,{...m.register("description"),placeholder:"Description"}),c.jsx("p",{className:"text-destructive text-xs mt-1",children:(k=m.formState.errors.description)==null?void 0:k.message})]}),c.jsxs("div",{children:[c.jsx(Tx,{children:"Storage Location"}),c.jsx(nn,{...m.register("storage_location"),placeholder:"Storage location"}),c.jsx("p",{className:"text-destructive text-xs mt-1",children:(I=m.formState.errors.storage_location)==null?void 0:I.message})]})]}),c.jsxs(WT,{children:[c.jsx(lt,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),c.jsx(lt,{type:"submit",disabled:h,children:h?"Adding...":"Add Evidence"})]})]})]})]}),c.jsxs(zn,{className:"glass-card",children:[c.jsx(vr,{className:"px-6",children:c.jsx(br,{children:"All Evidence"})}),c.jsxs(Yn,{children:[c.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4 mb-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(nn,{placeholder:"Search evidence...",className:"pl-10",value:i,onChange:R=>s(R.target.value)})]}),c.jsx("div",{className:"flex space-x-2",children:c.jsxs("div",{className:"flex items-center bg-muted rounded-md",children:[c.jsx("div",{className:"px-3",children:c.jsx(mf,{className:"h-4 w-4 text-muted-foreground"})}),c.jsxs("select",{className:"bg-transparent py-2 pr-3 border-0 focus:ring-0 text-sm focus:outline-none",defaultValue:"all",children:[c.jsx("option",{value:"all",children:"All Evidence"}),c.jsx("option",{value:"recent",children:"Recently Added"}),c.jsx("option",{value:"oldest",children:"Oldest First"})]})]})})]}),c.jsxs("div",{ref:S,style:{maxHeight:"70vh",overflowY:"auto"},children:[t?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((R,U)=>c.jsx("div",{className:"h-32 bg-muted rounded-lg animate-pulse"},U))}):A.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(KM,{className:"w-12 h-12 text-muted-foreground mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"No evidence found."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.slice(0,y).map(R=>c.jsxs("div",{className:"flex items-center py-4 px-4 hover:bg-muted/50 transition-colors rounded-lg mb-2",children:[c.jsx("div",{className:"h-16 w-16 flex-shrink-0 rounded bg-primary/10 flex items-center justify-center mr-4 overflow-hidden border",children:c.jsx("img",{src:R.image,alt:R.description,className:"h-full w-full object-cover object-center rounded"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-foreground text-lg truncate",children:R.description}),c.jsx("div",{className:"text-sm text-muted-foreground truncate",children:R.storage_location}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",R.id.substring(0,8),"... | ",new Date(R.created_at).toLocaleDateString()]})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:c.jsxs(xm,{children:[c.jsx(ym,{asChild:!0,children:c.jsx(lt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:U=>U.stopPropagation(),children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[c.jsx("path",{d:"M3 6h18"}),c.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),c.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),c.jsxs(Tf,{children:[c.jsxs(Cf,{children:[c.jsx(Af,{children:"Are you sure?"}),c.jsxs(Rf,{children:["This will permanently delete the evidence record for ",R.description,". This action cannot be undone."]})]}),c.jsxs(Nf,{children:[c.jsx(If,{children:"Cancel"}),c.jsx(Pf,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>C(R.id),children:"Delete"})]})]})]})})]},R.id))}),x&&c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})]})]})]})]})},P1=[{id:"1",name:"Sarah Lee",statement:"Saw the suspect running from the scene.",description:"Store owner",case_id:null,created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1517363898873-fafc2070293c?q=80&w=400&h=400&fit=facearea&facepad=2&auto=format"},{id:"2",name:"Tom Brown",statement:"Heard loud noises at midnight.",description:"Neighbor",case_id:null,created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?q=80&w=400&h=400&fit=facearea&facepad=2&auto=format"},{id:"3",name:"Priya Singh",statement:"Saw a suspicious car parked nearby.",description:"Passerby",case_id:null,created_at:new Date().toISOString(),image:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?q=80&w=400&h=400&fit=facearea&facepad=2&auto=format"}],RK=gm({name:zr().min(2,{message:"Name must be at least 2 characters."}),statement:zr().min(5,{message:"Statement must be at least 5 characters."}),description:zr().optional()}),PK=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(!0),[i,s]=E.useState(""),[a,o]=E.useState("name"),[l,u]=E.useState("asc");E.useState(!1),pm({resolver:mm(RK),defaultValues:{name:"",statement:"",description:""}}),E.useState(!1),E.useState(null),E.useState({name:"",statement:"",description:""});const[h,p]=E.useState(10),[m,g]=E.useState(!1),v=E.useRef(null),y=()=>{const S=localStorage.getItem("witnesses");if(S)try{return JSON.parse(S)}catch{return P1}return P1},w=n.filter(S=>S.name.toLowerCase().includes(i.toLowerCase())||S.statement.toLowerCase().includes(i.toLowerCase())||S.description&&S.description.toLowerCase().includes(i.toLowerCase())).sort((S,T)=>a==="name"?l==="asc"?S.name.localeCompare(T.name):T.name.localeCompare(S.name):l==="asc"?new Date(S.created_at).getTime()-new Date(T.created_at).getTime():new Date(T.created_at).getTime()-new Date(S.created_at).getTime());E.useEffect(()=>{r(!0);let S=y();localStorage.getItem("witnesses")||localStorage.setItem("witnesses",JSON.stringify(P1)),e(S),r(!1)},[]),E.useEffect(()=>{const S=()=>{if(!v.current)return;const{scrollTop:C,scrollHeight:P,clientHeight:A}=v.current;C+A>=P-50&&!m&&h<w.length&&(g(!0),setTimeout(()=>{p(k=>Math.min(k+10,w.length)),g(!1)},500))},T=v.current;return T&&T.addEventListener("scroll",S),()=>{T&&T.removeEventListener("scroll",S)}},[w.length,m,h]);const x=S=>{const T=n.filter(C=>C.id!==S);e(T),localStorage.setItem("witnesses",JSON.stringify(T)),en.success("Witness record deleted successfully")},b=S=>{a===S?u(l==="asc"?"desc":"asc"):(o(S),u("asc"))};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Witnesses"}),c.jsx("p",{className:"text-muted-foreground",children:"All FBI witnesses in the system"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(nn,{type:"text",placeholder:"Search by name, statement, or description...",value:i,onChange:S=>s(S.target.value),className:"w-64"}),c.jsxs("select",{value:a,onChange:S=>o(S.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"name",children:"Sort by Name"}),c.jsx("option",{value:"date",children:"Sort by Date"})]}),c.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"asc",children:"Ascending"}),c.jsx("option",{value:"desc",children:"Descending"})]})]})]}),c.jsxs(zn,{className:"glass-card",children:[c.jsx(vr,{className:"px-6",children:c.jsx(br,{children:"All Witnesses"})}),c.jsxs(Yn,{children:[c.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4 mb-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(nn,{placeholder:"Search witnesses...",className:"pl-10",value:i,onChange:S=>s(S.target.value)})]}),c.jsx("div",{className:"flex space-x-2",children:c.jsxs("div",{className:"flex items-center bg-muted rounded-md",children:[c.jsx("div",{className:"px-3",children:c.jsx(mf,{className:"h-4 w-4 text-muted-foreground"})}),c.jsxs("select",{className:"bg-transparent py-2 pr-3 border-0 focus:ring-0 text-sm focus:outline-none",defaultValue:"all",children:[c.jsx("option",{value:"all",children:"All Witnesses"}),c.jsx("option",{value:"recent",children:"Recently Added"}),c.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})})]}),c.jsx("div",{ref:v,style:{maxHeight:"60vh",overflowY:"auto"},children:t?c.jsx("div",{className:"space-y-4 py-4",children:[...Array(3)].map((S,T)=>c.jsx("div",{className:"h-24 bg-muted rounded-lg animate-pulse"},T))}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"hidden md:flex py-3 px-4 text-sm font-medium text-muted-foreground",children:[c.jsx("div",{className:"flex-1 flex items-center",children:c.jsxs("button",{className:"flex items-center",onClick:()=>b("name"),children:["Name",a==="name"&&(l==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})}),c.jsx("div",{className:"w-32 flex",children:"Description"}),c.jsx("div",{className:"w-32 flex items-center justify-end",children:c.jsxs("button",{className:"flex items-center",onClick:()=>b("date"),children:["Date Added",a==="date"&&(l==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})}),c.jsx("div",{className:"w-16"})," "]}),c.jsxs("div",{className:"divide-y divide-border",children:[w.length===0?c.jsxs("div",{className:"py-8 text-center",children:[c.jsx(wL,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:"No witnesses found"})]}):w.slice(0,h).map(S=>c.jsxs("div",{className:"flex items-center py-4 px-4 hover:bg-muted/50 transition-colors rounded-lg mb-2",children:[c.jsx("div",{className:"h-16 w-16 flex-shrink-0 rounded-full bg-primary/10 flex items-center justify-center mr-4 overflow-hidden border",children:c.jsx("img",{src:S.image||"https://source.unsplash.com/400x400/?portrait,person",alt:S.name,className:"h-full w-full object-cover object-center rounded-full",onError:T=>T.currentTarget.src="https://source.unsplash.com/400x400/?portrait,person"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-foreground text-lg truncate",children:S.name}),c.jsx("div",{className:"text-sm text-muted-foreground truncate",children:S.statement}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[S.description||"-"," | ",new Date(S.created_at).toLocaleDateString()]})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:c.jsxs(xm,{children:[c.jsx(ym,{asChild:!0,children:c.jsx(lt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:T=>T.stopPropagation(),children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[c.jsx("path",{d:"M3 6h18"}),c.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),c.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),c.jsxs(Tf,{children:[c.jsxs(Cf,{children:[c.jsx(Af,{children:"Are you sure?"}),c.jsxs(Rf,{children:["This will permanently delete the witness record for ",S.name,". This action cannot be undone."]})]}),c.jsxs(Nf,{children:[c.jsx(If,{children:"Cancel"}),c.jsx(Pf,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>x(S.id),children:"Delete"})]})]})]})})]},S.id)),m&&c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"h-6 w-6 rounded-full border-4 border-primary border-t-transparent animate-spin"})})]})]})})]})]})]})},IK=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(!0),[i,s]=E.useState(""),[a,o]=E.useState("name"),[l,u]=E.useState("asc");E.useState({name:"",judge_name:"",location:"",jurisdiction:""}),E.useState(!1),E.useEffect(()=>{h()},[]);const h=async()=>{r(!0);try{const v=localStorage.getItem("courts");v?e(JSON.parse(v)):(e([{id:"1",name:"Central District Court",judge_name:"Hon. Robert Williams",location:"450 Golden Gate Ave, San Francisco",jurisdiction:"Criminal",created_at:"2023-01-01"},{id:"2",name:"Superior Court of California",judge_name:"Hon. Jane Doe",location:"123 Main St, Oakland",jurisdiction:"Civil",created_at:"2023-02-15"},{id:"3",name:"Appellate Division",judge_name:"Hon. Peter Parker",location:"500 Pine St, Seattle",jurisdiction:"Appeals",created_at:"2023-03-20"}]),en.info("No court records found in localStorage, seeding mock data."))}catch(v){console.error("Error in fetchCourts:",v),en.error("An unexpected error occurred")}finally{r(!1)}},p=async v=>{try{const y=n.filter(w=>w.id!==v);e(y),localStorage.setItem("courts",JSON.stringify(y)),en.success("Court record deleted successfully")}catch(y){console.error("Error in handleDelete:",y),en.error("An unexpected error occurred")}},m=v=>{a===v?u(l==="asc"?"desc":"asc"):(o(v),u("asc"))},g=n.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.judge_name.toLowerCase().includes(i.toLowerCase())||v.jurisdiction&&v.jurisdiction.toLowerCase().includes(i.toLowerCase())).sort((v,y)=>a==="name"?l==="asc"?v.name.localeCompare(y.name):y.name.localeCompare(v.name):l==="asc"?v.judge_name.localeCompare(y.judge_name):y.judge_name.localeCompare(v.judge_name));return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Courts"}),c.jsx("p",{className:"text-muted-foreground",children:"All FBI courts in the system"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(nn,{type:"text",placeholder:"Search by court name, judge, or location...",value:i,onChange:v=>s(v.target.value),className:"w-64"}),c.jsxs("select",{value:a,onChange:v=>o(v.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"name",children:"Sort by Name"}),c.jsx("option",{value:"judge",children:"Sort by Judge"}),c.jsx("option",{value:"location",children:"Sort by Location"})]}),c.jsxs("select",{value:l,onChange:v=>u(v.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"asc",children:"Ascending"}),c.jsx("option",{value:"desc",children:"Descending"})]})]})]}),c.jsxs(zn,{className:"glass-card",children:[c.jsx(vr,{className:"px-6",children:c.jsx(br,{children:"All Courts"})}),c.jsxs(Yn,{children:[c.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4 mb-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(nn,{placeholder:"Search courts...",className:"pl-10",value:i,onChange:v=>s(v.target.value)})]}),c.jsx("div",{className:"flex space-x-2",children:c.jsxs("div",{className:"flex items-center bg-muted rounded-md",children:[c.jsx("div",{className:"px-3",children:c.jsx(mf,{className:"h-4 w-4 text-muted-foreground"})}),c.jsxs("select",{className:"bg-transparent py-2 pr-3 border-0 focus:ring-0 text-sm focus:outline-none",defaultValue:"all",children:[c.jsx("option",{value:"all",children:"All Jurisdictions"}),c.jsx("option",{value:"criminal",children:"Criminal"}),c.jsx("option",{value:"civil",children:"Civil"}),c.jsx("option",{value:"appeals",children:"Appeals"})]})]})})]}),t?c.jsx("div",{className:"space-y-4 py-4",children:[...Array(3)].map((v,y)=>c.jsx("div",{className:"h-24 bg-muted rounded-lg animate-pulse"},y))}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"hidden md:flex py-3 px-4 text-sm font-medium text-muted-foreground",children:[c.jsx("div",{className:"flex-1 flex items-center",children:c.jsxs("button",{className:"flex items-center",onClick:()=>m("name"),children:["Court Name",a==="name"&&(l==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})}),c.jsx("div",{className:"w-48 flex items-center",children:c.jsxs("button",{className:"flex items-center",onClick:()=>m("judge"),children:["Judge",a==="judge"&&(l==="asc"?c.jsx(Is,{className:"ml-1 h-4 w-4"}):c.jsx(Bi,{className:"ml-1 h-4 w-4"}))]})}),c.jsx("div",{className:"w-32 text-center",children:"Jurisdiction"}),c.jsx("div",{className:"w-16"})," "]}),c.jsx("div",{className:"divide-y divide-border",children:g.length===0?c.jsxs("div",{className:"py-8 text-center",children:[c.jsx(QA,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:"No courts found"})]}):g.map(v=>c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center py-4 px-4 hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex items-start flex-1 min-w-0",children:[c.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded bg-primary/10 flex items-center justify-center mr-4",children:c.jsx(QA,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground leading-tight",children:v.name}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v.location})]})]}),c.jsx("div",{className:"mt-2 md:mt-0 md:w-48",children:v.judge_name}),c.jsx("div",{className:"mt-2 md:mt-0 md:w-32 md:text-center",children:v.jurisdiction||"-"}),c.jsx("div",{className:"mt-2 md:mt-0 md:w-16 md:text-right flex justify-end",children:c.jsxs(xm,{children:[c.jsx(ym,{asChild:!0,children:c.jsx(lt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:y=>y.stopPropagation(),children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[c.jsx("path",{d:"M3 6h18"}),c.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),c.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),c.jsxs(Tf,{children:[c.jsxs(Cf,{children:[c.jsx(Af,{children:"Are you sure?"}),c.jsxs(Rf,{children:["This will permanently delete the court record for ",v.name,". This action cannot be undone."]})]}),c.jsxs(Nf,{children:[c.jsx(If,{children:"Cancel"}),c.jsx(Pf,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>p(v.id),children:"Delete"})]})]})]})})]},v.id))})]})]})]})]})};function DK(n,e=[]){let t=[];function r(s,a){const o=E.createContext(a),l=t.length;t=[...t,a];function u(p){const{scope:m,children:g,...v}=p,y=(m==null?void 0:m[n][l])||o,w=E.useMemo(()=>v,Object.values(v));return c.jsx(y.Provider,{value:w,children:g})}function h(p,m){const g=(m==null?void 0:m[n][l])||o,v=E.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const i=()=>{const s=t.map(a=>E.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[r,kK(i,...e)]}function kK(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(s)[`__scope${u}`];return{...o,...p}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var I1="rovingFocusGroup.onEntryFocus",LK={bubbles:!1,cancelable:!0},Fy="RovingFocusGroup",[oE,eF,OK]=dy(Fy),[jK,Uy]=DK(Fy,[OK]),[FK,UK]=jK(Fy),tF=E.forwardRef((n,e)=>c.jsx(oE.Provider,{scope:n.__scopeRovingFocusGroup,children:c.jsx(oE.Slot,{scope:n.__scopeRovingFocusGroup,children:c.jsx(zK,{...n,ref:e})})}));tF.displayName=Fy;var zK=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=n,m=E.useRef(null),g=Ht(e,m),v=Ef(s),[y=null,w]=wi({prop:a,defaultProp:o,onChange:l}),[x,b]=E.useState(!1),S=Xn(u),T=eF(t),C=E.useRef(!1),[P,A]=E.useState(0);return E.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(I1,S),()=>k.removeEventListener(I1,S)},[S]),c.jsx(FK,{scope:t,orientation:r,dir:v,loop:i,currentTabStopId:y,onItemFocus:E.useCallback(k=>w(k),[w]),onItemShiftTab:E.useCallback(()=>b(!0),[]),onFocusableItemAdd:E.useCallback(()=>A(k=>k+1),[]),onFocusableItemRemove:E.useCallback(()=>A(k=>k-1),[]),children:c.jsx(ht.div,{tabIndex:x||P===0?-1:0,"data-orientation":r,...p,ref:g,style:{outline:"none",...n.style},onMouseDown:Ke(n.onMouseDown,()=>{C.current=!0}),onFocus:Ke(n.onFocus,k=>{const I=!C.current;if(k.target===k.currentTarget&&I&&!x){const R=new CustomEvent(I1,LK);if(k.currentTarget.dispatchEvent(R),!R.defaultPrevented){const U=T().filter(W=>W.focusable),V=U.find(W=>W.active),J=U.find(W=>W.id===y),Q=[V,J,...U].filter(Boolean).map(W=>W.ref.current);iF(Q,h)}}C.current=!1}),onBlur:Ke(n.onBlur,()=>b(!1))})})}),nF="RovingFocusGroupItem",rF=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,...a}=n,o=ga(),l=s||o,u=UK(nF,t),h=u.currentTabStopId===l,p=eF(t),{onFocusableItemAdd:m,onFocusableItemRemove:g}=u;return E.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),c.jsx(oE.ItemSlot,{scope:t,id:l,focusable:r,active:i,children:c.jsx(ht.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Ke(n.onMouseDown,v=>{r?u.onItemFocus(l):v.preventDefault()}),onFocus:Ke(n.onFocus,()=>u.onItemFocus(l)),onKeyDown:Ke(n.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=HK(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=p().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const b=x.indexOf(v.currentTarget);x=u.loop?WK(x,b+1):x.slice(b+1)}setTimeout(()=>iF(x))}})})})});rF.displayName=nF;var BK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VK(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function HK(n,e,t){const r=VK(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BK[r]}function iF(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function WK(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var sF=tF,aF=rF,GT="Tabs",[GK,mce]=Os(GT,[Uy]),oF=Uy(),[$K,$T]=GK(GT),lF=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...u}=n,h=Ef(o),[p,m]=wi({prop:r,onChange:i,defaultProp:s});return c.jsx($K,{scope:t,baseId:ga(),value:p,onValueChange:m,orientation:a,dir:h,activationMode:l,children:c.jsx(ht.div,{dir:h,"data-orientation":a,...u,ref:e})})});lF.displayName=GT;var cF="TabsList",uF=E.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=$T(cF,t),a=oF(t);return c.jsx(sF,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:c.jsx(ht.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});uF.displayName=cF;var dF="TabsTrigger",fF=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,a=$T(dF,t),o=oF(t),l=mF(a.baseId,r),u=gF(a.baseId,r),h=r===a.value;return c.jsx(aF,{asChild:!0,...o,focusable:!i,active:h,children:c.jsx(ht.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Ke(n.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:Ke(n.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:Ke(n.onFocus,()=>{const p=a.activationMode!=="manual";!h&&!i&&p&&a.onValueChange(r)})})})});fF.displayName=dF;var hF="TabsContent",pF=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...a}=n,o=$T(hF,t),l=mF(o.baseId,r),u=gF(o.baseId,r),h=r===o.value,p=E.useRef(h);return E.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),c.jsx(Wi,{present:i||h,children:({present:m})=>c.jsx(ht.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...n.style,animationDuration:p.current?"0s":void 0},children:m&&s})})});pF.displayName=hF;function mF(n,e){return`${n}-trigger-${e}`}function gF(n,e){return`${n}-content-${e}`}var XK=lF,vF=uF,xF=fF,yF=pF;const wF=XK,XT=E.forwardRef(({className:n,...e},t)=>c.jsx(vF,{ref:t,className:Qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));XT.displayName=vF.displayName;const wc=E.forwardRef(({className:n,...e},t)=>c.jsx(xF,{ref:t,className:Qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));wc.displayName=xF.displayName;const _c=E.forwardRef(({className:n,...e},t)=>c.jsx(yF,{ref:t,className:Qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));_c.displayName=yF.displayName;var YT="Collapsible",[YK,_F]=Os(YT),[qK,qT]=YK(YT),SF=E.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=n,[l=!1,u]=wi({prop:r,defaultProp:i,onChange:a});return c.jsx(qK,{scope:t,disabled:s,contentId:ga(),open:l,onOpenToggle:E.useCallback(()=>u(h=>!h),[u]),children:c.jsx(ht.div,{"data-state":KT(l),"data-disabled":s?"":void 0,...o,ref:e})})});SF.displayName=YT;var bF="CollapsibleTrigger",EF=E.forwardRef((n,e)=>{const{__scopeCollapsible:t,...r}=n,i=qT(bF,t);return c.jsx(ht.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":KT(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Ke(n.onClick,i.onOpenToggle)})});EF.displayName=bF;var ZT="CollapsibleContent",MF=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=qT(ZT,n.__scopeCollapsible);return c.jsx(Wi,{present:t||i.open,children:({present:s})=>c.jsx(ZK,{...r,ref:e,present:s})})});MF.displayName=ZT;var ZK=E.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:r,children:i,...s}=n,a=qT(ZT,t),[o,l]=E.useState(r),u=E.useRef(null),h=Ht(e,u),p=E.useRef(0),m=p.current,g=E.useRef(0),v=g.current,y=a.open||o,w=E.useRef(y),x=E.useRef();return E.useEffect(()=>{const b=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(b)},[]),yr(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const S=b.getBoundingClientRect();p.current=S.height,g.current=S.width,w.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),l(r)}},[a.open,r]),c.jsx(ht.div,{"data-state":KT(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...s,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...n.style},children:y&&i})});function KT(n){return n?"open":"closed"}var KK=SF,JK=EF,QK=MF,bo="Accordion",eJ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[JT,tJ,nJ]=dy(bo),[zy,gce]=Os(bo,[nJ,_F]),QT=_F(),TF=me.forwardRef((n,e)=>{const{type:t,...r}=n,i=r,s=r;return c.jsx(JT.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?c.jsx(aJ,{...s,ref:e}):c.jsx(sJ,{...i,ref:e})})});TF.displayName=bo;var[CF,rJ]=zy(bo),[NF,iJ]=zy(bo,{collapsible:!1}),sJ=me.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...a}=n,[o,l]=wi({prop:t,defaultProp:r,onChange:i});return c.jsx(CF,{scope:n.__scopeAccordion,value:o?[o]:[],onItemOpen:l,onItemClose:me.useCallback(()=>s&&l(""),[s,l]),children:c.jsx(NF,{scope:n.__scopeAccordion,collapsible:s,children:c.jsx(AF,{...a,ref:e})})})}),aJ=me.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},...s}=n,[a=[],o]=wi({prop:t,defaultProp:r,onChange:i}),l=me.useCallback(h=>o((p=[])=>[...p,h]),[o]),u=me.useCallback(h=>o((p=[])=>p.filter(m=>m!==h)),[o]);return c.jsx(CF,{scope:n.__scopeAccordion,value:a,onItemOpen:l,onItemClose:u,children:c.jsx(NF,{scope:n.__scopeAccordion,collapsible:!0,children:c.jsx(AF,{...s,ref:e})})})}),[oJ,By]=zy(bo),AF=me.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:r,dir:i,orientation:s="vertical",...a}=n,o=me.useRef(null),l=Ht(o,e),u=tJ(t),p=Ef(i)==="ltr",m=Ke(n.onKeyDown,g=>{var k;if(!eJ.includes(g.key))return;const v=g.target,y=u().filter(I=>{var R;return!((R=I.ref.current)!=null&&R.disabled)}),w=y.findIndex(I=>I.ref.current===v),x=y.length;if(w===-1)return;g.preventDefault();let b=w;const S=0,T=x-1,C=()=>{b=w+1,b>T&&(b=S)},P=()=>{b=w-1,b<S&&(b=T)};switch(g.key){case"Home":b=S;break;case"End":b=T;break;case"ArrowRight":s==="horizontal"&&(p?C():P());break;case"ArrowDown":s==="vertical"&&C();break;case"ArrowLeft":s==="horizontal"&&(p?P():C());break;case"ArrowUp":s==="vertical"&&P();break}const A=b%x;(k=y[A].ref.current)==null||k.focus()});return c.jsx(oJ,{scope:t,disabled:r,direction:i,orientation:s,children:c.jsx(JT.Slot,{scope:t,children:c.jsx(ht.div,{...a,"data-orientation":s,ref:l,onKeyDown:r?void 0:m})})})}),Dx="AccordionItem",[lJ,eC]=zy(Dx),RF=me.forwardRef((n,e)=>{const{__scopeAccordion:t,value:r,...i}=n,s=By(Dx,t),a=rJ(Dx,t),o=QT(t),l=ga(),u=r&&a.value.includes(r)||!1,h=s.disabled||n.disabled;return c.jsx(lJ,{scope:t,open:u,disabled:h,triggerId:l,children:c.jsx(KK,{"data-orientation":s.orientation,"data-state":OF(u),...o,...i,ref:e,disabled:h,open:u,onOpenChange:p=>{p?a.onItemOpen(r):a.onItemClose(r)}})})});RF.displayName=Dx;var PF="AccordionHeader",IF=me.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=By(bo,t),s=eC(PF,t);return c.jsx(ht.h3,{"data-orientation":i.orientation,"data-state":OF(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});IF.displayName=PF;var lE="AccordionTrigger",DF=me.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=By(bo,t),s=eC(lE,t),a=iJ(lE,t),o=QT(t);return c.jsx(JT.ItemSlot,{scope:t,children:c.jsx(JK,{"aria-disabled":s.open&&!a.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...o,...r,ref:e})})});DF.displayName=lE;var kF="AccordionContent",LF=me.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=By(bo,t),s=eC(kF,t),a=QT(t);return c.jsx(QK,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});LF.displayName=kF;function OF(n){return n?"open":"closed"}var cJ=TF,uJ=RF,dJ=IF,jF=DF,FF=LF;const fJ=cJ,h0=E.forwardRef(({className:n,...e},t)=>c.jsx(uJ,{ref:t,className:Qe("border-b",n),...e}));h0.displayName="AccordionItem";const p0=E.forwardRef(({className:n,children:e,...t},r)=>c.jsx(dJ,{className:"flex",children:c.jsxs(jF,{ref:r,className:Qe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,c.jsx(Bi,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));p0.displayName=jF.displayName;const m0=E.forwardRef(({className:n,children:e,...t},r)=>c.jsx(FF,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:c.jsx("div",{className:Qe("pb-4 pt-0",n),children:e})}));m0.displayName=FF.displayName;const hJ=pf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),UF=E.forwardRef(({className:n,variant:e,...t},r)=>c.jsx("div",{ref:r,role:"alert",className:Qe(hJ({variant:e}),n),...t}));UF.displayName="Alert";const zF=E.forwardRef(({className:n,...e},t)=>c.jsx("h5",{ref:t,className:Qe("mb-1 font-medium leading-none tracking-tight",n),...e}));zF.displayName="AlertTitle";const BF=E.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,className:Qe("text-sm [&_p]:leading-relaxed",n),...e}));BF.displayName="AlertDescription";function pJ(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var tC="ScrollArea",[VF,vce]=Os(tC),[mJ,ds]=VF(tC),HF=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=n,[o,l]=E.useState(null),[u,h]=E.useState(null),[p,m]=E.useState(null),[g,v]=E.useState(null),[y,w]=E.useState(null),[x,b]=E.useState(0),[S,T]=E.useState(0),[C,P]=E.useState(!1),[A,k]=E.useState(!1),I=Ht(e,U=>l(U)),R=Ef(i);return c.jsx(mJ,{scope:t,type:r,dir:R,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:h,content:p,onContentChange:m,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:C,onScrollbarXEnabledChange:P,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:A,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:T,children:c.jsx(ht.div,{dir:R,...a,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":S+"px",...n.style}})})});HF.displayName=tC;var WF="ScrollAreaViewport",GF=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,asChild:i,nonce:s,...a}=n,o=ds(WF,t),l=E.useRef(null),u=Ht(e,l,o.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),c.jsx(ht.div,{"data-radix-scroll-area-viewport":"",...a,asChild:i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style},children:MJ({asChild:i,children:r},h=>c.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:h}))})]})});GF.displayName=WF;var Ca="ScrollAreaScrollbar",nC=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ds(Ca,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=n.orientation==="horizontal";return E.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?c.jsx(gJ,{...r,ref:e,forceMount:t}):i.type==="scroll"?c.jsx(vJ,{...r,ref:e,forceMount:t}):i.type==="auto"?c.jsx($F,{...r,ref:e,forceMount:t}):i.type==="always"?c.jsx(rC,{...r,ref:e}):null});nC.displayName=Ca;var gJ=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ds(Ca,n.__scopeScrollArea),[s,a]=E.useState(!1);return E.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),a(!0)},h=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",h),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(Wi,{present:t||s,children:c.jsx($F,{"data-state":s?"visible":"hidden",...r,ref:e})})}),vJ=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ds(Ca,n.__scopeScrollArea),s=n.orientation==="horizontal",a=Hy(()=>l("SCROLL_END"),100),[o,l]=pJ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,l]),E.useEffect(()=>{const u=i.viewport,h=s?"scrollLeft":"scrollTop";if(u){let p=u[h];const m=()=>{const g=u[h];p!==g&&(l("SCROLL"),a()),p=g};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,s,l,a]),c.jsx(Wi,{present:t||o!=="hidden",children:c.jsx(rC,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ke(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ke(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),$F=E.forwardRef((n,e)=>{const t=ds(Ca,n.__scopeScrollArea),{forceMount:r,...i}=n,[s,a]=E.useState(!1),o=n.orientation==="horizontal",l=Hy(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,h=t.viewport.offsetHeight<t.viewport.scrollHeight;a(o?u:h)}},10);return rf(t.viewport,l),rf(t.content,l),c.jsx(Wi,{present:r||s,children:c.jsx(rC,{"data-state":s?"visible":"hidden",...i,ref:e})})}),rC=E.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=ds(Ca,n.__scopeScrollArea),s=E.useRef(null),a=E.useRef(0),[o,l]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=KF(o.viewport,o.content),h={...r,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function p(m,g){return bJ(m,a.current,o,g)}return t==="horizontal"?c.jsx(xJ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,g=hP(m,o,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=p(m,i.dir))}}):t==="vertical"?c.jsx(yJ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,g=hP(m,o);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=p(m))}}):null}),xJ=E.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ds(Ca,n.__scopeScrollArea),[a,o]=E.useState(),l=E.useRef(null),u=Ht(e,l,s.onScrollbarXChange);return E.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(YF,{"data-orientation":"horizontal",...i,ref:u,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vy(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.x),onDragScroll:h=>n.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(s.viewport){const m=s.viewport.scrollLeft+h.deltaX;n.onWheelScroll(m),QF(m,p)&&h.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Lx(a.paddingLeft),paddingEnd:Lx(a.paddingRight)}})}})}),yJ=E.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ds(Ca,n.__scopeScrollArea),[a,o]=E.useState(),l=E.useRef(null),u=Ht(e,l,s.onScrollbarYChange);return E.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(YF,{"data-orientation":"vertical",...i,ref:u,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vy(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.y),onDragScroll:h=>n.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(s.viewport){const m=s.viewport.scrollTop+h.deltaY;n.onWheelScroll(m),QF(m,p)&&h.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Lx(a.paddingTop),paddingEnd:Lx(a.paddingBottom)}})}})}),[wJ,XF]=VF(Ca),YF=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:h,onResize:p,...m}=n,g=ds(Ca,t),[v,y]=E.useState(null),w=Ht(e,I=>y(I)),x=E.useRef(null),b=E.useRef(""),S=g.viewport,T=r.content-r.viewport,C=Xn(h),P=Xn(l),A=Hy(p,10);function k(I){if(x.current){const R=I.clientX-x.current.left,U=I.clientY-x.current.top;u({x:R,y:U})}}return E.useEffect(()=>{const I=R=>{const U=R.target;(v==null?void 0:v.contains(U))&&C(R,T)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,v,T,C]),E.useEffect(P,[r,P]),rf(v,A),rf(g.content,A),c.jsx(wJ,{scope:t,scrollbar:v,hasThumb:i,onThumbChange:Xn(s),onThumbPointerUp:Xn(a),onThumbPositionChange:P,onThumbPointerDown:Xn(o),children:c.jsx(ht.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:Ke(n.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),k(I))}),onPointerMove:Ke(n.onPointerMove,k),onPointerUp:Ke(n.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=b.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),kx="ScrollAreaThumb",qF=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=XF(kx,n.__scopeScrollArea);return c.jsx(Wi,{present:t||i.hasThumb,children:c.jsx(_J,{ref:e,...r})})}),_J=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,s=ds(kx,t),a=XF(kx,t),{onThumbPositionChange:o}=a,l=Ht(e,p=>a.onThumbChange(p)),u=E.useRef(),h=Hy(()=>{u.current&&(u.current(),u.current=void 0)},100);return E.useEffect(()=>{const p=s.viewport;if(p){const m=()=>{if(h(),!u.current){const g=EJ(p,o);u.current=g,o()}};return o(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[s.viewport,h,o]),c.jsx(ht.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ke(n.onPointerDownCapture,p=>{const g=p.target.getBoundingClientRect(),v=p.clientX-g.left,y=p.clientY-g.top;a.onThumbPointerDown({x:v,y})}),onPointerUp:Ke(n.onPointerUp,a.onThumbPointerUp)})});qF.displayName=kx;var iC="ScrollAreaCorner",ZF=E.forwardRef((n,e)=>{const t=ds(iC,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?c.jsx(SJ,{...n,ref:e}):null});ZF.displayName=iC;var SJ=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,i=ds(iC,t),[s,a]=E.useState(0),[o,l]=E.useState(0),u=!!(s&&o);return rf(i.scrollbarX,()=>{var p;const h=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(h),l(h)}),rf(i.scrollbarY,()=>{var p;const h=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(h),a(h)}),u?c.jsx(ht.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Lx(n){return n?parseInt(n,10):0}function KF(n,e){const t=n/e;return isNaN(t)?0:t}function Vy(n){const e=KF(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function bJ(n,e,t,r="ltr"){const i=Vy(t),s=i/2,a=e||s,o=i-a,l=t.scrollbar.paddingStart+a,u=t.scrollbar.size-t.scrollbar.paddingEnd-o,h=t.content-t.viewport,p=r==="ltr"?[0,h]:[h*-1,0];return JF([l,u],p)(n)}function hP(n,e,t="ltr"){const r=Vy(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=t==="ltr"?[0,a]:[a*-1,0],u=Qb(n,l);return JF([0,a],[0,o])(u)}function JF(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function QF(n,e){return n>0&&n<e}var EJ=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const s={left:n.scrollLeft,top:n.scrollTop},a=t.left!==s.left,o=t.top!==s.top;(a||o)&&e(),t=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Hy(n,e){const t=Xn(n),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function rf(n,e){const t=Xn(e);yr(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}function MJ(n,e){const{asChild:t,children:r}=n;if(!t)return typeof e=="function"?e(r):e;const i=E.Children.only(r);return E.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var eU=HF,TJ=GF,CJ=ZF;const g0=E.forwardRef(({className:n,children:e,...t},r)=>c.jsxs(eU,{ref:r,className:Qe("relative overflow-hidden",n),...t,children:[c.jsx(TJ,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(tU,{}),c.jsx(CJ,{})]}));g0.displayName=eU.displayName;const tU=E.forwardRef(({className:n,orientation:e="vertical",...t},r)=>c.jsx(nC,{ref:r,orientation:e,className:Qe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:c.jsx(qF,{className:"relative flex-1 rounded-full bg-border"})}));tU.displayName=nC.displayName;var D1,sC="HoverCard",[nU,xce]=Os(sC,[yf]),Wy=yf(),[NJ,aC]=nU(sC),rU=n=>{const{__scopeHoverCard:e,children:t,open:r,defaultOpen:i,onOpenChange:s,openDelay:a=700,closeDelay:o=300}=n,l=Wy(e),u=E.useRef(0),h=E.useRef(0),p=E.useRef(!1),m=E.useRef(!1),[g=!1,v]=wi({prop:r,defaultProp:i,onChange:s}),y=E.useCallback(()=>{clearTimeout(h.current),u.current=window.setTimeout(()=>v(!0),a)},[a,v]),w=E.useCallback(()=>{clearTimeout(u.current),!p.current&&!m.current&&(h.current=window.setTimeout(()=>v(!1),o))},[o,v]),x=E.useCallback(()=>v(!1),[v]);return E.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(h.current)},[]),c.jsx(NJ,{scope:e,open:g,onOpenChange:v,onOpen:y,onClose:w,onDismiss:x,hasSelectionRef:p,isPointerDownOnContentRef:m,children:c.jsx(KL,{...l,children:t})})};rU.displayName=sC;var iU="HoverCardTrigger",sU=E.forwardRef((n,e)=>{const{__scopeHoverCard:t,...r}=n,i=aC(iU,t),s=Wy(t);return c.jsx(lT,{asChild:!0,...s,children:c.jsx(ht.a,{"data-state":i.open?"open":"closed",...r,ref:e,onPointerEnter:Ke(n.onPointerEnter,jx(i.onOpen)),onPointerLeave:Ke(n.onPointerLeave,jx(i.onClose)),onFocus:Ke(n.onFocus,i.onOpen),onBlur:Ke(n.onBlur,i.onClose),onTouchStart:Ke(n.onTouchStart,a=>a.preventDefault())})})});sU.displayName=iU;var AJ="HoverCardPortal",[yce,RJ]=nU(AJ,{forceMount:void 0}),Ox="HoverCardContent",aU=E.forwardRef((n,e)=>{const t=RJ(Ox,n.__scopeHoverCard),{forceMount:r=t.forceMount,...i}=n,s=aC(Ox,n.__scopeHoverCard);return c.jsx(Wi,{present:r||s.open,children:c.jsx(PJ,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Ke(n.onPointerEnter,jx(s.onOpen)),onPointerLeave:Ke(n.onPointerLeave,jx(s.onClose)),ref:e})})});aU.displayName=Ox;var PJ=E.forwardRef((n,e)=>{const{__scopeHoverCard:t,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,...o}=n,l=aC(Ox,t),u=Wy(t),h=E.useRef(null),p=Ht(e,h),[m,g]=E.useState(!1);return E.useEffect(()=>{if(m){const v=document.body;return D1=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=D1,v.style.webkitUserSelect=D1}}},[m]),E.useEffect(()=>{if(h.current){const v=()=>{g(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var w;((w=document.getSelection())==null?void 0:w.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),E.useEffect(()=>{h.current&&kJ(h.current).forEach(y=>y.setAttribute("tabindex","-1"))}),c.jsx(hf,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:a,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Ke(s,v=>{v.preventDefault()}),onDismiss:l.onDismiss,children:c.jsx(cT,{...u,...o,onPointerDown:Ke(o.onPointerDown,v=>{v.currentTarget.contains(v.target)&&g(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:p,style:{...o.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),IJ="HoverCardArrow",DJ=E.forwardRef((n,e)=>{const{__scopeHoverCard:t,...r}=n,i=Wy(t);return c.jsx(uT,{...i,...r,ref:e})});DJ.displayName=IJ;function jx(n){return e=>e.pointerType==="touch"?void 0:n()}function kJ(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)e.push(t.currentNode);return e}var LJ=rU,OJ=sU,oU=aU;const jJ=LJ,FJ=OJ,lU=E.forwardRef(({className:n,align:e="center",sideOffset:t=4,...r},i)=>c.jsx(oU,{ref:i,align:e,sideOffset:t,className:Qe("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r}));lU.displayName=oU.displayName;function UJ(n,e=[]){let t=[];function r(s,a){const o=E.createContext(a),l=t.length;t=[...t,a];function u(p){const{scope:m,children:g,...v}=p,y=(m==null?void 0:m[n][l])||o,w=E.useMemo(()=>v,Object.values(v));return c.jsx(y.Provider,{value:w,children:g})}function h(p,m){const g=(m==null?void 0:m[n][l])||o,v=E.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const i=()=>{const s=t.map(a=>E.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[r,zJ(i,...e)]}function zJ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(s)[`__scope${u}`];return{...o,...p}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var BJ="Toggle",oC=E.forwardRef((n,e)=>{const{pressed:t,defaultPressed:r=!1,onPressedChange:i,...s}=n,[a=!1,o]=wi({prop:t,onChange:i,defaultProp:r});return c.jsx(ht.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":n.disabled?"":void 0,...s,ref:e,onClick:Ke(n.onClick,()=>{n.disabled||o(!a)})})});oC.displayName=BJ;var cU=oC,Df="ToggleGroup",[uU,wce]=UJ(Df,[Uy]),dU=Uy(),lC=me.forwardRef((n,e)=>{const{type:t,...r}=n;if(t==="single"){const i=r;return c.jsx(VJ,{...i,ref:e})}if(t==="multiple"){const i=r;return c.jsx(HJ,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Df}\``)});lC.displayName=Df;var[fU,hU]=uU(Df),VJ=me.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},...s}=n,[a,o]=wi({prop:t,defaultProp:r,onChange:i});return c.jsx(fU,{scope:n.__scopeToggleGroup,type:"single",value:a?[a]:[],onItemActivate:o,onItemDeactivate:me.useCallback(()=>o(""),[o]),children:c.jsx(pU,{...s,ref:e})})}),HJ=me.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},...s}=n,[a=[],o]=wi({prop:t,defaultProp:r,onChange:i}),l=me.useCallback(h=>o((p=[])=>[...p,h]),[o]),u=me.useCallback(h=>o((p=[])=>p.filter(m=>m!==h)),[o]);return c.jsx(fU,{scope:n.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:l,onItemDeactivate:u,children:c.jsx(pU,{...s,ref:e})})});lC.displayName=Df;var[WJ,GJ]=uU(Df),pU=me.forwardRef((n,e)=>{const{__scopeToggleGroup:t,disabled:r=!1,rovingFocus:i=!0,orientation:s,dir:a,loop:o=!0,...l}=n,u=dU(t),h=Ef(a),p={role:"group",dir:h,...l};return c.jsx(WJ,{scope:t,rovingFocus:i,disabled:r,children:i?c.jsx(sF,{asChild:!0,...u,orientation:s,dir:h,loop:o,children:c.jsx(ht.div,{...p,ref:e})}):c.jsx(ht.div,{...p,ref:e})})}),Fx="ToggleGroupItem",mU=me.forwardRef((n,e)=>{const t=hU(Fx,n.__scopeToggleGroup),r=GJ(Fx,n.__scopeToggleGroup),i=dU(n.__scopeToggleGroup),s=t.value.includes(n.value),a=r.disabled||n.disabled,o={...n,pressed:s,disabled:a},l=me.useRef(null);return r.rovingFocus?c.jsx(aF,{asChild:!0,...i,focusable:!a,active:s,ref:l,children:c.jsx(pP,{...o,ref:e})}):c.jsx(pP,{...o,ref:e})});mU.displayName=Fx;var pP=me.forwardRef((n,e)=>{const{__scopeToggleGroup:t,value:r,...i}=n,s=hU(Fx,t),a={role:"radio","aria-checked":n.pressed,"aria-pressed":void 0},o=s.type==="single"?a:void 0;return c.jsx(oC,{...o,...i,ref:e,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),gU=lC,vU=mU;const xU=pf("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),$J=E.forwardRef(({className:n,variant:e,size:t,...r},i)=>c.jsx(cU,{ref:i,className:Qe(xU({variant:e,size:t,className:n})),...r}));$J.displayName=cU.displayName;const yU=E.createContext({size:"default",variant:"default"}),wU=E.forwardRef(({className:n,variant:e,size:t,children:r,...i},s)=>c.jsx(gU,{ref:s,className:Qe("flex items-center justify-center gap-1",n),...i,children:c.jsx(yU.Provider,{value:{variant:e,size:t},children:r})}));wU.displayName=gU.displayName;const v0=E.forwardRef(({className:n,children:e,variant:t,size:r,...i},s)=>{const a=E.useContext(yU);return c.jsx(vU,{ref:s,className:Qe(xU({variant:a.variant||t,size:a.size||r}),n),...i,children:e})});v0.displayName=vU.displayName;var cC="Switch",[XJ,_ce]=Os(cC),[YJ,qJ]=XJ(cC),_U=E.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:u,form:h,...p}=n,[m,g]=E.useState(null),v=Ht(e,S=>g(S)),y=E.useRef(!1),w=m?h||!!m.closest("form"):!0,[x=!1,b]=wi({prop:i,defaultProp:s,onChange:u});return c.jsxs(YJ,{scope:t,checked:x,disabled:o,children:[c.jsx(ht.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":EU(x),"data-disabled":o?"":void 0,disabled:o,value:l,...p,ref:v,onClick:Ke(n.onClick,S=>{b(T=>!T),w&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),w&&c.jsx(ZJ,{control:m,bubbles:!y.current,name:r,value:l,checked:x,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});_U.displayName=cC;var SU="SwitchThumb",bU=E.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=qJ(SU,t);return c.jsx(ht.span,{"data-state":EU(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});bU.displayName=SU;var ZJ=n=>{const{control:e,checked:t,bubbles:r=!0,...i}=n,s=E.useRef(null),a=xj(t),o=BL(e);return E.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==t&&p){const m=new Event("click",{bubbles:r});p.call(l,t),l.dispatchEvent(m)}},[a,t,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:s,style:{...n.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function EU(n){return n?"checked":"unchecked"}var MU=_U,KJ=bU;const TU=E.forwardRef(({className:n,...e},t)=>c.jsx(MU,{className:Qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:c.jsx(KJ,{className:Qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));TU.displayName=MU.displayName;const CU=6048e5,JJ=864e5,mP=Symbol.for("constructDateFrom");function Al(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&mP in n?n[mP](e):n instanceof Date?new n.constructor(e):new Date(e)}function Fs(n,e){return Al(e||n,n)}let QJ={};function Gy(){return QJ}function Lp(n,e){var o,l,u,h;const t=Gy(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((h=(u=t.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,i=Fs(n,e==null?void 0:e.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Ux(n,e){return Lp(n,{...e,weekStartsOn:1})}function NU(n,e){const t=Fs(n,e==null?void 0:e.in),r=t.getFullYear(),i=Al(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Ux(i),a=Al(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Ux(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function gP(n){const e=Fs(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function eQ(n,...e){const t=Al.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function vP(n,e){const t=Fs(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function tQ(n,e,t){const[r,i]=eQ(t==null?void 0:t.in,n,e),s=vP(r),a=vP(i),o=+s-gP(s),l=+a-gP(a);return Math.round((o-l)/JJ)}function nQ(n,e){const t=NU(n,e),r=Al(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ux(r)}function rQ(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function iQ(n){return!(!rQ(n)&&typeof n!="number"||isNaN(+Fs(n)))}function sQ(n,e){const t=Fs(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const aQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oQ=(n,e,t)=>{let r;const i=aQ[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function k1(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const lQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dQ={date:k1({formats:lQ,defaultWidth:"full"}),time:k1({formats:cQ,defaultWidth:"full"}),dateTime:k1({formats:uQ,defaultWidth:"full"})},fQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hQ=(n,e,t,r)=>fQ[n];function vh(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):a;i=n.formattingValues[o]||n.formattingValues[a]}else{const a=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[o]||n.values[a]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const pQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wQ=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},_Q={ordinalNumber:wQ,era:vh({values:pQ,defaultWidth:"wide"}),quarter:vh({values:mQ,defaultWidth:"wide",argumentCallback:n=>n-1}),month:vh({values:gQ,defaultWidth:"wide"}),day:vh({values:vQ,defaultWidth:"wide"}),dayPeriod:vh({values:xQ,defaultWidth:"wide",formattingValues:yQ,defaultFormattingWidth:"wide"})};function xh(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?bQ(o,p=>p.test(a)):SQ(o,p=>p.test(a));let u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}function SQ(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function bQ(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function EQ(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let a=n.valueCallback?n.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const MQ=/^(\d+)(th|st|nd|rd)?/i,TQ=/\d+/i,CQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NQ={any:[/^b/i,/^(a|c)/i]},AQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RQ={any:[/1/i,/2/i,/3/i,/4/i]},PQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jQ={ordinalNumber:EQ({matchPattern:MQ,parsePattern:TQ,valueCallback:n=>parseInt(n,10)}),era:xh({matchPatterns:CQ,defaultMatchWidth:"wide",parsePatterns:NQ,defaultParseWidth:"any"}),quarter:xh({matchPatterns:AQ,defaultMatchWidth:"wide",parsePatterns:RQ,defaultParseWidth:"any",valueCallback:n=>n+1}),month:xh({matchPatterns:PQ,defaultMatchWidth:"wide",parsePatterns:IQ,defaultParseWidth:"any"}),day:xh({matchPatterns:DQ,defaultMatchWidth:"wide",parsePatterns:kQ,defaultParseWidth:"any"}),dayPeriod:xh({matchPatterns:LQ,defaultMatchWidth:"any",parsePatterns:OQ,defaultParseWidth:"any"})},FQ={code:"en-US",formatDistance:oQ,formatLong:dQ,formatRelative:hQ,localize:_Q,match:jQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function UQ(n,e){const t=Fs(n,e==null?void 0:e.in);return tQ(t,sQ(t))+1}function zQ(n,e){const t=Fs(n,e==null?void 0:e.in),r=+Ux(t)-+nQ(t);return Math.round(r/CU)+1}function AU(n,e){var h,p,m,g;const t=Fs(n,e==null?void 0:e.in),r=t.getFullYear(),i=Gy(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=Al((e==null?void 0:e.in)||n,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Lp(a,e),l=Al((e==null?void 0:e.in)||n,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Lp(l,e);return+t>=+o?r+1:+t>=+u?r:r-1}function BQ(n,e){var o,l,u,h;const t=Gy(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(u=t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,i=AU(n,e),s=Al((e==null?void 0:e.in)||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Lp(s,e)}function VQ(n,e){const t=Fs(n,e==null?void 0:e.in),r=+Lp(t,e)-+BQ(t,e);return Math.round(r/CU)+1}function an(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Fo={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return an(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):an(t+1,2)},d(n,e){return an(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return an(n.getHours()%12||12,e.length)},H(n,e){return an(n.getHours(),e.length)},m(n,e){return an(n.getMinutes(),e.length)},s(n,e){return an(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return an(i,e.length)}},Au={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xP={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Fo.y(n,e)},Y:function(n,e,t,r){const i=AU(n,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return an(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):an(s,e.length)},R:function(n,e){const t=NU(n);return an(t,e.length)},u:function(n,e){const t=n.getFullYear();return an(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return an(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return an(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Fo.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return an(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=VQ(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):an(i,e.length)},I:function(n,e,t){const r=zQ(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):an(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Fo.d(n,e)},D:function(n,e,t){const r=UQ(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):an(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return an(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return an(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return an(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Au.noon:r===0?i=Au.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Au.evening:r>=12?i=Au.afternoon:r>=4?i=Au.morning:i=Au.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Fo.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Fo.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):an(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):an(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Fo.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Fo.s(n,e)},S:function(n,e){return Fo.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wP(r);case"XXXX":case"XX":return uc(r);case"XXXXX":case"XXX":default:return uc(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return wP(r);case"xxxx":case"xx":return uc(r);case"xxxxx":case"xxx":default:return uc(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yP(r,":");case"OOOO":default:return"GMT"+uc(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yP(r,":");case"zzzz":default:return"GMT"+uc(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return an(r,e.length)},T:function(n,e,t){return an(+n,e.length)}};function yP(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+an(s,2)}function wP(n,e){return n%60===0?(n>0?"-":"+")+an(Math.abs(n)/60,2):uc(n,e)}function uc(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=an(Math.trunc(r/60),2),s=an(r%60,2);return t+i+e+s}const _P=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RU=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},HQ=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return _P(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",_P(r,e)).replace("{{time}}",RU(i,e))},WQ={p:RU,P:HQ},GQ=/^D+$/,$Q=/^Y+$/,XQ=["D","DD","YY","YYYY"];function YQ(n){return GQ.test(n)}function qQ(n){return $Q.test(n)}function ZQ(n,e,t){const r=KQ(n,e,t);if(console.warn(r),XQ.includes(n))throw new RangeError(r)}function KQ(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eee=/^'([^]*?)'?$/,tee=/''/g,nee=/[a-zA-Z]/;function Ru(n,e,t){var h,p,m,g;const r=Gy(),i=r.locale??FQ,s=r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,o=Fs(n,t==null?void 0:t.in);if(!iQ(o))throw new RangeError("Invalid time value");let l=e.match(QQ).map(v=>{const y=v[0];if(y==="p"||y==="P"){const w=WQ[y];return w(v,i.formatLong)}return v}).join("").match(JQ).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:ree(v)};if(xP[y])return{isToken:!0,value:v};if(y.match(nee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const y=v.value;(qQ(y)||YQ(y))&&ZQ(y,e,String(n));const w=xP[y[0]];return w(o,y,i.localize,u)}).join("")}function ree(n){const e=n.match(eee);return e?e[1].replace(tee,"'"):n}const iee=()=>{const[n,e]=E.useState(!1),[t,r]=E.useState("crime-statistics"),[i,s]=E.useState("national"),[a,o]=E.useState(3),[l,u]=E.useState("alpha-4"),[h,p]=E.useState(60),[m,g]=E.useState(!0),[v,y]=E.useState(new Date),[w,x]=E.useState(""),[b,S]=E.useState("type"),[T,C]=E.useState("asc");E.useEffect(()=>{const R=setInterval(()=>{y(new Date)},1e3),U=setInterval(()=>{if(m){const J=Ru(new Date,"HH:mm:ss");console.log(`[DATA_REFRESH] Polling secure database at ${J}`)}},h*1e3),V=setTimeout(()=>{en.warning("Potential security anomaly detected",{description:"System performing automated countermeasure protocol",duration:5e3})},45e3);return()=>{clearInterval(R),clearInterval(U),clearTimeout(V)}},[m,h]);const P=()=>{e(!0),console.log("[REPORT_GEN] Initializing secure connection to FBI database..."),setTimeout(()=>{console.log("[REPORT_GEN] Authenticating credentials...")},500),setTimeout(()=>{console.log("[REPORT_GEN] Access granted. Decrypting data streams...")},1200),setTimeout(()=>{console.log("[REPORT_GEN] Compiling intelligence report...")},1800),setTimeout(()=>{e(!1),en.success("Intelligence report generated",{description:"Report SEC-"+Math.floor(1e4+Math.random()*9e4)+" added to secure vault",duration:5e3}),console.log("[REPORT_GEN] Report generation complete. Classification: TOP SECRET")},2500)},A=()=>{console.log("[SECURITY] Initiating biometric verification sequence..."),en.info("Biometric verification required",{description:"Place your fingerprint on the scanner to proceed with download",duration:5e3}),setTimeout(()=>{console.log("[SECURITY] Biometric match confirmed. Preparing encrypted payload..."),en.success("Identity verified",{description:"Preparing AES-256 encrypted document for secure transfer",duration:5e3})},3e3)},k=R=>{p(parseInt(R)),en.success(`Data refresh interval updated to ${R} seconds`)},I=()=>{g(!m),en(m?"Live data feed paused":"Live data feed activated",{description:m?"Manual refresh only":"Auto-refreshing every "+h+" seconds"})};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Reports"}),c.jsx("p",{className:"text-muted-foreground",children:"All FBI intelligence and crime reports"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(nn,{type:"text",placeholder:"Search by report type or region...",value:w,onChange:R=>x(R.target.value),className:"w-64"}),c.jsxs("select",{value:b,onChange:R=>S(R.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"type",children:"Sort by Type"}),c.jsx("option",{value:"region",children:"Sort by Region"}),c.jsx("option",{value:"date",children:"Sort by Date"})]}),c.jsxs("select",{value:T,onChange:R=>C(R.target.value),className:"border rounded px-2 py-1 text-sm",children:[c.jsx("option",{value:"asc",children:"Ascending"}),c.jsx("option",{value:"desc",children:"Descending"})]})]})]}),c.jsxs("div",{className:"flex justify-between items-center sticky top-0 bg-black/40 backdrop-blur-md z-10 -mt-6 -mx-6 px-6 py-2 border-b border-primary/30 text-xs",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-2 bg-secure-green rounded-full animate-pulse mr-1.5"}),c.jsx("span",{children:"SYSTEM ACTIVE"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(yL,{size:10,className:"mr-1 text-secure-blue"}),c.jsxs("span",{children:["TERMINAL ID: TRM-",Math.floor(1e4+Math.random()*9e4)]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ad,{size:10,className:"mr-1 text-primary"}),c.jsx("span",{children:"DB STATUS: CONNECTED"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(W8,{size:10,className:"mr-1 text-secure-yellow"}),c.jsx("span",{children:"SIGNAL: ENCRYPTED"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(k8,{size:10,className:"mr-1 text-secure-green"}),c.jsx("span",{children:"USER: VERIFIED"})]}),c.jsx("div",{className:"font-mono bg-black/30 px-2 py-0.5 rounded border border-primary/20",children:Ru(v,"HH:mm:ss")})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"mr-3 relative",children:[c.jsx("div",{className:"text-3xl font-bold tracking-tight inline-block bg-gradient-to-r from-white via-primary/70 to-white bg-clip-text text-transparent",children:"Intelligence Reports"}),c.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary to-transparent"})]}),c.jsxs(jJ,{children:[c.jsx(FJ,{children:c.jsx("span",{className:"secure-badge-red cursor-help",children:"TOP SECRET"})}),c.jsx(lU,{className:"w-80 bg-black/80 border border-fbi-red/50 text-xs",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Js,{className:"h-4 w-4 text-fbi-red mr-2 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold mb-1",children:"RESTRICTED ACCESS"}),c.jsx("p",{className:"text-muted-foreground",children:"This intelligence data is classified TOP SECRET under Executive Order 13526. Unauthorized access or disclosure may result in severe criminal penalties."})]})]})})]})]}),c.jsx("p",{className:"text-muted-foreground mt-1 max-w-3xl",children:"Comprehensive intelligence analytics and threat assessment reports derived from multi-source classified data networks."})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(lt,{className:"flex items-center relative overflow-hidden group",onClick:P,disabled:n,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/30 to-primary/0 opacity-0 group-hover:opacity-100 transition-opacity duration-700 animate-data-flow"}),n?c.jsxs(c.Fragment,{children:[c.jsx(V8,{className:"mr-2 h-4 w-4 animate-spin"}),c.jsx("span",{className:"relative z-10",children:"Processing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(s1,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"relative z-10",children:"Generate Report"})]})]}),c.jsxs(lt,{variant:"outline",className:"flex items-center relative overflow-hidden group",onClick:A,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secure-blue/0 via-secure-blue/20 to-secure-blue/0 opacity-0 group-hover:opacity-100 transition-opacity duration-700 animate-data-flow"}),c.jsx(Sb,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"relative z-10",children:"Secure Export"})]})]})]}),c.jsxs(UF,{variant:"destructive",className:"border-fbi-red/40 bg-black/40 backdrop-blur-md border-l-4 border-l-fbi-red",children:[c.jsx(Js,{className:"h-4 w-4 text-fbi-red"}),c.jsx(zF,{className:"text-fbi-red font-bold tracking-wide",children:"SECURITY ADVISORY"}),c.jsx(BF,{className:"text-foreground/90",children:"All data accessed through this terminal is subject to continuous monitoring and audit. Unauthorized access, use, or distribution is strictly prohibited by federal law."})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[c.jsxs(zn,{className:"glass-card border-primary/20 bg-black/40 backdrop-blur-xl shadow-[0_0_15px_rgba(0,87,184,0.15)]",children:[c.jsx(vr,{className:"border-b border-primary/10 bg-gradient-to-r from-black/60 to-transparent pb-3",children:c.jsxs(br,{className:"flex items-center text-lg text-white",children:[c.jsx(xi,{className:"mr-2 h-5 w-5 text-secure-green"}),"Security Clearance"]})}),c.jsxs(Yn,{className:"space-y-4 pt-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:"Clearance Level:"}),c.jsxs("span",{className:"secure-badge-green",children:["ALPHA-",l.split("-")[1]]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:"Authentication:"}),c.jsxs("span",{className:"secure-badge-green flex items-center",children:[c.jsx(_b,{size:10,className:"mr-1"})," VERIFIED"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:"Data Access:"}),c.jsx("span",{className:"secure-badge-yellow",children:"COMPARTMENTALIZED"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:"Network Status:"}),c.jsxs("span",{className:"secure-badge-green flex items-center",children:[c.jsx(Jh,{size:10,className:"mr-1 animate-pulse"})," SECURE"]})]})]}),c.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-primary/40 to-transparent my-3"}),c.jsxs("div",{className:"terminal-box text-xs relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-secure-green/5 to-transparent pointer-events-none"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"INTEL_ACCESS:"}),c.jsxs("span",{className:"text-secure-green",children:[c.jsx(_b,{size:12,className:"inline"})," GRANTED"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"FIELD_OPS:"}),c.jsx("span",{className:"text-secure-yellow",children:" LIMITED"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"SPEC_CLEARANCE:"}),c.jsx("span",{className:"text-secure-red",children:" DENIED"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"SESSION_TIMEOUT:"}),c.jsx("span",{className:"text-secure-green",children:"30:00"})]}),c.jsx("div",{className:"h-px w-full bg-secure-green/30 my-1.5"}),c.jsx("div",{className:"text-xs text-secure-green/70 typing-effect",children:"System monitoring active..."})]})]}),c.jsxs("div",{className:"mt-3 space-y-3",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"text-xs font-medium flex items-center",children:[c.jsx(Ad,{size:12,className:"inline mr-1.5 text-secure-blue"}),"Data Refresh Interval"]}),c.jsxs(wU,{type:"single",value:h.toString(),onValueChange:k,className:"justify-between bg-black/50 p-1 rounded border border-primary/10",children:[c.jsx(v0,{value:"30",size:"sm",className:"text-xs",children:"30s"}),c.jsx(v0,{value:"60",size:"sm",className:"text-xs",children:"60s"}),c.jsx(v0,{value:"120",size:"sm",className:"text-xs",children:"120s"})]})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"text-xs font-medium flex items-center",children:[c.jsx(Jh,{size:12,className:"inline mr-1.5 text-secure-blue"}),"Live Data Feed"]}),c.jsxs("div",{className:"flex items-center justify-between bg-black/50 px-3 py-2 rounded border border-primary/10",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:"Auto-Refresh"}),c.jsx(TU,{checked:m,onCheckedChange:I,className:"data-[state=checked]:bg-secure-green"})]})]})]})]})]}),c.jsxs(zn,{className:"glass-card border-primary/20 bg-black/40 backdrop-blur-xl shadow-[0_0_15px_rgba(0,87,184,0.15)]",children:[c.jsx(vr,{className:"border-b border-primary/10 bg-gradient-to-r from-black/60 to-transparent pb-3",children:c.jsxs(br,{className:"flex items-center text-lg text-white",children:[c.jsx(mf,{className:"mr-2 h-5 w-5 text-secure-blue"}),"Intelligence Filters"]})}),c.jsx(Yn,{className:"pt-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Report Classification"}),c.jsxs("select",{className:"w-full bg-black/60 border border-input rounded-md px-3 py-2 text-sm focus:border-primary focus:ring-1 focus:ring-primary transition-colors",value:t,onChange:R=>r(R.target.value),children:[c.jsx("option",{value:"crime-statistics",children:"Crime Statistical Analysis"}),c.jsx("option",{value:"criminal-profiling",children:"Subject Psychological Profiling"}),c.jsx("option",{value:"case-analytics",children:"Case Progression Analytics"}),c.jsx("option",{value:"geographic-analysis",children:"Geo-Spatial Intelligence"}),c.jsx("option",{value:"temporal-patterns",children:"Temporal Pattern Recognition"}),c.jsx("option",{value:"network-analysis",children:"Criminal Network Mapping"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Jurisdictional Scope"}),c.jsxs("select",{className:"w-full bg-black/60 border border-input rounded-md px-3 py-2 text-sm focus:border-primary focus:ring-1 focus:ring-primary transition-colors",value:i,onChange:R=>s(R.target.value),children:[c.jsx("option",{value:"national",children:"National (All Territories)"}),c.jsx("option",{value:"northeast",children:"Northeast Region (Field Office 03)"}),c.jsx("option",{value:"southeast",children:"Southeast Region (Field Office 06)"}),c.jsx("option",{value:"midwest",children:"Midwest Region (Field Office 09)"}),c.jsx("option",{value:"southwest",children:"Southwest Region (Field Office 12)"}),c.jsx("option",{value:"west",children:"Western Region (Field Office 15)"}),c.jsx("option",{value:"international",children:"International Operations"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Analysis Timeframe"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"From",className:"w-full pl-10 pr-3 py-2 text-sm bg-black/60 border border-input rounded-md focus:border-primary focus:ring-1 focus:ring-primary transition-colors"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"To",className:"w-full pl-10 pr-3 py-2 text-sm bg-black/60 border border-input rounded-md focus:border-primary focus:ring-1 focus:ring-primary transition-colors"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Additional Criteria"}),c.jsx(PT,{placeholder:"Enter search parameters...",className:"resize-none h-20 bg-black/60 focus:border-primary focus:ring-1 focus:ring-primary transition-colors"})]}),c.jsxs(lt,{className:"w-full bg-gradient-to-r from-secure-blue/80 to-primary/80 hover:from-secure-blue hover:to-primary transition-all duration-300",children:[c.jsx($8,{className:"mr-2 h-4 w-4"}),"Process Intelligence Query"]})]})})]})]}),c.jsxs("div",{className:"xl:col-span-9 space-y-6",children:[c.jsxs(zn,{className:"glass-card border-primary/20 bg-black/40 backdrop-blur-xl shadow-[0_0_15px_rgba(0,87,184,0.15)] relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-primary to-transparent opacity-50"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-primary to-transparent opacity-30"}),c.jsx("div",{className:"absolute top-1 bottom-1 left-0 w-1 bg-gradient-to-b from-transparent via-primary to-transparent opacity-30"}),c.jsx("div",{className:"absolute top-1 bottom-1 right-0 w-1 bg-gradient-to-b from-transparent via-primary to-transparent opacity-30"})]}),c.jsxs(vr,{className:"flex flex-row items-center justify-between pb-2 border-b border-primary/10 bg-gradient-to-r from-black/70 to-black/40 relative z-10",children:[c.jsxs("div",{children:[c.jsxs(br,{className:"text-xl flex items-center",children:[c.jsx(KA,{className:"mr-2 h-5 w-5 text-secure-blue"}),c.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-primary/90",children:["FBI Intelligence Report #",Math.floor(1e4+Math.random()*9e4)]})]}),c.jsx(uj,{children:"Advanced analysis of criminal activity patterns with multi-source intelligence integration"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:"text-xs border border-secure-red/50 bg-secure-red/10 px-2 py-1 rounded-md flex items-center",children:[c.jsx(bl,{size:10,className:"inline mr-1.5"})," CLASSIFIED"]}),c.jsxs("span",{className:"text-xs border border-primary/40 bg-primary/10 px-2 py-1 rounded-md flex items-center animate-pulse",children:[c.jsx(Jh,{size:10,className:"mr-1.5"})," LIVE DATA"]}),c.jsxs("span",{className:"text-xs border border-primary/40 bg-primary/10 px-2 py-1 rounded-md flex items-center",children:[c.jsx(kc,{size:10,className:"mr-1.5"})," ",i.toUpperCase()]})]})]}),c.jsx("div",{className:"relative z-10",children:c.jsxs(wF,{defaultValue:"statistics",className:"w-full",children:[c.jsxs(XT,{className:"w-full bg-gradient-to-r from-black/70 via-black/60 to-black/70 border border-primary/20 p-0 h-auto",children:[c.jsxs(wc,{value:"statistics",className:"flex-1 data-[state=active]:bg-primary/20 data-[state=active]:text-white py-1.5",children:[c.jsx(s1,{size:14,className:"mr-2"})," Analytics"]}),c.jsxs(wc,{value:"trends",className:"flex-1 data-[state=active]:bg-primary/20 data-[state=active]:text-white py-1.5",children:[c.jsx(i1,{size:14,className:"mr-2"})," Trends"]}),c.jsxs(wc,{value:"demographics",className:"flex-1 data-[state=active]:bg-primary/20 data-[state=active]:text-white py-1.5",children:[c.jsx(YA,{size:14,className:"mr-2"})," Demographics"]}),c.jsxs(wc,{value:"analysis",className:"flex-1 data-[state=active]:bg-primary/20 data-[state=active]:text-white py-1.5",children:[c.jsx(eo,{size:14,className:"mr-2"})," Threat Assessment"]})]}),c.jsxs(_c,{value:"statistics",className:"p-4 bg-black/60 border border-primary/20 mt-4 rounded-md scanner-effect",children:[c.jsx("div",{className:"confidential-stamp opacity-20 rotate-[-12deg] z-10",children:"TOP SECRET"}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"font-bold text-lg px-3 py-1 bg-gradient-to-r from-black/80 to-transparent border-l-4 border-secure-blue text-white flex items-center",children:[c.jsx(ma,{size:16,className:"mr-2 text-secure-blue"}),"Criminal Activity Statistical Analysis"]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Reference: INT-",Math.floor(1e4+Math.random()*9e4)]})]}),c.jsxs(g0,{className:"h-[400px] pr-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-black/80 via-black/60 to-black/80 p-4 rounded-md border border-primary/30 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secure-blue/0 via-secure-blue/5 to-secure-blue/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"256"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Investigations"}),c.jsxs("div",{className:"text-xs text-secure-green mt-2 flex items-center",children:[c.jsx("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7 17L17 7M17 7H8M17 7V16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"15% increase from previous period"]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-secure-blue to-transparent opacity-30"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-black/80 via-black/60 to-black/80 p-4 rounded-md border border-primary/30 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secure-blue/0 via-secure-blue/5 to-secure-blue/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"648"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Persons of Interest"}),c.jsxs("div",{className:"text-xs text-secure-yellow mt-2 flex items-center",children:[c.jsx("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7 17L17 7M17 7H8M17 7V16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"5% increase from previous period"]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-secure-yellow to-transparent opacity-30"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-black/80 via-black/60 to-black/80 p-4 rounded-md border border-primary/30 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secure-blue/0 via-secure-blue/5 to-secure-blue/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"124"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cases Resolved"}),c.jsxs("div",{className:"text-xs text-secure-green mt-2 flex items-center",children:[c.jsx("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7 17L17 7M17 7H8M17 7V16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"23% increase from previous period"]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-secure-green to-transparent opacity-30"})]})]}),c.jsxs("div",{className:"bg-black/70 rounded-md border border-primary/20 p-5 mb-6 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMwMDU3YjgiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDM0di00aC0ydjRoLTR2Mmg0djRoMnYtNGg0di0yaC00em0wLTMwVjBoLTJ2NGgtNHYyaDR2NGgyVjZoNFY0aC00ek02IDM0di00SDR2NGgwdjJoNHY0aDJ2LTRoNHYtMkg2ek02IDRWMEg0djRIMHYyaDR2NGgyVjZoNFY0SDZ6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-5"}),c.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[c.jsx("h4",{className:"font-semibold text-white",children:"Intelligence Visualization"}),c.jsx("div",{className:"text-xs bg-secure-blue/20 border border-secure-blue/30 px-2 py-0.5 rounded text-secure-blue",children:"REAL-TIME DATA"})]}),c.jsxs("div",{className:"relative h-60 rounded bg-black/40 border border-primary/10 flex items-center justify-center overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0",children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"}),c.jsx("div",{className:"grid grid-cols-6 h-full w-full",children:Array.from({length:6}).map((R,U)=>c.jsx("div",{className:"border-r border-primary/10 h-full"},U))}),c.jsx("div",{className:"grid grid-rows-6 h-full w-full",children:Array.from({length:6}).map((R,U)=>c.jsx("div",{className:"border-b border-primary/10 w-full"},U))})]}),c.jsxs("div",{className:"text-center text-muted-foreground z-10",children:[c.jsx(s1,{size:48,className:"mx-auto mb-3 opacity-40 text-primary"}),c.jsx("p",{children:"Advanced visualization requires ALPHA-6 clearance"}),c.jsx("p",{className:"text-xs mt-1 text-primary/70",children:"Contact your security officer for access"})]})]}),c.jsx("div",{className:"mt-2 text-xs text-right text-muted-foreground",children:"Source: Integrated Criminal Intelligence System (ICIS)"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-black/70 p-4 rounded-md border border-primary/20 space-y-3",children:[c.jsx("h4",{className:"text-sm font-semibold text-white",children:"Geographic Distribution"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"Northeast Region"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-blue to-primary rounded-full",style:{width:"75%"}})}),c.jsx("span",{className:"text-xs",children:"75%"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"Southeast Region"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-blue to-primary rounded-full",style:{width:"58%"}})}),c.jsx("span",{className:"text-xs",children:"58%"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"Midwest Region"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-blue to-primary rounded-full",style:{width:"42%"}})}),c.jsx("span",{className:"text-xs",children:"42%"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"Southwest Region"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-blue to-primary rounded-full",style:{width:"36%"}})}),c.jsx("span",{className:"text-xs",children:"36%"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"Western Region"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-blue to-primary rounded-full",style:{width:"64%"}})}),c.jsx("span",{className:"text-xs",children:"64%"})]})]})]})]}),c.jsxs("div",{className:"bg-black/70 p-4 rounded-md border border-primary/20 space-y-3",children:[c.jsx("h4",{className:"text-sm font-semibold text-white",children:"Case Classification"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"Organized Crime"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-red to-fbi-red rounded-full",style:{width:"62%"}})}),c.jsx("span",{className:"text-xs",children:"62%"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"White-Collar"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-blue to-primary rounded-full",style:{width:"47%"}})}),c.jsx("span",{className:"text-xs",children:"47%"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"Terrorism"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-red to-fbi-red rounded-full",style:{width:"31%"}})}),c.jsx("span",{className:"text-xs",children:"31%"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"Cybercrimes"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-yellow to-fbi-gold rounded-full",style:{width:"78%"}})}),c.jsx("span",{className:"text-xs",children:"78%"})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs",children:"Violent Crimes"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-2 w-32 bg-black/40 rounded-full overflow-hidden mr-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-secure-blue to-primary rounded-full",style:{width:"53%"}})}),c.jsx("span",{className:"text-xs",children:"53%"})]})]})]})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[c.jsxs(lt,{variant:"outline",size:"sm",className:"text-xs",children:[c.jsx(eo,{size:12,className:"mr-1"})," Access Complete Dataset"]}),c.jsxs(lt,{variant:"outline",size:"sm",className:"text-xs",children:[c.jsx(Y8,{size:12,className:"mr-1"})," Distribute Report"]}),c.jsxs(lt,{size:"sm",className:"text-xs bg-gradient-to-r from-secure-blue/80 to-primary/80 hover:from-secure-blue hover:to-primary border-none",children:[c.jsx(Sb,{size:12,className:"mr-1"})," Secure Download"]})]})]}),c.jsxs(_c,{value:"trends",className:"p-4 bg-black/60 border border-primary/20 mt-4 rounded-md scanner-effect",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"font-bold text-lg px-3 py-1 bg-gradient-to-r from-black/80 to-transparent border-l-4 border-secure-blue text-white flex items-center",children:[c.jsx(i1,{size:16,className:"mr-2 text-secure-blue"}),"Temporal Pattern Analysis"]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Data Refresh: ",Ru(new Date,"HH:mm:ss")]})]}),c.jsx("div",{className:"text-muted-foreground text-sm mb-6",children:"Advanced time-series analysis of criminal activity patterns with predictive modeling."}),c.jsxs("div",{className:"relative h-60 rounded bg-black/40 border border-primary/10 flex items-center justify-center overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0",children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"}),c.jsx("div",{className:"grid grid-cols-6 h-full w-full",children:Array.from({length:6}).map((R,U)=>c.jsx("div",{className:"border-r border-primary/10 h-full"},U))}),c.jsx("div",{className:"grid grid-rows-6 h-full w-full",children:Array.from({length:6}).map((R,U)=>c.jsx("div",{className:"border-b border-primary/10 w-full"},U))})]}),c.jsxs("div",{className:"text-center text-muted-foreground z-10",children:[c.jsx(i1,{size:48,className:"mx-auto mb-3 opacity-40 text-primary"}),c.jsx("p",{children:"Temporal analysis visualization"}),c.jsx("p",{className:"text-xs mt-1",children:"(Decrypting secure data...)"})]})]})]}),c.jsx(_c,{value:"demographics",className:"mt-4 text-center text-muted-foreground py-6 bg-black/60 border border-primary/20 rounded-md",children:c.jsxs("div",{className:"relative",children:[c.jsx(YA,{size:48,className:"mx-auto mb-4 opacity-40"}),c.jsx("div",{className:"bg-secure-yellow/80 text-black font-bold px-4 py-2 rounded-md inline-block transform -rotate-3",children:"CLEARANCE LEVEL INSUFFICIENT"}),c.jsxs("p",{className:"text-xs mt-4 max-w-md mx-auto",children:["Demographic analysis requires ALPHA-6 clearance. Your current clearance level is ALPHA-",l.split("-")[1],". Please contact your supervisor to request elevated access privileges."]}),c.jsx("div",{className:"mt-4",children:c.jsx(lt,{variant:"outline",size:"sm",className:"text-xs border-secure-yellow text-secure-yellow hover:bg-secure-yellow/10",children:"Request Access Elevation"})})]})}),c.jsx(_c,{value:"analysis",className:"mt-4 text-center text-muted-foreground py-6 bg-black/60 border border-primary/20 rounded-md",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-fbi-red/5 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-fbi-red/20 via-transparent to-transparent opacity-50"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx(bl,{size:48,className:"mx-auto mb-4 opacity-60 text-fbi-red"}),c.jsx("div",{className:"bg-fbi-red/90 text-white font-bold px-4 py-2 rounded-md inline-block transform -rotate-3",children:"ACCESS DENIED"}),c.jsx("p",{className:"text-xs mt-4 max-w-md mx-auto text-fbi-red",children:"This section contains TOP SECRET intelligence data. Access is restricted to personnel with ALPHA-7 clearance and above."}),c.jsx("p",{className:"text-xs mt-2 max-w-md mx-auto text-muted-foreground",children:"NOTICE: All access attempts are logged and monitored. Unauthorized access attempts may result in administrative action."})]})]})})]})}),c.jsx(Yn,{className:"pt-4 relative z-10",children:c.jsxs(fJ,{type:"single",collapsible:!0,className:"bg-black/60 rounded-md shadow-inner",children:[c.jsxs(h0,{value:"item-1",className:"border-b border-primary/10",children:[c.jsx(p0,{className:"px-4 hover:no-underline",children:c.jsxs("div",{className:"flex items-center text-sm font-medium",children:[c.jsx(xi,{className:"mr-2 h-4 w-4 text-secure-green"}),"Security Protocols"]})}),c.jsx(m0,{className:"px-4 pb-4 text-sm",children:c.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(Js,{size:14,className:"mr-2 mt-0.5 text-secure-yellow"}),c.jsx("span",{children:"This intelligence report contains sensitive law enforcement information (LEI)."})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Js,{size:14,className:"mr-2 mt-0.5 text-secure-yellow"}),c.jsx("span",{children:"Distribution restricted to personnel with minimum ALPHA-4 clearance."})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Js,{size:14,className:"mr-2 mt-0.5 text-secure-yellow"}),c.jsx("span",{children:"All system interactions are cryptographically logged in accordance with CFR 28.543."})]})]})})]}),c.jsxs(h0,{value:"item-2",className:"border-b border-primary/10",children:[c.jsx(p0,{className:"px-4 hover:no-underline",children:c.jsxs("div",{className:"flex items-center text-sm font-medium",children:[c.jsx(ma,{className:"mr-2 h-4 w-4 text-primary"}),"Analytical Methodology"]})}),c.jsxs(m0,{className:"px-4 pb-4 text-sm text-muted-foreground",children:[c.jsx("p",{children:"This intelligence report leverages advanced machine learning algorithms and predictive analytics to identify patterns across multiple federal criminal databases. Data sources include the FBI's National Crime Information Center (NCIC), Uniform Crime Reporting (UCR) program, Terrorist Screening Database (TSDB), and classified internal repositories."}),c.jsxs("div",{className:"mt-2 px-3 py-2 bg-black/40 border border-primary/10 rounded text-xs",children:[c.jsx("div",{className:"font-mono text-primary/80",children:"Algorithm: ADA-ML59 (Adaptive Decision Architecture)"}),c.jsx("div",{className:"font-mono text-primary/80",children:"Confidence Level: 94.7%"}),c.jsx("div",{className:"font-mono text-primary/80",children:"Margin of Error: 2.3%"})]})]})]}),c.jsxs(h0,{value:"item-3",children:[c.jsx(p0,{className:"px-4 hover:no-underline",children:c.jsxs("div",{className:"flex items-center text-sm font-medium",children:[c.jsx(Nd,{className:"mr-2 h-4 w-4 text-primary"}),"Data Lifecycle"]})}),c.jsxs(m0,{className:"px-4 pb-4 text-sm text-muted-foreground",children:[c.jsxs("p",{children:["This intelligence report is automatically updated every ",h," seconds with the latest data from field offices nationwide. Tactical intelligence has a 4-hour refresh cycle, while strategic intelligence is updated every 24 hours. Manual refreshes may be initiated by personnel with appropriate authorization."]}),c.jsxs("div",{className:"mt-2 flex justify-between text-xs",children:[c.jsxs("span",{children:["Last Full Update: ",Ru(new Date(Date.now()-1e3*60*30),"yyyy-MM-dd HH:mm:ss")," UTC"]}),c.jsxs("span",{children:["Next Scheduled Update: ",Ru(new Date(Date.now()+1e3*60*60*4),"yyyy-MM-dd HH:mm:ss")," UTC"]})]})]})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(zn,{className:"glass-card border-primary/20 bg-black/40 backdrop-blur-xl shadow-[0_0_15px_rgba(0,87,184,0.15)]",children:[c.jsx(vr,{className:"border-b border-primary/10 bg-gradient-to-r from-black/60 to-transparent pb-3",children:c.jsxs(br,{className:"text-lg flex items-center",children:[c.jsx(Js,{className:"mr-2 h-5 w-5 text-secure-yellow"}),"Priority Intelligence Notifications"]})}),c.jsxs(Yn,{className:"pt-4",children:[c.jsx(g0,{className:"h-[250px] pr-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-black/70 p-3 rounded-md border-l-4 border-secure-yellow relative group animate-pulse hover:animate-none",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secure-yellow/0 via-secure-yellow/5 to-secure-yellow/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-md"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx(Js,{size:16,className:"mr-2 mt-0.5 text-secure-yellow flex-shrink-0"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("p",{className:"text-sm font-medium flex items-center",children:["Facial Recognition Alert",c.jsx("span",{className:"ml-2 px-1.5 py-0.5 rounded text-[10px] bg-secure-yellow/20 text-secure-yellow",children:"ACTIVE"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Subject match detected for case #FBI-45B28 (87% confidence)"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"15m ago"})]})]}),c.jsxs("div",{className:"bg-black/70 p-3 rounded-md border-l-4 border-secure-red relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secure-red/0 via-secure-red/5 to-secure-red/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-md"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx(X8,{size:16,className:"mr-2 mt-0.5 text-secure-red flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Security Breach Attempt"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Unauthorized access attempt from 192.168.14.23"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"2h ago"})]})]}),c.jsxs("div",{className:"bg-black/70 p-3 rounded-md border-l-4 border-secure-blue relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secure-blue/0 via-secure-blue/5 to-secure-blue/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-md"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx(Ad,{size:16,className:"mr-2 mt-0.5 text-secure-blue flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Database Synchronization Complete"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Criminal records updated with latest NCIC data"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"5h ago"})]})]}),c.jsxs("div",{className:"bg-black/70 p-3 rounded-md border-l-4 border-primary relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/5 to-primary/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-md"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx(eo,{size:16,className:"mr-2 mt-0.5 text-primary flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Surveillance System Update"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Citywide CCTV integration completed for Boston area"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"8h ago"})]})]}),c.jsxs("div",{className:"bg-black/70 p-3 rounded-md border-l-4 border-secure-green relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secure-green/0 via-secure-green/5 to-secure-green/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-md"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx(xi,{size:16,className:"mr-2 mt-0.5 text-secure-green flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"System Security Update"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Cryptographic protocols upgraded to AES-512"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"12h ago"})]})]})]})}),c.jsxs(lt,{variant:"outline",size:"sm",className:"w-full mt-4 text-xs bg-black/60 border-primary/20 hover:bg-primary/10 hover:text-white transition-colors",children:[c.jsx(eo,{className:"mr-2 h-4 w-4"}),"View All Intelligence Alerts (",a," Active)"]})]})]}),c.jsxs(zn,{className:"glass-card border-primary/20 bg-black/40 backdrop-blur-xl shadow-[0_0_15px_rgba(0,87,184,0.15)]",children:[c.jsx(vr,{className:"border-b border-primary/10 bg-gradient-to-r from-black/60 to-transparent pb-3",children:c.jsxs(br,{className:"text-lg flex items-center",children:[c.jsx(KA,{className:"mr-2 h-5 w-5 text-primary"}),"Recent Intelligence Activity"]})}),c.jsxs(Yn,{className:"pt-4",children:[c.jsx(g0,{className:"h-[250px] pr-4",children:c.jsx("div",{className:"space-y-3",children:[{user:"SA Johnson",action:"Generated Statistical Analysis Report",time:"10:45 AM",avatar:"J",color:"bg-secure-blue/30 text-secure-blue"},{user:"Director Martinez",action:"Accessed Classified Subject Profile",time:"Yesterday",avatar:"M",color:"bg-secure-red/30 text-secure-red"},{user:"SA Thompson",action:"Downloaded Geographic Analysis",time:"2 days ago",avatar:"T",color:"bg-primary/30 text-primary"},{user:"Analyst Wilson",action:"Updated Case Analytics",time:"3 days ago",avatar:"W",color:"bg-secure-green/30 text-secure-green"},{user:"SA Rodriguez",action:"Initiated Cross-Reference Search",time:"4 days ago",avatar:"R",color:"bg-secure-yellow/30 text-secure-yellow"},{user:"Tech Chen",action:"Updated Analysis Algorithm",time:"5 days ago",avatar:"C",color:"bg-primary/30 text-primary"}].map((R,U)=>c.jsxs("div",{className:"flex items-start pb-3 border-b border-primary/10 last:border-0 last:pb-0 group",children:[c.jsx("div",{className:`h-8 w-8 rounded-full ${R.color} flex items-center justify-center mr-3 group-hover:ring-2 group-hover:ring-primary/30 transition-all`,children:c.jsx("span",{className:"text-xs font-medium",children:R.avatar})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("p",{className:"text-sm font-medium",children:R.user}),c.jsx("span",{className:"text-xs text-muted-foreground",children:R.time})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:R.action})]})]},U))})}),c.jsxs(lt,{variant:"outline",size:"sm",className:"w-full mt-4 text-xs bg-black/60 border-primary/20 hover:bg-primary/10 hover:text-white transition-colors",children:[c.jsx(ma,{className:"mr-2 h-4 w-4"}),"Access Complete Activity Logs"]})]})]})]})]})]}),c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-black/50 backdrop-blur-md py-1 px-6 z-10 border-t border-primary/30 flex justify-between items-center text-xs",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-1.5 w-1.5 bg-secure-green rounded-full animate-pulse mr-1"}),c.jsx("span",{children:"SECURE CONNECTION"})]}),c.jsxs("div",{children:["SESSION ID: ",Math.random().toString(36).substring(2,15).toUpperCase()]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground mr-1",children:"API:"}),c.jsx("span",{className:"text-secure-green",children:"ONLINE"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground mr-1",children:"ENCRYPTION:"}),c.jsx("span",{className:"text-secure-green",children:"AES-256"})]}),c.jsx("div",{className:"font-mono text-primary/80",children:Ru(v,"HH:mm:ss")})]})]})]})},see=()=>{const n=_o();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! FBI Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},aee=()=>{const{isAuthenticated:n}=jl();return n?c.jsx(Ip,{to:"/dashboard"}):c.jsx(Ip,{to:"/login"})},oee="modulepreload",lee=function(n){return"/"+n},SP={},PU=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=lee(l),l in SP)return;SP[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":oee,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},cee=()=>c.jsx(q8,{className:"h-6 w-6"}),bP={CORKBOARD_ITEM:"corkboardItem"},uee=({id:n,type:e,content:t,image:r,initialPosition:i,onConnect:s,onPositionChange:a,selected:o,onSelect:l,colorCode:u="border-primary",metadata:h,size:p={w:220,h:180},onSizeChange:m,onContentChange:g})=>{const[v,y]=E.useState(i),[w,x]=E.useState(!1),[b,S]=E.useState(!1),[T]=E.useState(()=>Math.random()*6-3),[C,P]=E.useState(!1),[A,k]=E.useState(t),[I,R]=E.useState(p),[U,V]=E.useState(!0);E.useEffect(()=>{k(t)},[t]),E.useEffect(()=>{R(p)},[p]),E.useEffect(()=>{const fe=setTimeout(()=>V(!1),1500);return()=>clearTimeout(fe)},[]);const J=E.useRef(null),z=E.useRef(null),Q=E.useRef(null),W=E.useRef(null),[{opacity:te},O]=JX(()=>({type:bP.CORKBOARD_ITEM,item:()=>(S(!0),l(n),{id:n,position:v}),collect:fe=>({opacity:fe.isDragging()?.8:1}),end:(fe,Le)=>{const ke=Le.getDifferenceFromInitialOffset();if(ke){const Re={x:v.x+ke.x,y:v.y+ke.y};y(Re),a(n,Re)}S(!1)}}),[n,v,a]),[,B]=kO(()=>({accept:bP.CORKBOARD_ITEM,drop:fe=>(fe.id!==n&&(s==null||s(fe.id)),{id:n})}));O(B(J)),E.useEffect(()=>{const fe=X=>{if(!Q.current||!W.current)return;const Ee=X.clientX-W.current.x,pe=X.clientY-W.current.y,Pe={w:Math.max(160,Q.current.w+Ee),h:Math.max(120,Q.current.h+pe)};R(Pe)},Le=()=>{Q.current&&(m==null||m(n,I)),Q.current=null,W.current=null,window.removeEventListener("mousemove",fe),window.removeEventListener("mouseup",Le)},ke=z.current,Re=X=>{X.stopPropagation(),Q.current={...I},W.current={x:X.clientX,y:X.clientY},window.addEventListener("mousemove",fe),window.addEventListener("mouseup",Le)};return ke&&ke.addEventListener("mousedown",Re),()=>{ke&&ke.removeEventListener("mousedown",Re),window.removeEventListener("mousemove",fe),window.removeEventListener("mouseup",Le)}},[I,n,m]);const Y=()=>c.jsxs("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 z-20",onClick:fe=>fe.stopPropagation(),children:[c.jsx("div",{className:"w-4 h-4 rounded-full bg-red-600 shadow-md"}),c.jsx("div",{className:"w-1 h-5 bg-red-700 mx-auto -mt-0.5"})]}),L=fe=>{fe.stopPropagation(),b||l(n)},Z=fe=>{fe.stopPropagation(),x(!w)},oe=fe=>{fe.stopPropagation(),s==null||s(n),en.info("Ready to connect. Click on another item to create connection.")},de=e==="note"||e==="clue",ye=I.w,we=I.h,ne=`overflow-hidden shadow-lg border-2 p-3 transition-all duration-200 corkboard-item ${o?"ring-2 ring-primary shadow-primary/20 shadow-xl z-30":"z-10"}`;return c.jsx("div",{ref:J,className:`absolute cursor-move select-none ${o?"z-30":"z-10"}`,style:{left:v.x,top:v.y,opacity:te,transform:`rotate(${T}deg)`,transition:b?"none":"box-shadow 0.2s ease",width:ye,height:we},onClick:L,onDoubleClick:()=>P(!0),children:de?c.jsxs("div",{className:`${w?"w-[300px]":""} ${ne} ${e==="note"?"bg-yellow-300":"bg-orange-300"} font-handwriting relative`,style:{width:"100%",height:"100%"},children:[c.jsx(Y,{}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(cee,{}),c.jsx("span",{className:"text-xs font-bold uppercase opacity-70 text-black",children:e})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[w?c.jsx("button",{onClick:Z,className:"p-1 rounded-full hover:bg-black/10 text-black",children:c.jsx(rR,{size:14})}):c.jsx("button",{onClick:Z,className:"p-1 rounded-full hover:bg-black/10 text-black",children:c.jsx(nR,{size:14})}),c.jsx("button",{onClick:oe,className:"p-1 rounded-full hover:bg-black/10 text-black",children:c.jsx(eR,{size:14})}),c.jsx("button",{onClick:fe=>{fe.stopPropagation(),en.success("Item removed from corkboard")},className:"p-1 rounded-full hover:bg-black/10 text-black",children:c.jsx(Z0,{size:14})})]})]}),C?c.jsx("textarea",{className:"mt-2 w-full h-[calc(100%-3rem)] bg-transparent outline-none resize-none text-black font-bold",value:A,onChange:fe=>k(fe.target.value),onBlur:()=>{P(!1),g==null||g(n,A)},autoFocus:!0}):c.jsx("div",{className:`mt-2 ${w?"":"line-clamp-6"} text-black font-bold`,children:A}),c.jsx("div",{ref:z,className:"absolute right-1 bottom-1 h-4 w-4 cursor-se-resize bg-black/20 rounded-sm"})]}):c.jsxs(zn,{className:`${ne} ${e==="photo"?"border-blue-500 bg-white":"bg-card"} relative`,style:{width:"100%",height:"100%"},children:[c.jsx(Y,{}),U&&c.jsx("div",{className:"absolute inset-0 holo-crosshair animate-[fade-in_0.2s_ease-out]"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[e==="photo"?c.jsx(z8,{size:12}):e==="wanted"?c.jsx(Js,{size:12,className:"text-red-500"}):e==="location"?c.jsx(kc,{size:12,className:"text-purple-500"}):c.jsx(B8,{size:12}),c.jsx("span",{className:"text-xs font-bold uppercase opacity-70",children:e})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[w?c.jsx("button",{onClick:Z,className:"p-1 rounded-full hover:bg-black/10",children:c.jsx(rR,{size:12})}):c.jsx("button",{onClick:Z,className:"p-1 rounded-full hover:bg-black/10",children:c.jsx(nR,{size:12})}),c.jsx("button",{onClick:oe,className:"p-1 rounded-full hover:bg-black/10",children:c.jsx(eR,{size:12})}),c.jsx("button",{onClick:fe=>{fe.stopPropagation(),en.success("Item removed from corkboard")},className:"p-1 rounded-full hover:bg-black/10",children:c.jsx(Z0,{size:12})})]})]}),r&&c.jsxs("div",{className:`mt-2 relative ${w?"h-auto":"h-32"} overflow-hidden border border-black/10`,children:[c.jsx("img",{src:r,alt:A,className:"w-full h-full object-cover",onError:fe=>{fe.currentTarget.onerror=null,fe.currentTarget.src="/placeholder.svg"}}),c.jsx("div",{className:"absolute inset-0 pointer-events-none holo-crosshair"})]}),C?c.jsx("textarea",{className:"mt-2 w-full h-[calc(100%-3rem)] bg-transparent outline-none resize-none",value:A,onChange:fe=>k(fe.target.value),onBlur:()=>{P(!1),g==null||g(n,A)},autoFocus:!0}):c.jsx("div",{className:`mt-2 ${w?"":"line-clamp-3"} text-sm`,children:A}),h&&c.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs",children:[h.importance&&c.jsxs("span",{className:`px-2 py-0.5 rounded-full ${h.importance==="high"?"bg-red-100 text-red-800":h.importance==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[h.importance," priority"]}),h.status&&c.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-800",children:h.status})]}),c.jsx("div",{ref:z,className:"absolute right-1 bottom-1 h-4 w-4 cursor-se-resize bg-foreground/20 rounded-sm"})]})})},dee=({startPos:n,endPos:e,color:t="rgba(255, 0, 0, 0.8)",dashed:r=!0,thickness:i=3,animated:s=!0,label:a,style:o="dashed"})=>{const l=e.x-n.x,u=e.y-n.y,h=Math.sqrt(l*l+u*u),p=Math.atan2(u,l)*(180/Math.PI),m=n.x+l/2,g=n.y+u/2,y=Math.max(h,20),w=()=>{switch(o){case"solid":return{};case"dashed":return{backgroundImage:`linear-gradient(to right, ${t} 50%, transparent 50%)`,backgroundSize:"15px 100%",backgroundRepeat:"repeat-x"};case"dotted":return{backgroundImage:`linear-gradient(to right, ${t} 25%, transparent 25%)`,backgroundSize:"8px 100%",backgroundRepeat:"repeat-x"};case"zigzag":return{clipPath:"polygon(0 0, 5% 100%, 10% 0, 15% 100%, 20% 0, 25% 100%, 30% 0, 35% 100%, 40% 0, 45% 100%, 50% 0, 55% 100%, 60% 0, 65% 100%, 70% 0, 75% 100%, 80% 0, 85% 100%, 90% 0, 95% 100%, 100% 0)"};default:return{backgroundImage:`linear-gradient(to right, ${t} 50%, transparent 50%)`,backgroundSize:"15px 100%",backgroundRepeat:"repeat-x"}}};return c.jsxs("div",{className:"absolute pointer-events-none z-0 connection-line",style:{top:0,left:0,right:0,bottom:0},children:[c.jsx("div",{className:`absolute ${s?"animate-pulse":""}`,style:{width:`${y}px`,height:`${i}px`,backgroundColor:t,transformOrigin:"0 50%",transform:`translate(${n.x}px, ${n.y}px) rotate(${p}deg)`,opacity:.9,...w(),boxShadow:"0 1px 2px rgba(0,0,0,0.2)"}}),c.jsx("div",{className:`absolute rounded-full ${s?"animate-pulse":""}`,style:{width:`${i*4}px`,height:`${i*4}px`,backgroundColor:t,transform:`translate(${m-i*2}px, ${g-i*2}px)`,opacity:.9,boxShadow:"0 1px 3px rgba(0,0,0,0.3)"}}),a&&c.jsx("div",{className:"absolute bg-white font-handwriting text-black text-xs px-2 py-1 rounded z-10 transform -translate-y-1/2 border border-black/10 shadow-md",style:{left:`${m}px`,top:`${g}px`,transform:"translate(-50%, -50%)",whiteSpace:"nowrap",fontWeight:"bold",pointerEvents:"auto",cursor:"pointer"},children:a})]})},EP="!@#$%^&*()_+{}[]<>?/\\|~-=0123456789",fee=({text:n,speed:e=24,className:t})=>{const[r,i]=E.useState(""),[s,a]=E.useState(!1),o=E.useRef(0);return E.useEffect(()=>{i(""),a(!1),o.current=0;const l=setInterval(()=>{const u=o.current;if(u>=n.length){clearInterval(l),a(!0);return}const h=n.slice(0,u+1),p=n.slice(u+1).split("").map(m=>m===" "?" ":EP[Math.floor(Math.random()*EP.length)]).join("");i(h+p),o.current+=1},e);return()=>clearInterval(l)},[n,e]),c.jsxs("span",{className:t,"aria-label":n,title:n,children:[r,!s&&c.jsx("span",{className:"ml-0.5 inline-block w-2 h-4 bg-primary/70 animate-type-blink"})]})},hee=E.lazy(()=>PU(()=>import("./SciFiGlobe-DK4YkCih.js"),[])),MP=[{id:"1",name:"Bank Heist",items:[],connections:[],background:"grid"}],pee={CORKBOARD_ITEM:"corkboardItem"},mee=()=>{jl();const[n,e]=E.useState(()=>{const ne=localStorage.getItem("corkboards");if(ne)try{return JSON.parse(ne)}catch{return MP}return MP}),[t,r]=E.useState(n[0].id),i=n.find(ne=>ne.id===t)||n[0],[s,a]=E.useState(i.items||[]),[o,l]=E.useState(i.connections||[]),[u,h]=E.useState(i.background||"grid");E.useEffect(()=>{a(i.items||[]),l(i.connections||[]),h(i.background||"grid")},[t,n]);const p=ne=>{e(fe=>{const Le=fe.map(ke=>ke.id===t?{...ke,...ne,updated_at:new Date().toISOString()}:ke);return localStorage.setItem("corkboards",JSON.stringify(Le)),Le})},m=ne=>{a(ne),p({items:ne})},g=ne=>{l(ne),p({connections:ne})},v=ne=>{h(ne),p({background:ne})},[y,w]=E.useState(null),[x,b]=E.useState(null),[S,T]=E.useState(1),[C]=E.useState(["grid","paper","cork"]),[P,A]=E.useState(!1),[k,I]=E.useState(!1),[R,U]=E.useState(null),[V,J]=E.useState(""),z=E.useRef(null),[,Q]=kO(()=>({accept:pee.CORKBOARD_ITEM,drop:(ne,fe)=>fe.getDifferenceFromInitialOffset()})),W=ne=>{const fe=s.filter(Le=>Le.id!==ne);m(fe),g(o.filter(Le=>Le.start!==ne&&Le.end!==ne)),en.success("Item removed")},te=(ne,fe)=>{a(Le=>Le.map(ke=>ke.id===ne?{...ke,position:fe}:ke))},O=(ne,fe)=>{a(Le=>Le.map(ke=>ke.id===ne?{...ke,size:fe}:ke))},B=(ne,fe)=>{a(Le=>Le.map(ke=>ke.id===ne?{...ke,content:fe}:ke))},Y=ne=>{if(!y){w(ne);return}if(y===ne){w(null);return}if(o.some(Le=>Le.start===y&&Le.end===ne||Le.start===ne&&Le.end===y)){en.error("Connection exists"),w(null);return}g([...o,{start:y,end:ne,style:"dashed",color:"rgba(59,130,246,0.8)",label:"Link"}]),w(null)},L=E.useCallback(ne=>{const fe=z.current?z.current.clientWidth/2:400,Le=z.current?z.current.clientHeight/2:300,ke={id:Date.now().toString(),type:ne,content:`New ${ne}`,position:{x:fe-80,y:Le-80},size:{w:220,h:180}};m([...s,ke]),b(ke.id)},[s]),Z=()=>{localStorage.setItem("corkboardItems",JSON.stringify(s)),localStorage.setItem("corkboardConnections",JSON.stringify(o)),en.success("Saved")},oe=()=>{confirm("Clear board?")&&(m([]),g([]))},de=()=>{const ne=C.indexOf(u),fe=C[(ne+1)%C.length];v(fe)},ye=u==="grid"?"bg-[linear-gradient(to_right,rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:24px_24px]":u==="paper"?"bg-neutral-100 dark:bg-neutral-900":"bg-amber-900/40",we=s.filter(ne=>{var fe;return ne.type==="location"&&((fe=ne==null?void 0:ne.metadata)==null?void 0:fe.coords)}).map(ne=>({lat:ne.metadata.coords.lat,lon:ne.metadata.coords.lon,color:"#a78bfa"}));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:c.jsx(fee,{text:"Investigation Board"})}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Map FBI relationships between suspects, evidence and locations"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("select",{value:t,onChange:ne=>r(ne.target.value),className:"border rounded px-2 py-1 text-sm",children:n.map(ne=>c.jsx("option",{value:ne.id,children:ne.name},ne.id))}),c.jsxs(lt,{variant:"outline",size:"sm",onClick:()=>T(Math.min(S+.1,1.5)),children:[c.jsx(J8,{className:"h-4 w-4 mr-1"}),"Zoom in"]}),c.jsxs(lt,{variant:"outline",size:"sm",onClick:()=>T(Math.max(S-.1,.5)),children:[c.jsx(Q8,{className:"h-4 w-4 mr-1"}),"Zoom out"]}),c.jsxs(lt,{variant:"outline",size:"sm",onClick:de,children:[c.jsx(H8,{className:"h-4 w-4 mr-1"}),"Background"]}),c.jsxs(lt,{variant:"outline",size:"sm",onClick:()=>A(!0),children:[c.jsx(gL,{className:"h-4 w-4 mr-1"}),"3D Globe"]}),c.jsxs(lt,{variant:"outline",size:"sm",onClick:Z,children:[c.jsx(G8,{className:"h-4 w-4 mr-1"}),"Save"]}),c.jsxs(lt,{variant:"destructive",size:"sm",onClick:oe,children:[c.jsx(Eb,{className:"h-4 w-4 mr-1"}),"Clear"]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs(lt,{variant:"ghost",size:"sm",onClick:()=>L("photo"),children:[c.jsx(T8,{className:"h-4 w-4 mr-2"}),"Photo"]}),c.jsxs(lt,{variant:"ghost",size:"sm",onClick:()=>L("note"),children:[c.jsx(P8,{className:"h-4 w-4 mr-2"}),"Note"]}),c.jsxs(lt,{variant:"ghost",size:"sm",onClick:()=>L("document"),children:[c.jsx(ma,{className:"h-4 w-4 mr-2"}),"Document"]}),c.jsxs(lt,{variant:"ghost",size:"sm",onClick:()=>L("evidence"),children:[c.jsx(D8,{className:"h-4 w-4 mr-2"}),"Evidence"]}),c.jsxs(lt,{variant:"ghost",size:"sm",onClick:()=>L("wanted"),children:[c.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Wanted"]}),c.jsxs(lt,{variant:"ghost",size:"sm",onClick:()=>L("location"),children:[c.jsx(kc,{className:"h-4 w-4 mr-2"}),"Location"]}),c.jsxs(lt,{variant:"ghost",size:"sm",onClick:()=>L("clue"),children:[c.jsx(j8,{className:"h-4 w-4 mr-2"}),"Clue"]}),c.jsx("div",{className:"ml-auto hidden md:block text-xs text-muted-foreground",children:"Tip: Doubleclick an item to edit in place. Drag the corner to resize."})]}),c.jsxs("div",{ref:ne=>{ne&&Q(ne),z&&(z.current=ne)},className:`relative w-full h-[70vh] rounded-md border ${ye} holo-crosshair-bg`,style:{transformOrigin:"0 0",transform:`scale(${S})`},onClick:()=>b(null),children:[o.map((ne,fe)=>{var et,H,ee,se;const Le=s.find(Me=>Me.id===ne.start),ke=s.find(Me=>Me.id===ne.end);if(!Le||!ke)return null;const Re=Le.position.x+(((et=Le.size)==null?void 0:et.w)||220)/2,X=Le.position.y+(((H=Le.size)==null?void 0:H.h)||180)/2,Ee=ke.position.x+(((ee=ke.size)==null?void 0:ee.w)||220)/2,pe=ke.position.y+(((se=ke.size)==null?void 0:se.h)||180)/2,Pe={x:Re,y:X},be={x:Ee,y:pe};return c.jsx("div",{onClick:()=>g(o.filter(Me=>!(Me.start===ne.start&&Me.end===ne.end))),children:c.jsx(dee,{startPos:Pe,endPos:be,color:ne.color||"rgba(59,130,246,0.6)",dashed:ne.style==="dashed",animated:!0,label:ne.label,style:ne.style||"dashed"})},`${ne.start}-${ne.end}-${fe}`)}),c.jsx("div",{className:"relative w-full h-full",children:s.map(ne=>c.jsx("div",{children:c.jsx(uee,{id:ne.id,type:ne.type,content:ne.content,image:ne.image,initialPosition:ne.position,size:ne.size,onSizeChange:O,onContentChange:B,onPositionChange:te,onConnect:Y,selected:x===ne.id||y===ne.id,onSelect:b,metadata:ne.metadata})},ne.id))}),y&&c.jsx("div",{className:"absolute bottom-4 right-4 bg-amber-100 text-amber-900 px-3 py-1.5 rounded-md text-xs border",children:"Select another item to connect"})]}),c.jsx(aE,{open:k,onOpenChange:I,children:c.jsxs(Ax,{children:[c.jsxs(Rx,{children:[c.jsx(Px,{children:"Edit item"}),c.jsx(Ix,{children:"Update the content for this item"})]}),c.jsx("div",{className:"py-4",children:c.jsx(nn,{value:V,onChange:ne=>J(ne.target.value),placeholder:"Enter content"})}),c.jsxs(WT,{className:"gap-2",children:[c.jsxs(lt,{variant:"destructive",onClick:()=>{R&&(W(R.id),I(!1))},children:[c.jsx(Eb,{className:"h-4 w-4 mr-1"}),"Delete"]}),c.jsx(lt,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),c.jsx(lt,{onClick:()=>{R&&V.trim()&&(B(R.id,V),I(!1))},children:"Save"})]})]})}),c.jsx(aE,{open:P,onOpenChange:A,children:c.jsxs(Ax,{className:"max-w-5xl",children:[c.jsxs(Rx,{children:[c.jsx(Px,{children:"3D Tracking Globe"}),c.jsx(Ix,{children:"Markers reflect corkboard location items when coordinates are present."})]}),c.jsx(E.Suspense,{fallback:c.jsx("div",{className:"h-[65vh] w-full flex items-center justify-center",children:"Loading 3D..."}),children:c.jsx(hee,{markers:we})})]})})]})},gee=E.lazy(()=>PU(()=>import("./SciFiGlobe-DK4YkCih.js"),[])),rv=[{id:"victor",name:"Victor Kozlov",alias:"The Ghost",country:"Russia",lat:55.7558,lon:37.6173,threat:"critical",lastSeen:"20250618",bounty:"$5,000,000",img:"/placeholder.svg"},{id:"yuki",name:"Yuki Tanaka",alias:"Shadow Fox",country:"Japan",lat:35.6762,lon:139.6503,threat:"high",lastSeen:"20250503",bounty:"$1,200,000",img:"/placeholder.svg"},{id:"ahmed",name:"Ahmed AlRashid",alias:"The Broker",country:"UK",lat:51.5074,lon:-.1278,threat:"medium",lastSeen:"20250601",bounty:"$850,000",img:"/placeholder.svg"},{id:"carlos",name:"Carlos M.",country:"USA",lat:34.0522,lon:-118.2437,threat:"high",lastSeen:"20250422",bounty:"$900,000",img:"/placeholder.svg"}],TP=n=>({id:n.id,lat:n.lat,lon:n.lon,color:n.threat==="critical"?"#ef4444":n.threat==="high"?"#f59e0b":n.threat==="medium"?"#22d3ee":"#10b981",size:n.threat==="critical"?1.4:n.threat==="high"?1.2:1}),vee=()=>{const[n,e]=E.useState(rv[0]),[t,r]=E.useState(rv.map(TP)),i=E.useMemo(()=>{try{const a=localStorage.getItem("corkboards");if(!a)return t;const l=JSON.parse(a)[0],h=((l==null?void 0:l.items)||[]).filter(p=>{var m;return p.type==="location"&&((m=p==null?void 0:p.metadata)==null?void 0:m.coords)}).map((p,m)=>({id:`cb-${m}`,lat:p.metadata.coords.lat,lon:p.metadata.coords.lon,color:"#a78bfa",size:.9}));return[...t,...h]}catch{return t}},[t]),s=a=>{const o=rv.find(l=>l.id===a.id);o&&e(o)};return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-3",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Global 3D Map"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Interactive FBI globe with live threat markers and arcs"})]}),c.jsxs(zn,{children:[c.jsx(vr,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(br,{children:"Threat Network"}),c.jsx("div",{className:"flex gap-2",children:c.jsx(lt,{size:"sm",variant:"outline",onClick:()=>r(rv.map(TP)),children:"Reset"})})]})}),c.jsx(Yn,{children:c.jsx(E.Suspense,{fallback:c.jsx("div",{className:"h-[65vh] w-full flex items-center justify-center",children:"Loading 3D..."}),children:c.jsx(gee,{markers:i,onSelect:s})})})]})]}),c.jsxs(zn,{className:"glass-card shadow-hologram",children:[c.jsx(vr,{children:c.jsx(br,{children:"Target Details"})}),c.jsx(Yn,{children:n?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:n.img||"/placeholder.svg",alt:n.name,className:"w-20 h-20 rounded-md object-cover border"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold",children:n.name}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["AKA: ",n.alias||""]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[c.jsx("span",{className:`px-2 py-0.5 rounded-full border ${n.threat==="critical"?"border-red-500 text-red-500":n.threat==="high"?"border-amber-400 text-amber-400":n.threat==="medium"?"border-cyan-400 text-cyan-300":"border-emerald-400 text-emerald-300"}`,children:n.threat.toUpperCase()}),c.jsxs("span",{className:"px-2 py-0.5 rounded-full border border-purple-400 text-purple-300",children:["Last seen ",n.lastSeen]}),n.bounty&&c.jsxs("span",{className:"px-2 py-0.5 rounded-full border border-fuchsia-400 text-fuchsia-300",children:["Bounty ",n.bounty]})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Country: ",n.country||"Unknown"]})]}):c.jsx("div",{className:"text-sm text-muted-foreground",children:"Select a marker on the globe"})})]})]})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const $y="157",xee={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},yee={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},IU=0,cE=1,DU=2,wee=3,kU=0,Xy=1,rp=2,Ss=3,mo=0,Jr=1,la=2,_ee=2,so=0,Lc=1,uE=2,dE=3,fE=4,LU=5,hc=100,OU=101,jU=102,hE=103,pE=104,FU=200,UU=201,zU=202,BU=203,uC=204,dC=205,VU=206,HU=207,WU=208,GU=209,$U=210,XU=0,YU=1,qU=2,zx=3,ZU=4,KU=5,JU=6,QU=7,wm=0,e5=1,t5=2,xa=0,n5=1,r5=2,i5=3,fC=4,s5=5,Yy=300,go=301,Rl=302,Op=303,jp=304,kf=306,Fp=1e3,Br=1001,Up=1002,Wn=1003,Bx=1004,See=1004,ip=1005,bee=1005,$n=1006,hC=1007,Eee=1007,Pl=1008,Mee=1008,ya=1009,a5=1010,o5=1011,qy=1012,pC=1013,no=1014,da=1015,sf=1016,mC=1017,gC=1018,vl=1020,l5=1021,fi=1023,c5=1024,u5=1025,xl=1026,Jc=1027,d5=1028,vC=1029,f5=1030,xC=1031,yC=1033,x0=33776,y0=33777,w0=33778,_0=33779,mE=35840,gE=35841,vE=35842,xE=35843,h5=36196,yE=37492,wE=37496,_E=37808,SE=37809,bE=37810,EE=37811,ME=37812,TE=37813,CE=37814,NE=37815,AE=37816,RE=37817,PE=37818,IE=37819,DE=37820,kE=37821,S0=36492,LE=36494,OE=36495,p5=36283,jE=36284,FE=36285,UE=36286,m5=2200,g5=2201,v5=2202,zp=2300,Bp=2301,b0=2302,Sc=2400,bc=2401,Vp=2402,Zy=2500,wC=2501,Tee=0,Cee=1,Nee=2,_C=3e3,yl=3001,x5=3200,y5=3201,zl=0,w5=1,Li="",sr="srgb",Ea="srgb-linear",Ky="display-p3",_m="display-p3-linear",Hp="linear",mn="srgb",Wp="rec709",Gp="p3",Aee=0,E0=7680,Ree=7681,Pee=7682,Iee=7683,Dee=34055,kee=34056,Lee=5386,Oee=512,jee=513,Fee=514,Uee=515,zee=516,Bee=517,Vee=518,_5=519,S5=512,b5=513,E5=514,M5=515,T5=516,C5=517,N5=518,A5=519,$p=35044,Hee=35048,Wee=35040,Gee=35045,$ee=35049,Xee=35041,Yee=35046,qee=35050,Zee=35042,Kee="100",zE="300 es",Vx=1035,fa=2e3,Xp=2001;class Eo{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const jr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let CP=1234567;const Oc=Math.PI/180,af=180/Math.PI;function Ui(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(jr[n&255]+jr[n>>8&255]+jr[n>>16&255]+jr[n>>24&255]+"-"+jr[e&255]+jr[e>>8&255]+"-"+jr[e>>16&15|64]+jr[e>>24&255]+"-"+jr[t&63|128]+jr[t>>8&255]+"-"+jr[t>>16&255]+jr[t>>24&255]+jr[r&255]+jr[r>>8&255]+jr[r>>16&255]+jr[r>>24&255]).toLowerCase()}function Un(n,e,t){return Math.max(e,Math.min(t,n))}function SC(n,e){return(n%e+e)%e}function Jee(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function Qee(n,e,t){return n!==e?(t-n)/(e-n):0}function sp(n,e,t){return(1-t)*n+t*e}function ete(n,e,t,r){return sp(n,e,1-Math.exp(-t*r))}function tte(n,e=1){return e-Math.abs(SC(n,e*2)-e)}function nte(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function rte(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function ite(n,e){return n+Math.floor(Math.random()*(e-n+1))}function ste(n,e){return n+Math.random()*(e-n)}function ate(n){return n*(.5-Math.random())}function ote(n){n!==void 0&&(CP=n);let e=CP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function lte(n){return n*Oc}function cte(n){return n*af}function BE(n){return(n&n-1)===0&&n!==0}function R5(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Hx(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function ute(n,e,t,r,i){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),u=s((e+r)/2),h=a((e+r)/2),p=s((e-r)/2),m=a((e-r)/2),g=s((r-e)/2),v=a((r-e)/2);switch(i){case"XYX":n.set(o*h,l*p,l*m,o*u);break;case"YZY":n.set(l*m,o*h,l*p,o*u);break;case"ZXZ":n.set(l*p,l*m,o*h,o*u);break;case"XZX":n.set(o*h,l*v,l*g,o*u);break;case"YXY":n.set(l*g,o*h,l*v,o*u);break;case"ZYZ":n.set(l*v,l*g,o*h,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function hi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ot(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const dte={DEG2RAD:Oc,RAD2DEG:af,generateUUID:Ui,clamp:Un,euclideanModulo:SC,mapLinear:Jee,inverseLerp:Qee,lerp:sp,damp:ete,pingpong:tte,smoothstep:nte,smootherstep:rte,randInt:ite,randFloat:ste,randFloatSpread:ate,seededRandom:ote,degToRad:lte,radToDeg:cte,isPowerOfTwo:BE,ceilPowerOfTwo:R5,floorPowerOfTwo:Hx,setQuaternionFromProperEuler:ute,normalize:Ot,denormalize:hi};class Ne{constructor(e=0,t=0){Ne.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Un(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ft{constructor(e,t,r,i,s,a,o,l,u){Ft.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,u)}set(e,t,r,i,s,a,o,l,u){const h=this.elements;return h[0]=e,h[1]=i,h[2]=o,h[3]=t,h[4]=s,h[5]=l,h[6]=r,h[7]=a,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[3],l=r[6],u=r[1],h=r[4],p=r[7],m=r[2],g=r[5],v=r[8],y=i[0],w=i[3],x=i[6],b=i[1],S=i[4],T=i[7],C=i[2],P=i[5],A=i[8];return s[0]=a*y+o*b+l*C,s[3]=a*w+o*S+l*P,s[6]=a*x+o*T+l*A,s[1]=u*y+h*b+p*C,s[4]=u*w+h*S+p*P,s[7]=u*x+h*T+p*A,s[2]=m*y+g*b+v*C,s[5]=m*w+g*S+v*P,s[8]=m*x+g*T+v*A,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8];return t*a*h-t*o*u-r*s*h+r*o*l+i*s*u-i*a*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],p=h*a-o*u,m=o*l-h*s,g=u*s-a*l,v=t*p+r*m+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=p*y,e[1]=(i*u-h*r)*y,e[2]=(o*r-i*a)*y,e[3]=m*y,e[4]=(h*t-i*l)*y,e[5]=(i*s-o*t)*y,e[6]=g*y,e[7]=(r*l-u*t)*y,e[8]=(a*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*a+u*o)+a+e,-i*u,i*l,-i*(-u*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(L1.makeScale(e,t)),this}rotate(e){return this.premultiply(L1.makeRotation(-e)),this}translate(e,t){return this.premultiply(L1.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const L1=new Ft;function P5(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const fte={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function vd(n,e){return new fte[n](e)}function Yp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function I5(){const n=Yp("canvas");return n.style.display="block",n}const NP={};function ap(n){n in NP||(NP[n]=!0,console.warn(n))}const AP=new Ft().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),RP=new Ft().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),iv={[Ea]:{transfer:Hp,primaries:Wp,toReference:n=>n,fromReference:n=>n},[sr]:{transfer:mn,primaries:Wp,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[_m]:{transfer:Hp,primaries:Gp,toReference:n=>n.applyMatrix3(RP),fromReference:n=>n.applyMatrix3(AP)},[Ky]:{transfer:mn,primaries:Gp,toReference:n=>n.convertSRGBToLinear().applyMatrix3(RP),fromReference:n=>n.applyMatrix3(AP).convertLinearToSRGB()}},hte=new Set([Ea,_m]),on={enabled:!0,_workingColorSpace:Ea,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!hte.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=iv[e].toReference,i=iv[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return iv[n].primaries},getTransfer:function(n){return n===Li?Hp:iv[n].transfer}};function Ld(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function O1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Pu;class bC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Pu===void 0&&(Pu=Yp("canvas")),Pu.width=e.width,Pu.height=e.height;const r=Pu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Pu}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Yp("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Ld(s[a]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Ld(t[r]/255)*255):t[r]=Ld(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let pte=0;class Ec{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pte++}),this.uuid=Ui(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(j1(i[a].image)):s.push(j1(i[a]))}else s=j1(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function j1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?bC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mte=0;class Bn extends Eo{constructor(e=Bn.DEFAULT_IMAGE,t=Bn.DEFAULT_MAPPING,r=Br,i=Br,s=$n,a=Pl,o=fi,l=ya,u=Bn.DEFAULT_ANISOTROPY,h=Li){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mte++}),this.uuid=Ui(),this.name="",this.source=new Ec(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ne(0,0),this.repeat=new Ne(1,1),this.center=new Ne(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ft,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(ap("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===yl?sr:Li),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Yy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Fp:e.x=e.x-Math.floor(e.x);break;case Br:e.x=e.x<0?0:1;break;case Up:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Fp:e.y=e.y-Math.floor(e.y);break;case Br:e.y=e.y<0?0:1;break;case Up:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ap("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===sr?yl:_C}set encoding(e){ap("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===yl?sr:Li}}Bn.DEFAULT_IMAGE=null;Bn.DEFAULT_MAPPING=Yy;Bn.DEFAULT_ANISOTROPY=1;class ln{constructor(e=0,t=0,r=0,i=1){ln.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*t+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*t+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*t+a[7]*r+a[11]*i+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],h=l[4],p=l[8],m=l[1],g=l[5],v=l[9],y=l[2],w=l[6],x=l[10];if(Math.abs(h-m)<.01&&Math.abs(p-y)<.01&&Math.abs(v-w)<.01){if(Math.abs(h+m)<.1&&Math.abs(p+y)<.1&&Math.abs(v+w)<.1&&Math.abs(u+g+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(u+1)/2,T=(g+1)/2,C=(x+1)/2,P=(h+m)/4,A=(p+y)/4,k=(v+w)/4;return S>T&&S>C?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=P/r,s=A/r):T>C?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=P/i,s=k/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=A/s,i=k/s),this.set(r,i,s,t),this}let b=Math.sqrt((w-v)*(w-v)+(p-y)*(p-y)+(m-h)*(m-h));return Math.abs(b)<.001&&(b=1),this.x=(w-v)/b,this.y=(p-y)/b,this.z=(m-h)/b,this.w=Math.acos((u+g+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class D5 extends Eo{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ln(0,0,e,t),this.scissorTest=!1,this.viewport=new ln(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(ap("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===yl?sr:Li),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:$n,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Bn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ec(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ls extends D5{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Jy extends Bn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Wn,this.minFilter=Wn,this.wrapR=Br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gte extends Ls{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Jy(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class EC extends Bn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Wn,this.minFilter=Wn,this.wrapR=Br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vte extends Ls{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new EC(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class xte extends Ls{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=s.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class yi{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,a,o){let l=r[i+0],u=r[i+1],h=r[i+2],p=r[i+3];const m=s[a+0],g=s[a+1],v=s[a+2],y=s[a+3];if(o===0){e[t+0]=l,e[t+1]=u,e[t+2]=h,e[t+3]=p;return}if(o===1){e[t+0]=m,e[t+1]=g,e[t+2]=v,e[t+3]=y;return}if(p!==y||l!==m||u!==g||h!==v){let w=1-o;const x=l*m+u*g+h*v+p*y,b=x>=0?1:-1,S=1-x*x;if(S>Number.EPSILON){const C=Math.sqrt(S),P=Math.atan2(C,x*b);w=Math.sin(w*P)/C,o=Math.sin(o*P)/C}const T=o*b;if(l=l*w+m*T,u=u*w+g*T,h=h*w+v*T,p=p*w+y*T,w===1-o){const C=1/Math.sqrt(l*l+u*u+h*h+p*p);l*=C,u*=C,h*=C,p*=C}}e[t]=l,e[t+1]=u,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,r,i,s,a){const o=r[i],l=r[i+1],u=r[i+2],h=r[i+3],p=s[a],m=s[a+1],g=s[a+2],v=s[a+3];return e[t]=o*v+h*p+l*g-u*m,e[t+1]=l*v+h*m+u*p-o*g,e[t+2]=u*v+h*g+o*m-l*p,e[t+3]=h*v-o*p-l*m-u*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(r/2),h=o(i/2),p=o(s/2),m=l(r/2),g=l(i/2),v=l(s/2);switch(a){case"XYZ":this._x=m*h*p+u*g*v,this._y=u*g*p-m*h*v,this._z=u*h*v+m*g*p,this._w=u*h*p-m*g*v;break;case"YXZ":this._x=m*h*p+u*g*v,this._y=u*g*p-m*h*v,this._z=u*h*v-m*g*p,this._w=u*h*p+m*g*v;break;case"ZXY":this._x=m*h*p-u*g*v,this._y=u*g*p+m*h*v,this._z=u*h*v+m*g*p,this._w=u*h*p-m*g*v;break;case"ZYX":this._x=m*h*p-u*g*v,this._y=u*g*p+m*h*v,this._z=u*h*v-m*g*p,this._w=u*h*p+m*g*v;break;case"YZX":this._x=m*h*p+u*g*v,this._y=u*g*p+m*h*v,this._z=u*h*v-m*g*p,this._w=u*h*p-m*g*v;break;case"XZY":this._x=m*h*p-u*g*v,this._y=u*g*p-m*h*v,this._z=u*h*v+m*g*p,this._w=u*h*p+m*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],a=t[1],o=t[5],l=t[9],u=t[2],h=t[6],p=t[10],m=r+o+p;if(m>0){const g=.5/Math.sqrt(m+1);this._w=.25/g,this._x=(h-l)*g,this._y=(s-u)*g,this._z=(a-i)*g}else if(r>o&&r>p){const g=2*Math.sqrt(1+r-o-p);this._w=(h-l)/g,this._x=.25*g,this._y=(i+a)/g,this._z=(s+u)/g}else if(o>p){const g=2*Math.sqrt(1+o-r-p);this._w=(s-u)/g,this._x=(i+a)/g,this._y=.25*g,this._z=(l+h)/g}else{const g=2*Math.sqrt(1+p-r-o);this._w=(a-i)/g,this._x=(s+u)/g,this._y=(l+h)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Un(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,a=e._w,o=t._x,l=t._y,u=t._z,h=t._w;return this._x=r*h+a*o+i*u-s*l,this._y=i*h+a*l+s*o-r*u,this._z=s*h+a*u+r*l-i*o,this._w=a*h-r*o-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const g=1-t;return this._w=g*a+t*this._w,this._x=g*r+t*this._x,this._y=g*i+t*this._y,this._z=g*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),h=Math.atan2(u,o),p=Math.sin((1-t)*h)/u,m=Math.sin(t*h)/u;return this._w=a*p+this._w*m,this._x=r*p+this._x*m,this._y=i*p+this._y*m,this._z=s*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,r=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(PP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(PP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=l*t+a*i-o*r,h=l*r+o*t-s*i,p=l*i+s*r-a*t,m=-s*t-a*r-o*i;return this.x=u*l+m*-s+h*-o-p*-a,this.y=h*l+m*-a+p*-s-u*-o,this.z=p*l+m*-o+u*-a-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return F1.copy(this).projectOnVector(e),this.sub(F1)}reflect(e){return this.sub(F1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Un(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const F1=new $,PP=new yi;class Na{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Ua.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Ua.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ua.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Iu.copy(e.boundingBox),Iu.applyMatrix4(e.matrixWorld),this.union(Iu);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let a=0,o=s.count;a<o;a++)Ua.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(Ua)}else i.boundingBox===null&&i.computeBoundingBox(),Iu.copy(i.boundingBox),Iu.applyMatrix4(e.matrixWorld),this.union(Iu)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ua),Ua.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(yh),sv.subVectors(this.max,yh),Du.subVectors(e.a,yh),ku.subVectors(e.b,yh),Lu.subVectors(e.c,yh),Uo.subVectors(ku,Du),zo.subVectors(Lu,ku),Ql.subVectors(Du,Lu);let t=[0,-Uo.z,Uo.y,0,-zo.z,zo.y,0,-Ql.z,Ql.y,Uo.z,0,-Uo.x,zo.z,0,-zo.x,Ql.z,0,-Ql.x,-Uo.y,Uo.x,0,-zo.y,zo.x,0,-Ql.y,Ql.x,0];return!U1(t,Du,ku,Lu,sv)||(t=[1,0,0,0,1,0,0,0,1],!U1(t,Du,ku,Lu,sv))?!1:(av.crossVectors(Uo,zo),t=[av.x,av.y,av.z],U1(t,Du,ku,Lu,sv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ua).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ua).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Fa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Fa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Fa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Fa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Fa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Fa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Fa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Fa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Fa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Fa=[new $,new $,new $,new $,new $,new $,new $,new $],Ua=new $,Iu=new Na,Du=new $,ku=new $,Lu=new $,Uo=new $,zo=new $,Ql=new $,yh=new $,sv=new $,av=new $,ec=new $;function U1(n,e,t,r,i){for(let s=0,a=n.length-3;s<=a;s+=3){ec.fromArray(n,s);const o=i.x*Math.abs(ec.x)+i.y*Math.abs(ec.y)+i.z*Math.abs(ec.z),l=e.dot(ec),u=t.dot(ec),h=r.dot(ec);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>o)return!1}return!0}const yte=new Na,wh=new $,z1=new $;class Us{constructor(e=new $,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):yte.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wh.subVectors(e,this.center);const t=wh.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(wh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(z1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wh.copy(e.center).add(z1)),this.expandByPoint(wh.copy(e.center).sub(z1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const za=new $,B1=new $,ov=new $,Bo=new $,V1=new $,lv=new $,H1=new $;class Lf{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,za)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=za.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(za.copy(this.origin).addScaledVector(this.direction,t),za.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){B1.copy(e).add(t).multiplyScalar(.5),ov.copy(t).sub(e).normalize(),Bo.copy(this.origin).sub(B1);const s=e.distanceTo(t)*.5,a=-this.direction.dot(ov),o=Bo.dot(this.direction),l=-Bo.dot(ov),u=Bo.lengthSq(),h=Math.abs(1-a*a);let p,m,g,v;if(h>0)if(p=a*l-o,m=a*o-l,v=s*h,p>=0)if(m>=-v)if(m<=v){const y=1/h;p*=y,m*=y,g=p*(p+a*m+2*o)+m*(a*p+m+2*l)+u}else m=s,p=Math.max(0,-(a*m+o)),g=-p*p+m*(m+2*l)+u;else m=-s,p=Math.max(0,-(a*m+o)),g=-p*p+m*(m+2*l)+u;else m<=-v?(p=Math.max(0,-(-a*s+o)),m=p>0?-s:Math.min(Math.max(-s,-l),s),g=-p*p+m*(m+2*l)+u):m<=v?(p=0,m=Math.min(Math.max(-s,-l),s),g=m*(m+2*l)+u):(p=Math.max(0,-(a*s+o)),m=p>0?s:Math.min(Math.max(-s,-l),s),g=-p*p+m*(m+2*l)+u);else m=a>0?-s:s,p=Math.max(0,-(a*m+o)),g=-p*p+m*(m+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(B1).addScaledVector(ov,m),g}intersectSphere(e,t){za.subVectors(e.center,this.origin);const r=za.dot(this.direction),i=za.dot(za)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,a,o,l;const u=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,m=this.origin;return u>=0?(r=(e.min.x-m.x)*u,i=(e.max.x-m.x)*u):(r=(e.max.x-m.x)*u,i=(e.min.x-m.x)*u),h>=0?(s=(e.min.y-m.y)*h,a=(e.max.y-m.y)*h):(s=(e.max.y-m.y)*h,a=(e.min.y-m.y)*h),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),p>=0?(o=(e.min.z-m.z)*p,l=(e.max.z-m.z)*p):(o=(e.max.z-m.z)*p,l=(e.min.z-m.z)*p),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,za)!==null}intersectTriangle(e,t,r,i,s){V1.subVectors(t,e),lv.subVectors(r,e),H1.crossVectors(V1,lv);let a=this.direction.dot(H1),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Bo.subVectors(this.origin,e);const l=o*this.direction.dot(lv.crossVectors(Bo,lv));if(l<0)return null;const u=o*this.direction.dot(V1.cross(Bo));if(u<0||l+u>a)return null;const h=-o*Bo.dot(H1);return h<0?null:this.at(h/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pt{constructor(e,t,r,i,s,a,o,l,u,h,p,m,g,v,y,w){Pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,u,h,p,m,g,v,y,w)}set(e,t,r,i,s,a,o,l,u,h,p,m,g,v,y,w){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=a,x[9]=o,x[13]=l,x[2]=u,x[6]=h,x[10]=p,x[14]=m,x[3]=g,x[7]=v,x[11]=y,x[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Ou.setFromMatrixColumn(e,0).length(),s=1/Ou.setFromMatrixColumn(e,1).length(),a=1/Ou.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const m=a*h,g=a*p,v=o*h,y=o*p;t[0]=l*h,t[4]=-l*p,t[8]=u,t[1]=g+v*u,t[5]=m-y*u,t[9]=-o*l,t[2]=y-m*u,t[6]=v+g*u,t[10]=a*l}else if(e.order==="YXZ"){const m=l*h,g=l*p,v=u*h,y=u*p;t[0]=m+y*o,t[4]=v*o-g,t[8]=a*u,t[1]=a*p,t[5]=a*h,t[9]=-o,t[2]=g*o-v,t[6]=y+m*o,t[10]=a*l}else if(e.order==="ZXY"){const m=l*h,g=l*p,v=u*h,y=u*p;t[0]=m-y*o,t[4]=-a*p,t[8]=v+g*o,t[1]=g+v*o,t[5]=a*h,t[9]=y-m*o,t[2]=-a*u,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const m=a*h,g=a*p,v=o*h,y=o*p;t[0]=l*h,t[4]=v*u-g,t[8]=m*u+y,t[1]=l*p,t[5]=y*u+m,t[9]=g*u-v,t[2]=-u,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const m=a*l,g=a*u,v=o*l,y=o*u;t[0]=l*h,t[4]=y-m*p,t[8]=v*p+g,t[1]=p,t[5]=a*h,t[9]=-o*h,t[2]=-u*h,t[6]=g*p+v,t[10]=m-y*p}else if(e.order==="XZY"){const m=a*l,g=a*u,v=o*l,y=o*u;t[0]=l*h,t[4]=-p,t[8]=u*h,t[1]=m*p+y,t[5]=a*h,t[9]=g*p-v,t[2]=v*p-g,t[6]=o*h,t[10]=y*p+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(wte,e,_te)}lookAt(e,t,r){const i=this.elements;return Ai.subVectors(e,t),Ai.lengthSq()===0&&(Ai.z=1),Ai.normalize(),Vo.crossVectors(r,Ai),Vo.lengthSq()===0&&(Math.abs(r.z)===1?Ai.x+=1e-4:Ai.z+=1e-4,Ai.normalize(),Vo.crossVectors(r,Ai)),Vo.normalize(),cv.crossVectors(Ai,Vo),i[0]=Vo.x,i[4]=cv.x,i[8]=Ai.x,i[1]=Vo.y,i[5]=cv.y,i[9]=Ai.y,i[2]=Vo.z,i[6]=cv.z,i[10]=Ai.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[4],l=r[8],u=r[12],h=r[1],p=r[5],m=r[9],g=r[13],v=r[2],y=r[6],w=r[10],x=r[14],b=r[3],S=r[7],T=r[11],C=r[15],P=i[0],A=i[4],k=i[8],I=i[12],R=i[1],U=i[5],V=i[9],J=i[13],z=i[2],Q=i[6],W=i[10],te=i[14],O=i[3],B=i[7],Y=i[11],L=i[15];return s[0]=a*P+o*R+l*z+u*O,s[4]=a*A+o*U+l*Q+u*B,s[8]=a*k+o*V+l*W+u*Y,s[12]=a*I+o*J+l*te+u*L,s[1]=h*P+p*R+m*z+g*O,s[5]=h*A+p*U+m*Q+g*B,s[9]=h*k+p*V+m*W+g*Y,s[13]=h*I+p*J+m*te+g*L,s[2]=v*P+y*R+w*z+x*O,s[6]=v*A+y*U+w*Q+x*B,s[10]=v*k+y*V+w*W+x*Y,s[14]=v*I+y*J+w*te+x*L,s[3]=b*P+S*R+T*z+C*O,s[7]=b*A+S*U+T*Q+C*B,s[11]=b*k+S*V+T*W+C*Y,s[15]=b*I+S*J+T*te+C*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],h=e[2],p=e[6],m=e[10],g=e[14],v=e[3],y=e[7],w=e[11],x=e[15];return v*(+s*l*p-i*u*p-s*o*m+r*u*m+i*o*g-r*l*g)+y*(+t*l*g-t*u*m+s*a*m-i*a*g+i*u*h-s*l*h)+w*(+t*u*p-t*o*g-s*a*p+r*a*g+s*o*h-r*u*h)+x*(-i*o*h-t*l*p+t*o*m+i*a*p-r*a*m+r*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],p=e[9],m=e[10],g=e[11],v=e[12],y=e[13],w=e[14],x=e[15],b=p*w*u-y*m*u+y*l*g-o*w*g-p*l*x+o*m*x,S=v*m*u-h*w*u-v*l*g+a*w*g+h*l*x-a*m*x,T=h*y*u-v*p*u+v*o*g-a*y*g-h*o*x+a*p*x,C=v*p*l-h*y*l-v*o*m+a*y*m+h*o*w-a*p*w,P=t*b+r*S+i*T+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/P;return e[0]=b*A,e[1]=(y*m*s-p*w*s-y*i*g+r*w*g+p*i*x-r*m*x)*A,e[2]=(o*w*s-y*l*s+y*i*u-r*w*u-o*i*x+r*l*x)*A,e[3]=(p*l*s-o*m*s-p*i*u+r*m*u+o*i*g-r*l*g)*A,e[4]=S*A,e[5]=(h*w*s-v*m*s+v*i*g-t*w*g-h*i*x+t*m*x)*A,e[6]=(v*l*s-a*w*s-v*i*u+t*w*u+a*i*x-t*l*x)*A,e[7]=(a*m*s-h*l*s+h*i*u-t*m*u-a*i*g+t*l*g)*A,e[8]=T*A,e[9]=(v*p*s-h*y*s-v*r*g+t*y*g+h*r*x-t*p*x)*A,e[10]=(a*y*s-v*o*s+v*r*u-t*y*u-a*r*x+t*o*x)*A,e[11]=(h*o*s-a*p*s-h*r*u+t*p*u+a*r*g-t*o*g)*A,e[12]=C*A,e[13]=(h*y*i-v*p*i+v*r*m-t*y*m-h*r*w+t*p*w)*A,e[14]=(v*o*i-a*y*i-v*r*l+t*y*l+a*r*w-t*o*w)*A,e[15]=(a*p*i-h*o*i+h*r*l-t*p*l-a*r*m+t*o*m)*A,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,a=e.x,o=e.y,l=e.z,u=s*a,h=s*o;return this.set(u*a+r,u*o-i*l,u*l+i*o,0,u*o+i*l,h*o+r,h*l-i*a,0,u*l-i*o,h*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,u=s+s,h=a+a,p=o+o,m=s*u,g=s*h,v=s*p,y=a*h,w=a*p,x=o*p,b=l*u,S=l*h,T=l*p,C=r.x,P=r.y,A=r.z;return i[0]=(1-(y+x))*C,i[1]=(g+T)*C,i[2]=(v-S)*C,i[3]=0,i[4]=(g-T)*P,i[5]=(1-(m+x))*P,i[6]=(w+b)*P,i[7]=0,i[8]=(v+S)*A,i[9]=(w-b)*A,i[10]=(1-(m+y))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Ou.set(i[0],i[1],i[2]).length();const a=Ou.set(i[4],i[5],i[6]).length(),o=Ou.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],vs.copy(this);const u=1/s,h=1/a,p=1/o;return vs.elements[0]*=u,vs.elements[1]*=u,vs.elements[2]*=u,vs.elements[4]*=h,vs.elements[5]*=h,vs.elements[6]*=h,vs.elements[8]*=p,vs.elements[9]*=p,vs.elements[10]*=p,t.setFromRotationMatrix(vs),r.x=s,r.y=a,r.z=o,this}makePerspective(e,t,r,i,s,a,o=fa){const l=this.elements,u=2*s/(t-e),h=2*s/(r-i),p=(t+e)/(t-e),m=(r+i)/(r-i);let g,v;if(o===fa)g=-(a+s)/(a-s),v=-2*a*s/(a-s);else if(o===Xp)g=-a/(a-s),v=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=h,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=g,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,a,o=fa){const l=this.elements,u=1/(t-e),h=1/(r-i),p=1/(a-s),m=(t+e)*u,g=(r+i)*h;let v,y;if(o===fa)v=(a+s)*p,y=-2*p;else if(o===Xp)v=s*p,y=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-m,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-g,l[2]=0,l[6]=0,l[10]=y,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Ou=new $,vs=new Pt,wte=new $(0,0,0),_te=new $(1,1,1),Vo=new $,cv=new $,Ai=new $,IP=new Pt,DP=new yi;class Sm{constructor(e=0,t=0,r=0,i=Sm.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],u=i[5],h=i[9],p=i[2],m=i[6],g=i[10];switch(t){case"XYZ":this._y=Math.asin(Un(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,g),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(m,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Un(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,g),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Un(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,g),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Un(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Un(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(o,g));break;case"XZY":this._z=Math.asin(-Un(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-h,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return IP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(IP,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return DP.setFromEuler(this),this.setFromQuaternion(DP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Sm.DEFAULT_ORDER="XYZ";class jc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Ste=0;const kP=new $,ju=new yi,Ba=new Pt,uv=new $,_h=new $,bte=new $,Ete=new yi,LP=new $(1,0,0),OP=new $(0,1,0),jP=new $(0,0,1),Mte={type:"added"},Tte={type:"removed"};class tn extends Eo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ste++}),this.uuid=Ui(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tn.DEFAULT_UP.clone();const e=new $,t=new Sm,r=new yi,i=new $(1,1,1);function s(){r.setFromEuler(t,!1)}function a(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Pt},normalMatrix:{value:new Ft}}),this.matrix=new Pt,this.matrixWorld=new Pt,this.matrixAutoUpdate=tn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new jc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ju.setFromAxisAngle(e,t),this.quaternion.multiply(ju),this}rotateOnWorldAxis(e,t){return ju.setFromAxisAngle(e,t),this.quaternion.premultiply(ju),this}rotateX(e){return this.rotateOnAxis(LP,e)}rotateY(e){return this.rotateOnAxis(OP,e)}rotateZ(e){return this.rotateOnAxis(jP,e)}translateOnAxis(e,t){return kP.copy(e).applyQuaternion(this.quaternion),this.position.add(kP.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(LP,e)}translateY(e){return this.translateOnAxis(OP,e)}translateZ(e){return this.translateOnAxis(jP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ba.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?uv.copy(e):uv.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),_h.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ba.lookAt(_h,uv,this.up):Ba.lookAt(uv,_h,this.up),this.quaternion.setFromRotationMatrix(Ba),i&&(Ba.extractRotation(i.matrixWorld),ju.setFromRotationMatrix(Ba),this.quaternion.premultiply(ju.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Mte)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Tte)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ba.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ba.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ba),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectsByProperty(e,t);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_h,e,bte),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_h,Ete,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++){const o=i[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const p=l[u];s(e.shapes,p)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),h=a(e.images),p=a(e.shapes),m=a(e.skeletons),g=a(e.animations),v=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),m.length>0&&(r.skeletons=m),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function a(o){const l=[];for(const u in o){const h=o[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}tn.DEFAULT_UP=new $(0,1,0);tn.DEFAULT_MATRIX_AUTO_UPDATE=!0;tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const xs=new $,Va=new $,W1=new $,Ha=new $,Fu=new $,Uu=new $,FP=new $,G1=new $,$1=new $,X1=new $;let dv=!1;class di{constructor(e=new $,t=new $,r=new $){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),xs.subVectors(e,t),i.cross(xs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){xs.subVectors(i,t),Va.subVectors(r,t),W1.subVectors(e,t);const a=xs.dot(xs),o=xs.dot(Va),l=xs.dot(W1),u=Va.dot(Va),h=Va.dot(W1),p=a*u-o*o;if(p===0)return s.set(-2,-1,-1);const m=1/p,g=(u*l-o*h)*m,v=(a*h-o*l)*m;return s.set(1-g-v,v,g)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ha),Ha.x>=0&&Ha.y>=0&&Ha.x+Ha.y<=1}static getUV(e,t,r,i,s,a,o,l){return dv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),dv=!0),this.getInterpolation(e,t,r,i,s,a,o,l)}static getInterpolation(e,t,r,i,s,a,o,l){return this.getBarycoord(e,t,r,i,Ha),l.setScalar(0),l.addScaledVector(s,Ha.x),l.addScaledVector(a,Ha.y),l.addScaledVector(o,Ha.z),l}static isFrontFacing(e,t,r,i){return xs.subVectors(r,t),Va.subVectors(e,t),xs.cross(Va).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return xs.subVectors(this.c,this.b),Va.subVectors(this.a,this.b),xs.cross(Va).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return di.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return di.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return dv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),dv=!0),di.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return di.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return di.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return di.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let a,o;Fu.subVectors(i,r),Uu.subVectors(s,r),G1.subVectors(e,r);const l=Fu.dot(G1),u=Uu.dot(G1);if(l<=0&&u<=0)return t.copy(r);$1.subVectors(e,i);const h=Fu.dot($1),p=Uu.dot($1);if(h>=0&&p<=h)return t.copy(i);const m=l*p-h*u;if(m<=0&&l>=0&&h<=0)return a=l/(l-h),t.copy(r).addScaledVector(Fu,a);X1.subVectors(e,s);const g=Fu.dot(X1),v=Uu.dot(X1);if(v>=0&&g<=v)return t.copy(s);const y=g*u-l*v;if(y<=0&&u>=0&&v<=0)return o=u/(u-v),t.copy(r).addScaledVector(Uu,o);const w=h*v-g*p;if(w<=0&&p-h>=0&&g-v>=0)return FP.subVectors(s,i),o=(p-h)/(p-h+(g-v)),t.copy(i).addScaledVector(FP,o);const x=1/(w+y+m);return a=y*x,o=m*x,t.copy(r).addScaledVector(Fu,a).addScaledVector(Uu,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Cte=0;class Cr extends Eo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Cte++}),this.uuid=Ui(),this.name="",this.type="Material",this.blending=Lc,this.side=mo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=uC,this.blendDst=dC,this.blendEquation=hc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=zx,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=E0,this.stencilZFail=E0,this.stencilZPass=E0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Lc&&(r.blending=this.blending),this.side!==mo&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const k5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ho={h:0,s:0,l:0},fv={h:0,s:0,l:0};function Y1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class it{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=sr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,on.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=on.workingColorSpace){return this.r=e,this.g=t,this.b=r,on.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=on.workingColorSpace){if(e=SC(e,1),t=Un(t,0,1),r=Un(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,a=2*r-s;this.r=Y1(a,s,e+1/3),this.g=Y1(a,s,e),this.b=Y1(a,s,e-1/3)}return on.toWorkingColorSpace(this,i),this}setStyle(e,t=sr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=sr){const r=k5[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ld(e.r),this.g=Ld(e.g),this.b=Ld(e.b),this}copyLinearToSRGB(e){return this.r=O1(e.r),this.g=O1(e.g),this.b=O1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=sr){return on.fromWorkingColorSpace(Fr.copy(this),e),Math.round(Un(Fr.r*255,0,255))*65536+Math.round(Un(Fr.g*255,0,255))*256+Math.round(Un(Fr.b*255,0,255))}getHexString(e=sr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=on.workingColorSpace){on.fromWorkingColorSpace(Fr.copy(this),t);const r=Fr.r,i=Fr.g,s=Fr.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,u;const h=(o+a)/2;if(o===a)l=0,u=0;else{const p=a-o;switch(u=h<=.5?p/(a+o):p/(2-a-o),a){case r:l=(i-s)/p+(i<s?6:0);break;case i:l=(s-r)/p+2;break;case s:l=(r-i)/p+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,t=on.workingColorSpace){return on.fromWorkingColorSpace(Fr.copy(this),t),e.r=Fr.r,e.g=Fr.g,e.b=Fr.b,e}getStyle(e=sr){on.fromWorkingColorSpace(Fr.copy(this),e);const t=Fr.r,r=Fr.g,i=Fr.b;return e!==sr?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Ho),this.setHSL(Ho.h+e,Ho.s+t,Ho.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Ho),e.getHSL(fv);const r=sp(Ho.h,fv.h,t),i=sp(Ho.s,fv.s,t),s=sp(Ho.l,fv.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Fr=new it;it.NAMES=k5;class Bl extends Cr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new it(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=wm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ka=Nte();function Nte(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function oi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Un(n,-65504,65504),Ka.floatView[0]=n;const e=Ka.uint32View[0],t=e>>23&511;return Ka.baseTable[t]+((e&8388607)>>Ka.shiftTable[t])}function zh(n){const e=n>>10;return Ka.uint32View[0]=Ka.mantissaTable[Ka.offsetTable[e]+(n&1023)]+Ka.exponentTable[e],Ka.floatView[0]}const Ate={toHalfFloat:oi,fromHalfFloat:zh},Qn=new $,hv=new Ne;class hn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=$p,this.updateRange={offset:0,count:-1},this.gpuType=da,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)hv.fromBufferAttribute(this,t),hv.applyMatrix3(e),this.setXY(t,hv.x,hv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.applyMatrix3(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.applyMatrix4(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.applyNormalMatrix(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Qn.fromBufferAttribute(this,t),Qn.transformDirection(e),this.setXYZ(t,Qn.x,Qn.y,Qn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=hi(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Ot(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=hi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=hi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=hi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=hi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array),s=Ot(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==$p&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Rte extends hn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Pte extends hn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Ite extends hn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Dte extends hn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class MC extends hn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class kte extends hn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class TC extends hn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Lte extends hn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=zh(this.array[e*this.itemSize]);return this.normalized&&(t=hi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize]=oi(t),this}getY(e){let t=zh(this.array[e*this.itemSize+1]);return this.normalized&&(t=hi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+1]=oi(t),this}getZ(e){let t=zh(this.array[e*this.itemSize+2]);return this.normalized&&(t=hi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+2]=oi(t),this}getW(e){let t=zh(this.array[e*this.itemSize+3]);return this.normalized&&(t=hi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.array[e*this.itemSize+3]=oi(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array)),this.array[e+0]=oi(t),this.array[e+1]=oi(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array)),this.array[e+0]=oi(t),this.array[e+1]=oi(r),this.array[e+2]=oi(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array),s=Ot(s,this.array)),this.array[e+0]=oi(t),this.array[e+1]=oi(r),this.array[e+2]=oi(i),this.array[e+3]=oi(s),this}}class ot extends hn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Ote extends hn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let jte=0;const es=new Pt,q1=new tn,zu=new $,Ri=new Na,Sh=new Na,hr=new $;class Ut extends Eo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jte++}),this.uuid=Ui(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(P5(e)?TC:MC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Ft().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return es.makeRotationFromQuaternion(e),this.applyMatrix4(es),this}rotateX(e){return es.makeRotationX(e),this.applyMatrix4(es),this}rotateY(e){return es.makeRotationY(e),this.applyMatrix4(es),this}rotateZ(e){return es.makeRotationZ(e),this.applyMatrix4(es),this}translate(e,t,r){return es.makeTranslation(e,t,r),this.applyMatrix4(es),this}scale(e,t,r){return es.makeScale(e,t,r),this.applyMatrix4(es),this}lookAt(e){return q1.lookAt(e),q1.updateMatrix(),this.applyMatrix4(q1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zu).negate(),this.translate(zu.x,zu.y,zu.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ot(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Na);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Ri.setFromBufferAttribute(s),this.morphTargetsRelative?(hr.addVectors(this.boundingBox.min,Ri.min),this.boundingBox.expandByPoint(hr),hr.addVectors(this.boundingBox.max,Ri.max),this.boundingBox.expandByPoint(hr)):(this.boundingBox.expandByPoint(Ri.min),this.boundingBox.expandByPoint(Ri.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Us);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $,1/0);return}if(e){const r=this.boundingSphere.center;if(Ri.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];Sh.setFromBufferAttribute(o),this.morphTargetsRelative?(hr.addVectors(Ri.min,Sh.min),Ri.expandByPoint(hr),hr.addVectors(Ri.max,Sh.max),Ri.expandByPoint(hr)):(Ri.expandByPoint(Sh.min),Ri.expandByPoint(Sh.max))}Ri.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)hr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(hr));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let u=0,h=o.count;u<h;u++)hr.fromBufferAttribute(o,u),l&&(zu.fromBufferAttribute(e,u),hr.add(zu)),i=Math.max(i,r.distanceToSquared(hr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,a=t.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new hn(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let R=0;R<o;R++)u[R]=new $,h[R]=new $;const p=new $,m=new $,g=new $,v=new Ne,y=new Ne,w=new Ne,x=new $,b=new $;function S(R,U,V){p.fromArray(i,R*3),m.fromArray(i,U*3),g.fromArray(i,V*3),v.fromArray(a,R*2),y.fromArray(a,U*2),w.fromArray(a,V*2),m.sub(p),g.sub(p),y.sub(v),w.sub(v);const J=1/(y.x*w.y-w.x*y.y);isFinite(J)&&(x.copy(m).multiplyScalar(w.y).addScaledVector(g,-y.y).multiplyScalar(J),b.copy(g).multiplyScalar(y.x).addScaledVector(m,-w.x).multiplyScalar(J),u[R].add(x),u[U].add(x),u[V].add(x),h[R].add(b),h[U].add(b),h[V].add(b))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let R=0,U=T.length;R<U;++R){const V=T[R],J=V.start,z=V.count;for(let Q=J,W=J+z;Q<W;Q+=3)S(r[Q+0],r[Q+1],r[Q+2])}const C=new $,P=new $,A=new $,k=new $;function I(R){A.fromArray(s,R*3),k.copy(A);const U=u[R];C.copy(U),C.sub(A.multiplyScalar(A.dot(U))).normalize(),P.crossVectors(k,U);const J=P.dot(h[R])<0?-1:1;l[R*4]=C.x,l[R*4+1]=C.y,l[R*4+2]=C.z,l[R*4+3]=J}for(let R=0,U=T.length;R<U;++R){const V=T[R],J=V.start,z=V.count;for(let Q=J,W=J+z;Q<W;Q+=3)I(r[Q+0]),I(r[Q+1]),I(r[Q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new hn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let m=0,g=r.count;m<g;m++)r.setXYZ(m,0,0,0);const i=new $,s=new $,a=new $,o=new $,l=new $,u=new $,h=new $,p=new $;if(e)for(let m=0,g=e.count;m<g;m+=3){const v=e.getX(m+0),y=e.getX(m+1),w=e.getX(m+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),a.fromBufferAttribute(t,w),h.subVectors(a,s),p.subVectors(i,s),h.cross(p),o.fromBufferAttribute(r,v),l.fromBufferAttribute(r,y),u.fromBufferAttribute(r,w),o.add(h),l.add(h),u.add(h),r.setXYZ(v,o.x,o.y,o.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(w,u.x,u.y,u.z)}else for(let m=0,g=t.count;m<g;m+=3)i.fromBufferAttribute(t,m+0),s.fromBufferAttribute(t,m+1),a.fromBufferAttribute(t,m+2),h.subVectors(a,s),p.subVectors(i,s),h.cross(p),r.setXYZ(m+0,h.x,h.y,h.z),r.setXYZ(m+1,h.x,h.y,h.z),r.setXYZ(m+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)hr.fromBufferAttribute(e,t),hr.normalize(),e.setXYZ(t,hr.x,hr.y,hr.z)}toNonIndexed(){function e(o,l){const u=o.array,h=o.itemSize,p=o.normalized,m=new u.constructor(l.length*h);let g=0,v=0;for(let y=0,w=l.length;y<w;y++){o.isInterleavedBufferAttribute?g=l[y]*o.data.stride+o.offset:g=l[y]*h;for(let x=0;x<h;x++)m[v++]=u[g++]}return new hn(m,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ut,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,r);t.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let h=0,p=u.length;h<p;h++){const m=u[h],g=e(m,r);l.push(g)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let p=0,m=u.length;p<m;p++){const g=u[p];h.push(g.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(t))}const s=e.morphAttributes;for(const u in s){const h=[],p=s[u];for(let m=0,g=p.length;m<g;m++)h.push(p[m].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,h=a.length;u<h;u++){const p=a[u];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const UP=new Pt,tc=new Lf,pv=new Us,zP=new $,Bu=new $,Vu=new $,Hu=new $,Z1=new $,mv=new $,gv=new Ne,vv=new Ne,xv=new Ne,BP=new $,VP=new $,HP=new $,yv=new $,wv=new $;class Er extends tn{constructor(e=new Ut,t=new Bl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){mv.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=o[l],p=s[l];h!==0&&(Z1.fromBufferAttribute(p,e),a?mv.addScaledVector(Z1,h):mv.addScaledVector(Z1.sub(t),h))}t.add(mv)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),pv.copy(r.boundingSphere),pv.applyMatrix4(s),tc.copy(e.ray).recast(e.near),!(pv.containsPoint(tc.origin)===!1&&(tc.intersectSphere(pv,zP)===null||tc.origin.distanceToSquared(zP)>(e.far-e.near)**2))&&(UP.copy(s).invert(),tc.copy(e.ray).applyMatrix4(UP),!(r.boundingBox!==null&&tc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,tc)))}_computeIntersections(e,t,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,p=s.attributes.normal,m=s.groups,g=s.drawRange;if(o!==null)if(Array.isArray(a))for(let v=0,y=m.length;v<y;v++){const w=m[v],x=a[w.materialIndex],b=Math.max(w.start,g.start),S=Math.min(o.count,Math.min(w.start+w.count,g.start+g.count));for(let T=b,C=S;T<C;T+=3){const P=o.getX(T),A=o.getX(T+1),k=o.getX(T+2);i=_v(this,x,e,r,u,h,p,P,A,k),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const v=Math.max(0,g.start),y=Math.min(o.count,g.start+g.count);for(let w=v,x=y;w<x;w+=3){const b=o.getX(w),S=o.getX(w+1),T=o.getX(w+2);i=_v(this,a,e,r,u,h,p,b,S,T),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,y=m.length;v<y;v++){const w=m[v],x=a[w.materialIndex],b=Math.max(w.start,g.start),S=Math.min(l.count,Math.min(w.start+w.count,g.start+g.count));for(let T=b,C=S;T<C;T+=3){const P=T,A=T+1,k=T+2;i=_v(this,x,e,r,u,h,p,P,A,k),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let w=v,x=y;w<x;w+=3){const b=w,S=w+1,T=w+2;i=_v(this,a,e,r,u,h,p,b,S,T),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}}}function Fte(n,e,t,r,i,s,a,o){let l;if(e.side===Jr?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===mo,o),l===null)return null;wv.copy(o),wv.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(wv);return u<t.near||u>t.far?null:{distance:u,point:wv.clone(),object:n}}function _v(n,e,t,r,i,s,a,o,l,u){n.getVertexPosition(o,Bu),n.getVertexPosition(l,Vu),n.getVertexPosition(u,Hu);const h=Fte(n,e,t,r,Bu,Vu,Hu,yv);if(h){i&&(gv.fromBufferAttribute(i,o),vv.fromBufferAttribute(i,l),xv.fromBufferAttribute(i,u),h.uv=di.getInterpolation(yv,Bu,Vu,Hu,gv,vv,xv,new Ne)),s&&(gv.fromBufferAttribute(s,o),vv.fromBufferAttribute(s,l),xv.fromBufferAttribute(s,u),h.uv1=di.getInterpolation(yv,Bu,Vu,Hu,gv,vv,xv,new Ne),h.uv2=h.uv1),a&&(BP.fromBufferAttribute(a,o),VP.fromBufferAttribute(a,l),HP.fromBufferAttribute(a,u),h.normal=di.getInterpolation(yv,Bu,Vu,Hu,BP,VP,HP,new $),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const p={a:o,b:l,c:u,normal:new $,materialIndex:0};di.getNormal(Bu,Vu,Hu,p.normal),h.face=p}return h}class su extends Ut{constructor(e=1,t=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],h=[],p=[];let m=0,g=0;v("z","y","x",-1,-1,r,t,e,a,s,0),v("z","y","x",1,-1,r,t,-e,a,s,1),v("x","z","y",1,1,e,r,t,i,a,2),v("x","z","y",1,-1,e,r,-t,i,a,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ot(u,3)),this.setAttribute("normal",new ot(h,3)),this.setAttribute("uv",new ot(p,2));function v(y,w,x,b,S,T,C,P,A,k,I){const R=T/A,U=C/k,V=T/2,J=C/2,z=P/2,Q=A+1,W=k+1;let te=0,O=0;const B=new $;for(let Y=0;Y<W;Y++){const L=Y*U-J;for(let Z=0;Z<Q;Z++){const oe=Z*R-V;B[y]=oe*b,B[w]=L*S,B[x]=z,u.push(B.x,B.y,B.z),B[y]=0,B[w]=0,B[x]=P>0?1:-1,h.push(B.x,B.y,B.z),p.push(Z/A),p.push(1-Y/k),te+=1}}for(let Y=0;Y<k;Y++)for(let L=0;L<A;L++){const Z=m+L+Q*Y,oe=m+L+Q*(Y+1),de=m+(L+1)+Q*(Y+1),ye=m+(L+1)+Q*Y;l.push(Z,oe,ye),l.push(oe,de,ye),O+=6}o.addGroup(g,O,I),g+=O,m+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new su(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function of(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function $r(n){const e={};for(let t=0;t<n.length;t++){const r=of(n[t]);for(const i in r)e[i]=r[i]}return e}function Ute(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function L5(n){return n.getRenderTarget()===null?n.outputColorSpace:on.workingColorSpace}const O5={clone:of,merge:$r};var zte=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Bte=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ma extends Cr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=zte,this.fragmentShader=Bte,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=of(e.uniforms),this.uniformsGroups=Ute(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class bm extends tn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pt,this.projectionMatrix=new Pt,this.projectionMatrixInverse=new Pt,this.coordinateSystem=fa}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class gr extends bm{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=af*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Oc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return af*2*Math.atan(Math.tan(Oc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Oc*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/l,t-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Wu=-90,Gu=1;class j5 extends tn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new gr(Wu,Gu,e,t);i.layers=this.layers,this.add(i);const s=new gr(Wu,Gu,e,t);s.layers=this.layers,this.add(s);const a=new gr(Wu,Gu,e,t);a.layers=this.layers,this.add(a);const o=new gr(Wu,Gu,e,t);o.layers=this.layers,this.add(o);const l=new gr(Wu,Gu,e,t);l.layers=this.layers,this.add(l);const u=new gr(Wu,Gu,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,a,o,l]=t;for(const u of t)this.remove(u);if(e===fa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Xp)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,u,h]=this.children,p=e.getRenderTarget(),m=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,a),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,u),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(t,h),e.setRenderTarget(p,m,g),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Em extends Bn{constructor(e,t,r,i,s,a,o,l,u,h){e=e!==void 0?e:[],t=t!==void 0?t:go,super(e,t,r,i,s,a,o,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class F5 extends Ls{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(ap("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===yl?sr:Li),this.texture=new Em(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:$n}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new su(5,5,5),s=new Ma({name:"CubemapFromEquirect",uniforms:of(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Jr,blending:so});s.uniforms.tEquirect.value=t;const a=new Er(i,s),o=t.minFilter;return t.minFilter===Pl&&(t.minFilter=$n),new j5(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,i);e.setRenderTarget(s)}}const K1=new $,Vte=new $,Hte=new Ft;class qo{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=K1.subVectors(r,t).cross(Vte.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(K1),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Hte.getNormalMatrix(e),i=this.coplanarPoint(K1).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const nc=new Us,Sv=new $;class Qy{constructor(e=new qo,t=new qo,r=new qo,i=new qo,s=new qo,a=new qo){this.planes=[e,t,r,i,s,a]}set(e,t,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=fa){const r=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],h=i[5],p=i[6],m=i[7],g=i[8],v=i[9],y=i[10],w=i[11],x=i[12],b=i[13],S=i[14],T=i[15];if(r[0].setComponents(l-s,m-u,w-g,T-x).normalize(),r[1].setComponents(l+s,m+u,w+g,T+x).normalize(),r[2].setComponents(l+a,m+h,w+v,T+b).normalize(),r[3].setComponents(l-a,m-h,w-v,T-b).normalize(),r[4].setComponents(l-o,m-p,w-y,T-S).normalize(),t===fa)r[5].setComponents(l+o,m+p,w+y,T+S).normalize();else if(t===Xp)r[5].setComponents(o,p,y,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),nc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),nc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(nc)}intersectsSprite(e){return nc.center.set(0,0,0),nc.radius=.7071067811865476,nc.applyMatrix4(e.matrixWorld),this.intersectsSphere(nc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Sv.x=i.normal.x>0?e.max.x:e.min.x,Sv.y=i.normal.y>0?e.max.y:e.min.y,Sv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Sv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function U5(){let n=null,e=!1,t=null,r=null;function i(s,a){t(s,a),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Wte(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,h){const p=u.array,m=u.usage,g=n.createBuffer();n.bindBuffer(h,g),n.bufferData(h,p,m),u.onUploadCallback();let v;if(p instanceof Float32Array)v=n.FLOAT;else if(p instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)v=n.SHORT;else if(p instanceof Uint32Array)v=n.UNSIGNED_INT;else if(p instanceof Int32Array)v=n.INT;else if(p instanceof Int8Array)v=n.BYTE;else if(p instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:g,type:v,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version}}function s(u,h,p){const m=h.array,g=h.updateRange;n.bindBuffer(p,u),g.count===-1?n.bufferSubData(p,0,m):(t?n.bufferSubData(p,g.offset*m.BYTES_PER_ELEMENT,m,g.offset,g.count):n.bufferSubData(p,g.offset*m.BYTES_PER_ELEMENT,m.subarray(g.offset,g.offset+g.count)),g.count=-1),h.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function o(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h&&(n.deleteBuffer(h.buffer),r.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const m=r.get(u);(!m||m.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const p=r.get(u);p===void 0?r.set(u,i(u,h)):p.version<u.version&&(s(p.buffer,u,h),p.version=u.version)}return{get:a,remove:o,update:l}}class Mm extends Ut{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,a=t/2,o=Math.floor(r),l=Math.floor(i),u=o+1,h=l+1,p=e/o,m=t/l,g=[],v=[],y=[],w=[];for(let x=0;x<h;x++){const b=x*m-a;for(let S=0;S<u;S++){const T=S*p-s;v.push(T,-b,0),y.push(0,0,1),w.push(S/o),w.push(1-x/l)}}for(let x=0;x<l;x++)for(let b=0;b<o;b++){const S=b+u*x,T=b+u*(x+1),C=b+1+u*(x+1),P=b+1+u*x;g.push(S,T,P),g.push(T,C,P)}this.setIndex(g),this.setAttribute("position",new ot(v,3)),this.setAttribute("normal",new ot(y,3)),this.setAttribute("uv",new ot(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mm(e.width,e.height,e.widthSegments,e.heightSegments)}}var Gte=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,$te=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Xte=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Yte=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qte=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Zte=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Kte=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Jte=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Qte=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ene=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tne=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,nne=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,rne=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ine=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,sne=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ane=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,one=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lne=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cne=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,une=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,dne=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,fne=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,hne=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pne=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mne=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gne=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,vne=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,xne=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,yne="gl_FragColor = linearToOutputTexel( gl_FragColor );",wne=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,_ne=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Sne=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,bne=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ene=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Mne=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Tne=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Cne=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Nne=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Ane=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Rne=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Pne=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Ine=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Dne=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kne=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Lne=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,One=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,jne=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Fne=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Une=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,zne=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Bne=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Vne=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Hne=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal;
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Wne=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Gne=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,$ne=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Xne=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Yne=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,qne=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Zne=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Kne=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Jne=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Qne=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ere=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,tre=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nre=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rre=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ire=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,sre=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,are=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ore=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lre=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cre=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ure=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,dre=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,fre=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,hre=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,pre=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,mre=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gre=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,vre=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,xre=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,yre=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,wre=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_re=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Sre=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,bre=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ere=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Mre=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Tre=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Cre=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Nre=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Are=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Rre=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Pre=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ire=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Dre=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,kre=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Lre=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Ore=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,jre=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Fre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ure=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Bre=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Vre=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Hre=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Gre=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$re=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Xre=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Yre=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qre=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Zre=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Kre=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Jre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Qre=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eie=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tie=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nie=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rie=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iie=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sie=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aie=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,oie=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lie=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cie=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,uie=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,die=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fie=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,hie=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pie=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mie=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gie=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,vie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xie=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yie=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,wie=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_ie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Lt={alphahash_fragment:Gte,alphahash_pars_fragment:$te,alphamap_fragment:Xte,alphamap_pars_fragment:Yte,alphatest_fragment:qte,alphatest_pars_fragment:Zte,aomap_fragment:Kte,aomap_pars_fragment:Jte,begin_vertex:Qte,beginnormal_vertex:ene,bsdfs:tne,iridescence_fragment:nne,bumpmap_pars_fragment:rne,clipping_planes_fragment:ine,clipping_planes_pars_fragment:sne,clipping_planes_pars_vertex:ane,clipping_planes_vertex:one,color_fragment:lne,color_pars_fragment:cne,color_pars_vertex:une,color_vertex:dne,common:fne,cube_uv_reflection_fragment:hne,defaultnormal_vertex:pne,displacementmap_pars_vertex:mne,displacementmap_vertex:gne,emissivemap_fragment:vne,emissivemap_pars_fragment:xne,colorspace_fragment:yne,colorspace_pars_fragment:wne,envmap_fragment:_ne,envmap_common_pars_fragment:Sne,envmap_pars_fragment:bne,envmap_pars_vertex:Ene,envmap_physical_pars_fragment:One,envmap_vertex:Mne,fog_vertex:Tne,fog_pars_vertex:Cne,fog_fragment:Nne,fog_pars_fragment:Ane,gradientmap_pars_fragment:Rne,lightmap_fragment:Pne,lightmap_pars_fragment:Ine,lights_lambert_fragment:Dne,lights_lambert_pars_fragment:kne,lights_pars_begin:Lne,lights_toon_fragment:jne,lights_toon_pars_fragment:Fne,lights_phong_fragment:Une,lights_phong_pars_fragment:zne,lights_physical_fragment:Bne,lights_physical_pars_fragment:Vne,lights_fragment_begin:Hne,lights_fragment_maps:Wne,lights_fragment_end:Gne,logdepthbuf_fragment:$ne,logdepthbuf_pars_fragment:Xne,logdepthbuf_pars_vertex:Yne,logdepthbuf_vertex:qne,map_fragment:Zne,map_pars_fragment:Kne,map_particle_fragment:Jne,map_particle_pars_fragment:Qne,metalnessmap_fragment:ere,metalnessmap_pars_fragment:tre,morphcolor_vertex:nre,morphnormal_vertex:rre,morphtarget_pars_vertex:ire,morphtarget_vertex:sre,normal_fragment_begin:are,normal_fragment_maps:ore,normal_pars_fragment:lre,normal_pars_vertex:cre,normal_vertex:ure,normalmap_pars_fragment:dre,clearcoat_normal_fragment_begin:fre,clearcoat_normal_fragment_maps:hre,clearcoat_pars_fragment:pre,iridescence_pars_fragment:mre,opaque_fragment:gre,packing:vre,premultiplied_alpha_fragment:xre,project_vertex:yre,dithering_fragment:wre,dithering_pars_fragment:_re,roughnessmap_fragment:Sre,roughnessmap_pars_fragment:bre,shadowmap_pars_fragment:Ere,shadowmap_pars_vertex:Mre,shadowmap_vertex:Tre,shadowmask_pars_fragment:Cre,skinbase_vertex:Nre,skinning_pars_vertex:Are,skinning_vertex:Rre,skinnormal_vertex:Pre,specularmap_fragment:Ire,specularmap_pars_fragment:Dre,tonemapping_fragment:kre,tonemapping_pars_fragment:Lre,transmission_fragment:Ore,transmission_pars_fragment:jre,uv_pars_fragment:Fre,uv_pars_vertex:Ure,uv_vertex:zre,worldpos_vertex:Bre,background_vert:Vre,background_frag:Hre,backgroundCube_vert:Wre,backgroundCube_frag:Gre,cube_vert:$re,cube_frag:Xre,depth_vert:Yre,depth_frag:qre,distanceRGBA_vert:Zre,distanceRGBA_frag:Kre,equirect_vert:Jre,equirect_frag:Qre,linedashed_vert:eie,linedashed_frag:tie,meshbasic_vert:nie,meshbasic_frag:rie,meshlambert_vert:iie,meshlambert_frag:sie,meshmatcap_vert:aie,meshmatcap_frag:oie,meshnormal_vert:lie,meshnormal_frag:cie,meshphong_vert:uie,meshphong_frag:die,meshphysical_vert:fie,meshphysical_frag:hie,meshtoon_vert:pie,meshtoon_frag:mie,points_vert:gie,points_frag:vie,shadow_vert:xie,shadow_frag:yie,sprite_vert:wie,sprite_frag:_ie},Xe={common:{diffuse:{value:new it(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ft},alphaMap:{value:null},alphaMapTransform:{value:new Ft},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ft}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ft}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ft}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ft},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ft},normalScale:{value:new Ne(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ft},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ft}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ft}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ft}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new it(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new it(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ft},alphaTest:{value:0},uvTransform:{value:new Ft}},sprite:{diffuse:{value:new it(16777215)},opacity:{value:1},center:{value:new Ne(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ft},alphaMap:{value:null},alphaMapTransform:{value:new Ft},alphaTest:{value:0}}},Cs={basic:{uniforms:$r([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.fog]),vertexShader:Lt.meshbasic_vert,fragmentShader:Lt.meshbasic_frag},lambert:{uniforms:$r([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new it(0)}}]),vertexShader:Lt.meshlambert_vert,fragmentShader:Lt.meshlambert_frag},phong:{uniforms:$r([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new it(0)},specular:{value:new it(1118481)},shininess:{value:30}}]),vertexShader:Lt.meshphong_vert,fragmentShader:Lt.meshphong_frag},standard:{uniforms:$r([Xe.common,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.roughnessmap,Xe.metalnessmap,Xe.fog,Xe.lights,{emissive:{value:new it(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag},toon:{uniforms:$r([Xe.common,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.gradientmap,Xe.fog,Xe.lights,{emissive:{value:new it(0)}}]),vertexShader:Lt.meshtoon_vert,fragmentShader:Lt.meshtoon_frag},matcap:{uniforms:$r([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,{matcap:{value:null}}]),vertexShader:Lt.meshmatcap_vert,fragmentShader:Lt.meshmatcap_frag},points:{uniforms:$r([Xe.points,Xe.fog]),vertexShader:Lt.points_vert,fragmentShader:Lt.points_frag},dashed:{uniforms:$r([Xe.common,Xe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lt.linedashed_vert,fragmentShader:Lt.linedashed_frag},depth:{uniforms:$r([Xe.common,Xe.displacementmap]),vertexShader:Lt.depth_vert,fragmentShader:Lt.depth_frag},normal:{uniforms:$r([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,{opacity:{value:1}}]),vertexShader:Lt.meshnormal_vert,fragmentShader:Lt.meshnormal_frag},sprite:{uniforms:$r([Xe.sprite,Xe.fog]),vertexShader:Lt.sprite_vert,fragmentShader:Lt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ft},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Lt.background_vert,fragmentShader:Lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Lt.backgroundCube_vert,fragmentShader:Lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Lt.cube_vert,fragmentShader:Lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lt.equirect_vert,fragmentShader:Lt.equirect_frag},distanceRGBA:{uniforms:$r([Xe.common,Xe.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lt.distanceRGBA_vert,fragmentShader:Lt.distanceRGBA_frag},shadow:{uniforms:$r([Xe.lights,Xe.fog,{color:{value:new it(0)},opacity:{value:1}}]),vertexShader:Lt.shadow_vert,fragmentShader:Lt.shadow_frag}};Cs.physical={uniforms:$r([Cs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ft},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ft},clearcoatNormalScale:{value:new Ne(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ft},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ft},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ft},sheen:{value:0},sheenColor:{value:new it(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ft},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ft},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ft},transmissionSamplerSize:{value:new Ne},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ft},attenuationDistance:{value:0},attenuationColor:{value:new it(0)},specularColor:{value:new it(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ft},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ft},anisotropyVector:{value:new Ne},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ft}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag};const bv={r:0,b:0,g:0};function Sie(n,e,t,r,i,s,a){const o=new it(0);let l=s===!0?0:1,u,h,p=null,m=0,g=null;function v(w,x){let b=!1,S=x.isScene===!0?x.background:null;S&&S.isTexture&&(S=(x.backgroundBlurriness>0?t:e).get(S)),S===null?y(o,l):S&&S.isColor&&(y(S,1),b=!0);const T=n.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,a):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(n.autoClear||b)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===kf)?(h===void 0&&(h=new Er(new su(1,1,1),new Ma({name:"BackgroundCubeMaterial",uniforms:of(Cs.backgroundCube.uniforms),vertexShader:Cs.backgroundCube.vertexShader,fragmentShader:Cs.backgroundCube.fragmentShader,side:Jr,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(C,P,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=S,h.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,h.material.toneMapped=on.getTransfer(S.colorSpace)!==mn,(p!==S||m!==S.version||g!==n.toneMapping)&&(h.material.needsUpdate=!0,p=S,m=S.version,g=n.toneMapping),h.layers.enableAll(),w.unshift(h,h.geometry,h.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new Er(new Mm(2,2),new Ma({name:"BackgroundMaterial",uniforms:of(Cs.background.uniforms),vertexShader:Cs.background.vertexShader,fragmentShader:Cs.background.fragmentShader,side:mo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=on.getTransfer(S.colorSpace)!==mn,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(p!==S||m!==S.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,p=S,m=S.version,g=n.toneMapping),u.layers.enableAll(),w.unshift(u,u.geometry,u.material,0,0,null))}function y(w,x){w.getRGB(bv,L5(n)),r.buffers.color.setClear(bv.r,bv.g,bv.b,x,a)}return{getClearColor:function(){return o},setClearColor:function(w,x=1){o.set(w),l=x,y(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,y(o,l)},render:v}}function bie(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||s!==null,o={},l=w(null);let u=l,h=!1;function p(z,Q,W,te,O){let B=!1;if(a){const Y=y(te,W,Q);u!==Y&&(u=Y,g(u.object)),B=x(z,te,W,O),B&&b(z,te,W,O)}else{const Y=Q.wireframe===!0;(u.geometry!==te.id||u.program!==W.id||u.wireframe!==Y)&&(u.geometry=te.id,u.program=W.id,u.wireframe=Y,B=!0)}O!==null&&t.update(O,n.ELEMENT_ARRAY_BUFFER),(B||h)&&(h=!1,k(z,Q,W,te),O!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(O).buffer))}function m(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(z){return r.isWebGL2?n.bindVertexArray(z):s.bindVertexArrayOES(z)}function v(z){return r.isWebGL2?n.deleteVertexArray(z):s.deleteVertexArrayOES(z)}function y(z,Q,W){const te=W.wireframe===!0;let O=o[z.id];O===void 0&&(O={},o[z.id]=O);let B=O[Q.id];B===void 0&&(B={},O[Q.id]=B);let Y=B[te];return Y===void 0&&(Y=w(m()),B[te]=Y),Y}function w(z){const Q=[],W=[],te=[];for(let O=0;O<i;O++)Q[O]=0,W[O]=0,te[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:W,attributeDivisors:te,object:z,attributes:{},index:null}}function x(z,Q,W,te){const O=u.attributes,B=Q.attributes;let Y=0;const L=W.getAttributes();for(const Z in L)if(L[Z].location>=0){const de=O[Z];let ye=B[Z];if(ye===void 0&&(Z==="instanceMatrix"&&z.instanceMatrix&&(ye=z.instanceMatrix),Z==="instanceColor"&&z.instanceColor&&(ye=z.instanceColor)),de===void 0||de.attribute!==ye||ye&&de.data!==ye.data)return!0;Y++}return u.attributesNum!==Y||u.index!==te}function b(z,Q,W,te){const O={},B=Q.attributes;let Y=0;const L=W.getAttributes();for(const Z in L)if(L[Z].location>=0){let de=B[Z];de===void 0&&(Z==="instanceMatrix"&&z.instanceMatrix&&(de=z.instanceMatrix),Z==="instanceColor"&&z.instanceColor&&(de=z.instanceColor));const ye={};ye.attribute=de,de&&de.data&&(ye.data=de.data),O[Z]=ye,Y++}u.attributes=O,u.attributesNum=Y,u.index=te}function S(){const z=u.newAttributes;for(let Q=0,W=z.length;Q<W;Q++)z[Q]=0}function T(z){C(z,0)}function C(z,Q){const W=u.newAttributes,te=u.enabledAttributes,O=u.attributeDivisors;W[z]=1,te[z]===0&&(n.enableVertexAttribArray(z),te[z]=1),O[z]!==Q&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,Q),O[z]=Q)}function P(){const z=u.newAttributes,Q=u.enabledAttributes;for(let W=0,te=Q.length;W<te;W++)Q[W]!==z[W]&&(n.disableVertexAttribArray(W),Q[W]=0)}function A(z,Q,W,te,O,B,Y){Y===!0?n.vertexAttribIPointer(z,Q,W,O,B):n.vertexAttribPointer(z,Q,W,te,O,B)}function k(z,Q,W,te){if(r.isWebGL2===!1&&(z.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const O=te.attributes,B=W.getAttributes(),Y=Q.defaultAttributeValues;for(const L in B){const Z=B[L];if(Z.location>=0){let oe=O[L];if(oe===void 0&&(L==="instanceMatrix"&&z.instanceMatrix&&(oe=z.instanceMatrix),L==="instanceColor"&&z.instanceColor&&(oe=z.instanceColor)),oe!==void 0){const de=oe.normalized,ye=oe.itemSize,we=t.get(oe);if(we===void 0)continue;const ne=we.buffer,fe=we.type,Le=we.bytesPerElement,ke=r.isWebGL2===!0&&(fe===n.INT||fe===n.UNSIGNED_INT||oe.gpuType===pC);if(oe.isInterleavedBufferAttribute){const Re=oe.data,X=Re.stride,Ee=oe.offset;if(Re.isInstancedInterleavedBuffer){for(let pe=0;pe<Z.locationSize;pe++)C(Z.location+pe,Re.meshPerAttribute);z.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let pe=0;pe<Z.locationSize;pe++)T(Z.location+pe);n.bindBuffer(n.ARRAY_BUFFER,ne);for(let pe=0;pe<Z.locationSize;pe++)A(Z.location+pe,ye/Z.locationSize,fe,de,X*Le,(Ee+ye/Z.locationSize*pe)*Le,ke)}else{if(oe.isInstancedBufferAttribute){for(let Re=0;Re<Z.locationSize;Re++)C(Z.location+Re,oe.meshPerAttribute);z.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let Re=0;Re<Z.locationSize;Re++)T(Z.location+Re);n.bindBuffer(n.ARRAY_BUFFER,ne);for(let Re=0;Re<Z.locationSize;Re++)A(Z.location+Re,ye/Z.locationSize,fe,de,ye*Le,ye/Z.locationSize*Re*Le,ke)}}else if(Y!==void 0){const de=Y[L];if(de!==void 0)switch(de.length){case 2:n.vertexAttrib2fv(Z.location,de);break;case 3:n.vertexAttrib3fv(Z.location,de);break;case 4:n.vertexAttrib4fv(Z.location,de);break;default:n.vertexAttrib1fv(Z.location,de)}}}}P()}function I(){V();for(const z in o){const Q=o[z];for(const W in Q){const te=Q[W];for(const O in te)v(te[O].object),delete te[O];delete Q[W]}delete o[z]}}function R(z){if(o[z.id]===void 0)return;const Q=o[z.id];for(const W in Q){const te=Q[W];for(const O in te)v(te[O].object),delete te[O];delete Q[W]}delete o[z.id]}function U(z){for(const Q in o){const W=o[Q];if(W[z.id]===void 0)continue;const te=W[z.id];for(const O in te)v(te[O].object),delete te[O];delete W[z.id]}}function V(){J(),h=!0,u!==l&&(u=l,g(u.object))}function J(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:V,resetDefaultState:J,dispose:I,releaseStatesOfGeometry:R,releaseStatesOfProgram:U,initAttributes:S,enableAttribute:T,disableUnusedAttributes:P}}function Eie(n,e,t,r){const i=r.isWebGL2;let s;function a(u){s=u}function o(u,h){n.drawArrays(s,u,h),t.update(h,s,1)}function l(u,h,p){if(p===0)return;let m,g;if(i)m=n,g="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[g](s,u,h,p),t.update(h,s,p)}this.setMode=a,this.render=o,this.renderInstances=l}function Mie(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(A){if(A==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let o=t.precision!==void 0?t.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const u=a||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),x=n.getParameter(n.MAX_VARYING_VECTORS),b=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=m>0,T=a||e.has("OES_texture_float"),C=S&&T,P=a?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:w,maxVaryings:x,maxFragmentUniforms:b,vertexTextures:S,floatFragmentTextures:T,floatVertexTextures:C,maxSamples:P}}function Tie(n){const e=this;let t=null,r=0,i=!1,s=!1;const a=new qo,o=new Ft,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m){const g=p.length!==0||m||r!==0||i;return i=m,r=p.length,g},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,m){t=h(p,m,0)},this.setState=function(p,m,g){const v=p.clippingPlanes,y=p.clipIntersection,w=p.clipShadows,x=n.get(p);if(!i||v===null||v.length===0||s&&!w)s?h(null):u();else{const b=s?0:r,S=b*4;let T=x.clippingState||null;l.value=T,T=h(v,m,S,g);for(let C=0;C!==S;++C)T[C]=t[C];x.clippingState=T,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=b}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,m,g,v){const y=p!==null?p.length:0;let w=null;if(y!==0){if(w=l.value,v!==!0||w===null){const x=g+y*4,b=m.matrixWorldInverse;o.getNormalMatrix(b),(w===null||w.length<x)&&(w=new Float32Array(x));for(let S=0,T=g;S!==y;++S,T+=4)a.copy(p[S]).applyMatrix4(b,o),a.normal.toArray(w,T),w[T+3]=a.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,w}}function Cie(n){let e=new WeakMap;function t(a,o){return o===Op?a.mapping=go:o===jp&&(a.mapping=Rl),a}function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping;if(o===Op||o===jp)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new F5(l.height/2);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",i),t(u.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Tm extends bm{constructor(e=-1,t=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=h*this.view.offsetY,l=o-h*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const xd=4,WP=[.125,.215,.35,.446,.526,.582],pc=20,J1=new Tm,GP=new it;let Q1=null;const dc=(1+Math.sqrt(5))/2,$u=1/dc,$P=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,dc,$u),new $(0,dc,-$u),new $($u,0,dc),new $(-$u,0,dc),new $(dc,$u,0),new $(-dc,$u,0)];class VE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Q1=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=qP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=YP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Q1),e.scissorTest=!1,Ev(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===go||e.mapping===Rl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Q1=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:$n,minFilter:$n,generateMipmaps:!1,type:sf,format:fi,colorSpace:Ea,depthBuffer:!1},i=XP(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=XP(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Nie(s)),this._blurMaterial=Aie(s,e,t)}return i}_compileMaterial(e){const t=new Er(this._lodPlanes[0],e);this._renderer.compile(t,J1)}_sceneToCubeUV(e,t,r,i){const o=new gr(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,m=h.toneMapping;h.getClearColor(GP),h.toneMapping=xa,h.autoClear=!1;const g=new Bl({name:"PMREM.Background",side:Jr,depthWrite:!1,depthTest:!1}),v=new Er(new su,g);let y=!1;const w=e.background;w?w.isColor&&(g.color.copy(w),e.background=null,y=!0):(g.color.copy(GP),y=!0);for(let x=0;x<6;x++){const b=x%3;b===0?(o.up.set(0,l[x],0),o.lookAt(u[x],0,0)):b===1?(o.up.set(0,0,l[x]),o.lookAt(0,u[x],0)):(o.up.set(0,l[x],0),o.lookAt(0,0,u[x]));const S=this._cubeSize;Ev(i,b*S,x>2?S:0,S,S),h.setRenderTarget(i),y&&h.render(v,o),h.render(e,o)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=m,h.autoClear=p,e.background=w}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===go||e.mapping===Rl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=qP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=YP());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new Er(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;Ev(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(a,J1)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=$P[(i-1)%$P.length];this._blur(e,i-1,i,s,a)}t.autoClear=r}_blur(e,t,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new Er(this._lodPlanes[i],u),m=u.uniforms,g=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*pc-1),y=s/v,w=isFinite(s)?1+Math.floor(h*y):pc;w>pc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${pc}`);const x=[];let b=0;for(let A=0;A<pc;++A){const k=A/y,I=Math.exp(-k*k/2);x.push(I),A===0?b+=I:A<w&&(b+=2*I)}for(let A=0;A<x.length;A++)x[A]=x[A]/b;m.envMap.value=e.texture,m.samples.value=w,m.weights.value=x,m.latitudinal.value=a==="latitudinal",o&&(m.poleAxis.value=o);const{_lodMax:S}=this;m.dTheta.value=v,m.mipInt.value=S-r;const T=this._sizeLods[i],C=3*T*(i>S-xd?i-S+xd:0),P=4*(this._cubeSize-T);Ev(t,C,P,3*T,2*T),l.setRenderTarget(t),l.render(p,J1)}}function Nie(n){const e=[],t=[],r=[];let i=n;const s=n-xd+1+WP.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);t.push(o);let l=1/o;a>n-xd?l=WP[a-n+xd-1]:a===0&&(l=0),r.push(l);const u=1/(o-2),h=-u,p=1+u,m=[h,h,p,h,p,p,h,h,p,p,h,p],g=6,v=6,y=3,w=2,x=1,b=new Float32Array(y*v*g),S=new Float32Array(w*v*g),T=new Float32Array(x*v*g);for(let P=0;P<g;P++){const A=P%3*2/3-1,k=P>2?0:-1,I=[A,k,0,A+2/3,k,0,A+2/3,k+1,0,A,k,0,A+2/3,k+1,0,A,k+1,0];b.set(I,y*v*P),S.set(m,w*v*P);const R=[P,P,P,P,P,P];T.set(R,x*v*P)}const C=new Ut;C.setAttribute("position",new hn(b,y)),C.setAttribute("uv",new hn(S,w)),C.setAttribute("faceIndex",new hn(T,x)),e.push(C),i>xd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function XP(n,e,t){const r=new Ls(n,e,t);return r.texture.mapping=kf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ev(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Aie(n,e,t){const r=new Float32Array(pc),i=new $(0,1,0);return new Ma({name:"SphericalGaussianBlur",defines:{n:pc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:CC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:so,depthTest:!1,depthWrite:!1})}function YP(){return new Ma({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:CC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:so,depthTest:!1,depthWrite:!1})}function qP(){return new Ma({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:CC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:so,depthTest:!1,depthWrite:!1})}function CC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Rie(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,u=l===Op||l===jp,h=l===go||l===Rl;if(u||h)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let p=e.get(o);return t===null&&(t=new VE(n)),p=u?t.fromEquirectangular(o,p):t.fromCubemap(o,p),e.set(o,p),p.texture}else{if(e.has(o))return e.get(o).texture;{const p=o.image;if(u&&p&&p.height>0||h&&p&&i(p)){t===null&&(t=new VE(n));const m=u?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,m),o.addEventListener("dispose",s),m.texture}else return null}}}return o}function i(o){let l=0;const u=6;for(let h=0;h<u;h++)o[h]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:a}}function Pie(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Iie(n,e,t,r){const i={},s=new WeakMap;function a(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const v in m.attributes)e.remove(m.attributes[v]);for(const v in m.morphAttributes){const y=m.morphAttributes[v];for(let w=0,x=y.length;w<x;w++)e.remove(y[w])}m.removeEventListener("dispose",a),delete i[m.id];const g=s.get(m);g&&(e.remove(g),s.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,t.memory.geometries--}function o(p,m){return i[m.id]===!0||(m.addEventListener("dispose",a),i[m.id]=!0,t.memory.geometries++),m}function l(p){const m=p.attributes;for(const v in m)e.update(m[v],n.ARRAY_BUFFER);const g=p.morphAttributes;for(const v in g){const y=g[v];for(let w=0,x=y.length;w<x;w++)e.update(y[w],n.ARRAY_BUFFER)}}function u(p){const m=[],g=p.index,v=p.attributes.position;let y=0;if(g!==null){const b=g.array;y=g.version;for(let S=0,T=b.length;S<T;S+=3){const C=b[S+0],P=b[S+1],A=b[S+2];m.push(C,P,P,A,A,C)}}else if(v!==void 0){const b=v.array;y=v.version;for(let S=0,T=b.length/3-1;S<T;S+=3){const C=S+0,P=S+1,A=S+2;m.push(C,P,P,A,A,C)}}else return;const w=new(P5(m)?TC:MC)(m,1);w.version=y;const x=s.get(p);x&&e.remove(x),s.set(p,w)}function h(p){const m=s.get(p);if(m){const g=p.index;g!==null&&m.version<g.version&&u(p)}else u(p);return s.get(p)}return{get:o,update:l,getWireframeAttribute:h}}function Die(n,e,t,r){const i=r.isWebGL2;let s;function a(m){s=m}let o,l;function u(m){o=m.type,l=m.bytesPerElement}function h(m,g){n.drawElements(s,g,o,m*l),t.update(g,s,1)}function p(m,g,v){if(v===0)return;let y,w;if(i)y=n,w="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[w](s,g,o,m*l,v),t.update(g,s,v)}this.setMode=a,this.setIndex=u,this.render=h,this.renderInstances=p}function kie(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Lie(n,e){return n[0]-e[0]}function Oie(n,e){return Math.abs(e[1])-Math.abs(n[1])}function jie(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,a=new ln,o=[];for(let u=0;u<8;u++)o[u]=[u,0];function l(u,h,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,v=g!==void 0?g.length:0;let y=s.get(h);if(y===void 0||y.count!==v){let z=function(){V.dispose(),s.delete(h),h.removeEventListener("dispose",z)};y!==void 0&&y.texture.dispose();const b=h.morphAttributes.position!==void 0,S=h.morphAttributes.normal!==void 0,T=h.morphAttributes.color!==void 0,C=h.morphAttributes.position||[],P=h.morphAttributes.normal||[],A=h.morphAttributes.color||[];let k=0;b===!0&&(k=1),S===!0&&(k=2),T===!0&&(k=3);let I=h.attributes.position.count*k,R=1;I>e.maxTextureSize&&(R=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const U=new Float32Array(I*R*4*v),V=new Jy(U,I,R,v);V.type=da,V.needsUpdate=!0;const J=k*4;for(let Q=0;Q<v;Q++){const W=C[Q],te=P[Q],O=A[Q],B=I*R*4*Q;for(let Y=0;Y<W.count;Y++){const L=Y*J;b===!0&&(a.fromBufferAttribute(W,Y),U[B+L+0]=a.x,U[B+L+1]=a.y,U[B+L+2]=a.z,U[B+L+3]=0),S===!0&&(a.fromBufferAttribute(te,Y),U[B+L+4]=a.x,U[B+L+5]=a.y,U[B+L+6]=a.z,U[B+L+7]=0),T===!0&&(a.fromBufferAttribute(O,Y),U[B+L+8]=a.x,U[B+L+9]=a.y,U[B+L+10]=a.z,U[B+L+11]=O.itemSize===4?a.w:1)}}y={count:v,texture:V,size:new Ne(I,R)},s.set(h,y),h.addEventListener("dispose",z)}let w=0;for(let b=0;b<m.length;b++)w+=m[b];const x=h.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",x),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const g=m===void 0?0:m.length;let v=r[h.id];if(v===void 0||v.length!==g){v=[];for(let S=0;S<g;S++)v[S]=[S,0];r[h.id]=v}for(let S=0;S<g;S++){const T=v[S];T[0]=S,T[1]=m[S]}v.sort(Oie);for(let S=0;S<8;S++)S<g&&v[S][1]?(o[S][0]=v[S][0],o[S][1]=v[S][1]):(o[S][0]=Number.MAX_SAFE_INTEGER,o[S][1]=0);o.sort(Lie);const y=h.morphAttributes.position,w=h.morphAttributes.normal;let x=0;for(let S=0;S<8;S++){const T=o[S],C=T[0],P=T[1];C!==Number.MAX_SAFE_INTEGER&&P?(y&&h.getAttribute("morphTarget"+S)!==y[C]&&h.setAttribute("morphTarget"+S,y[C]),w&&h.getAttribute("morphNormal"+S)!==w[C]&&h.setAttribute("morphNormal"+S,w[C]),i[S]=P,x+=P):(y&&h.hasAttribute("morphTarget"+S)===!0&&h.deleteAttribute("morphTarget"+S),w&&h.hasAttribute("morphNormal"+S)===!0&&h.deleteAttribute("morphNormal"+S),i[S]=0)}const b=h.morphTargetsRelative?1:1-x;p.getUniforms().setValue(n,"morphTargetBaseInfluence",b),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function Fie(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,h=l.geometry,p=e.get(l,h);if(i.get(p)!==u&&(e.update(p),i.set(p,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const m=l.skeleton;i.get(m)!==u&&(m.update(),i.set(m,u))}return p}function a(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}const z5=new Bn,B5=new Jy,V5=new EC,H5=new Em,ZP=[],KP=[],JP=new Float32Array(16),QP=new Float32Array(9),eI=new Float32Array(4);function Of(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=ZP[i];if(s===void 0&&(s=new Float32Array(i),ZP[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function or(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function lr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function ew(n,e){let t=KP[e];t===void 0&&(t=new Int32Array(e),KP[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Uie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function zie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(or(t,e))return;n.uniform2fv(this.addr,e),lr(t,e)}}function Bie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(or(t,e))return;n.uniform3fv(this.addr,e),lr(t,e)}}function Vie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(or(t,e))return;n.uniform4fv(this.addr,e),lr(t,e)}}function Hie(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(or(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),lr(t,e)}else{if(or(t,r))return;eI.set(r),n.uniformMatrix2fv(this.addr,!1,eI),lr(t,r)}}function Wie(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(or(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),lr(t,e)}else{if(or(t,r))return;QP.set(r),n.uniformMatrix3fv(this.addr,!1,QP),lr(t,r)}}function Gie(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(or(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),lr(t,e)}else{if(or(t,r))return;JP.set(r),n.uniformMatrix4fv(this.addr,!1,JP),lr(t,r)}}function $ie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Xie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(or(t,e))return;n.uniform2iv(this.addr,e),lr(t,e)}}function Yie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(or(t,e))return;n.uniform3iv(this.addr,e),lr(t,e)}}function qie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(or(t,e))return;n.uniform4iv(this.addr,e),lr(t,e)}}function Zie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Kie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(or(t,e))return;n.uniform2uiv(this.addr,e),lr(t,e)}}function Jie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(or(t,e))return;n.uniform3uiv(this.addr,e),lr(t,e)}}function Qie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(or(t,e))return;n.uniform4uiv(this.addr,e),lr(t,e)}}function ese(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||z5,i)}function tse(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||V5,i)}function nse(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||H5,i)}function rse(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||B5,i)}function ise(n){switch(n){case 5126:return Uie;case 35664:return zie;case 35665:return Bie;case 35666:return Vie;case 35674:return Hie;case 35675:return Wie;case 35676:return Gie;case 5124:case 35670:return $ie;case 35667:case 35671:return Xie;case 35668:case 35672:return Yie;case 35669:case 35673:return qie;case 5125:return Zie;case 36294:return Kie;case 36295:return Jie;case 36296:return Qie;case 35678:case 36198:case 36298:case 36306:case 35682:return ese;case 35679:case 36299:case 36307:return tse;case 35680:case 36300:case 36308:case 36293:return nse;case 36289:case 36303:case 36311:case 36292:return rse}}function sse(n,e){n.uniform1fv(this.addr,e)}function ase(n,e){const t=Of(e,this.size,2);n.uniform2fv(this.addr,t)}function ose(n,e){const t=Of(e,this.size,3);n.uniform3fv(this.addr,t)}function lse(n,e){const t=Of(e,this.size,4);n.uniform4fv(this.addr,t)}function cse(n,e){const t=Of(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function use(n,e){const t=Of(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function dse(n,e){const t=Of(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function fse(n,e){n.uniform1iv(this.addr,e)}function hse(n,e){n.uniform2iv(this.addr,e)}function pse(n,e){n.uniform3iv(this.addr,e)}function mse(n,e){n.uniform4iv(this.addr,e)}function gse(n,e){n.uniform1uiv(this.addr,e)}function vse(n,e){n.uniform2uiv(this.addr,e)}function xse(n,e){n.uniform3uiv(this.addr,e)}function yse(n,e){n.uniform4uiv(this.addr,e)}function wse(n,e,t){const r=this.cache,i=e.length,s=ew(t,i);or(r,s)||(n.uniform1iv(this.addr,s),lr(r,s));for(let a=0;a!==i;++a)t.setTexture2D(e[a]||z5,s[a])}function _se(n,e,t){const r=this.cache,i=e.length,s=ew(t,i);or(r,s)||(n.uniform1iv(this.addr,s),lr(r,s));for(let a=0;a!==i;++a)t.setTexture3D(e[a]||V5,s[a])}function Sse(n,e,t){const r=this.cache,i=e.length,s=ew(t,i);or(r,s)||(n.uniform1iv(this.addr,s),lr(r,s));for(let a=0;a!==i;++a)t.setTextureCube(e[a]||H5,s[a])}function bse(n,e,t){const r=this.cache,i=e.length,s=ew(t,i);or(r,s)||(n.uniform1iv(this.addr,s),lr(r,s));for(let a=0;a!==i;++a)t.setTexture2DArray(e[a]||B5,s[a])}function Ese(n){switch(n){case 5126:return sse;case 35664:return ase;case 35665:return ose;case 35666:return lse;case 35674:return cse;case 35675:return use;case 35676:return dse;case 5124:case 35670:return fse;case 35667:case 35671:return hse;case 35668:case 35672:return pse;case 35669:case 35673:return mse;case 5125:return gse;case 36294:return vse;case 36295:return xse;case 36296:return yse;case 35678:case 36198:case 36298:case 36306:case 35682:return wse;case 35679:case 36299:case 36307:return _se;case 35680:case 36300:case 36308:case 36293:return Sse;case 36289:case 36303:case 36311:case 36292:return bse}}class Mse{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=ise(t.type)}}class Tse{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=Ese(t.type)}}class Cse{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,t[o.id],r)}}}const eS=/(\w+)(\])?(\[|\.)?/g;function tI(n,e){n.seq.push(e),n.map[e.id]=e}function Nse(n,e,t){const r=n.name,i=r.length;for(eS.lastIndex=0;;){const s=eS.exec(r),a=eS.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===i){tI(t,u===void 0?new Mse(o,n,e):new Tse(o,n,e));break}else{let p=t.map[o];p===void 0&&(p=new Cse(o),tI(t,p)),t=p}}}class M0{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),a=e.getUniformLocation(t,s.name);Nse(s,a,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in t&&r.push(a)}return r}}function nI(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Ase=0;function Rse(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return r.join(`
`)}function Pse(n){const e=on.getPrimaries(on.workingColorSpace),t=on.getPrimaries(n);let r;switch(e===t?r="":e===Gp&&t===Wp?r="LinearDisplayP3ToLinearSRGB":e===Wp&&t===Gp&&(r="LinearSRGBToLinearDisplayP3"),n){case Ea:case _m:return[r,"LinearTransferOETF"];case sr:case Ky:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function rI(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+Rse(n.getShaderSource(e),a)}else return i}function Ise(n,e){const t=Pse(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function Dse(n,e){let t;switch(e){case n5:t="Linear";break;case r5:t="Reinhard";break;case i5:t="OptimizedCineon";break;case fC:t="ACESFilmic";break;case s5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function kse(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Bh).join(`
`)}function Lse(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Ose(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function Bh(n){return n!==""}function iI(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sI(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const jse=/^[ \t]*#include +<([\w\d./]+)>/gm;function HE(n){return n.replace(jse,Use)}const Fse=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Use(n,e){let t=Lt[e];if(t===void 0){const r=Fse.get(e);if(r!==void 0)t=Lt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return HE(t)}const zse=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aI(n){return n.replace(zse,Bse)}function Bse(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function oI(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Vse(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Xy?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===rp?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ss&&(e="SHADOWMAP_TYPE_VSM"),e}function Hse(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case go:case Rl:e="ENVMAP_TYPE_CUBE";break;case kf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Wse(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Rl:e="ENVMAP_MODE_REFRACTION";break}return e}function Gse(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case wm:e="ENVMAP_BLENDING_MULTIPLY";break;case e5:e="ENVMAP_BLENDING_MIX";break;case t5:e="ENVMAP_BLENDING_ADD";break}return e}function $se(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Xse(n,e,t,r){const i=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=Vse(t),u=Hse(t),h=Wse(t),p=Gse(t),m=$se(t),g=t.isWebGL2?"":kse(t),v=Lse(s),y=i.createProgram();let w,x,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Bh).join(`
`),w.length>0&&(w+=`
`),x=[g,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Bh).join(`
`),x.length>0&&(x+=`
`)):(w=[oI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Bh).join(`
`),x=[g,oI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==xa?"#define TONE_MAPPING":"",t.toneMapping!==xa?Lt.tonemapping_pars_fragment:"",t.toneMapping!==xa?Dse("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Lt.colorspace_pars_fragment,Ise("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Bh).join(`
`)),a=HE(a),a=iI(a,t),a=sI(a,t),o=HE(o),o=iI(o,t),o=sI(o,t),a=aI(a),o=aI(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,w=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,x=["#define varying in",t.glslVersion===zE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===zE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const S=b+w+a,T=b+x+o,C=nI(i,i.VERTEX_SHADER,S),P=nI(i,i.FRAGMENT_SHADER,T);if(i.attachShader(y,C),i.attachShader(y,P),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),n.debug.checkShaderErrors){const I=i.getProgramInfoLog(y).trim(),R=i.getShaderInfoLog(C).trim(),U=i.getShaderInfoLog(P).trim();let V=!0,J=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(V=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,y,C,P);else{const z=rI(i,C,"vertex"),Q=rI(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+I+`
`+z+`
`+Q)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(R===""||U==="")&&(J=!1);J&&(this.diagnostics={runnable:V,programLog:I,vertexShader:{log:R,prefix:w},fragmentShader:{log:U,prefix:x}})}i.deleteShader(C),i.deleteShader(P);let A;this.getUniforms=function(){return A===void 0&&(A=new M0(i,y)),A};let k;return this.getAttributes=function(){return k===void 0&&(k=Ose(i,y)),k},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Ase++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=P,this}let Yse=0;class qse{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Zse(e),t.set(e,r)),r}}class Zse{constructor(e){this.id=Yse++,this.code=e,this.usedTimes=0}}function Kse(n,e,t,r,i,s,a){const o=new jc,l=new qse,u=[],h=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(I){return I===0?"uv":`uv${I}`}function w(I,R,U,V,J){const z=V.fog,Q=J.geometry,W=I.isMeshStandardMaterial?V.environment:null,te=(I.isMeshStandardMaterial?t:e).get(I.envMap||W),O=te&&te.mapping===kf?te.image.height:null,B=v[I.type];I.precision!==null&&(g=i.getMaxPrecision(I.precision),g!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",g,"instead."));const Y=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,L=Y!==void 0?Y.length:0;let Z=0;Q.morphAttributes.position!==void 0&&(Z=1),Q.morphAttributes.normal!==void 0&&(Z=2),Q.morphAttributes.color!==void 0&&(Z=3);let oe,de,ye,we;if(B){const un=Cs[B];oe=un.vertexShader,de=un.fragmentShader}else oe=I.vertexShader,de=I.fragmentShader,l.update(I),ye=l.getVertexShaderID(I),we=l.getFragmentShaderID(I);const ne=n.getRenderTarget(),fe=J.isInstancedMesh===!0,Le=!!I.map,ke=!!I.matcap,Re=!!te,X=!!I.aoMap,Ee=!!I.lightMap,pe=!!I.bumpMap,Pe=!!I.normalMap,be=!!I.displacementMap,et=!!I.emissiveMap,H=!!I.metalnessMap,ee=!!I.roughnessMap,se=I.anisotropy>0,Me=I.clearcoat>0,Ae=I.iridescence>0,F=I.sheen>0,j=I.transmission>0,ie=se&&!!I.anisotropyMap,Te=Me&&!!I.clearcoatMap,_e=Me&&!!I.clearcoatNormalMap,De=Me&&!!I.clearcoatRoughnessMap,tt=Ae&&!!I.iridescenceMap,Ue=Ae&&!!I.iridescenceThicknessMap,We=F&&!!I.sheenColorMap,mt=F&&!!I.sheenRoughnessMap,zt=!!I.specularMap,ze=!!I.specularColorMap,Wt=!!I.specularIntensityMap,pt=j&&!!I.transmissionMap,xt=j&&!!I.thicknessMap,je=!!I.gradientMap,K=!!I.alphaMap,Ce=I.alphaTest>0,Oe=!!I.alphaHash,Ge=!!I.extensions,$e=!!Q.attributes.uv1,Ie=!!Q.attributes.uv2,ut=!!Q.attributes.uv3;let Nt=xa;return I.toneMapped&&(ne===null||ne.isXRRenderTarget===!0)&&(Nt=n.toneMapping),{isWebGL2:h,shaderID:B,shaderType:I.type,shaderName:I.name,vertexShader:oe,fragmentShader:de,defines:I.defines,customVertexShaderID:ye,customFragmentShaderID:we,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:g,instancing:fe,instancingColor:fe&&J.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:ne===null?n.outputColorSpace:ne.isXRRenderTarget===!0?ne.texture.colorSpace:Ea,map:Le,matcap:ke,envMap:Re,envMapMode:Re&&te.mapping,envMapCubeUVHeight:O,aoMap:X,lightMap:Ee,bumpMap:pe,normalMap:Pe,displacementMap:m&&be,emissiveMap:et,normalMapObjectSpace:Pe&&I.normalMapType===w5,normalMapTangentSpace:Pe&&I.normalMapType===zl,metalnessMap:H,roughnessMap:ee,anisotropy:se,anisotropyMap:ie,clearcoat:Me,clearcoatMap:Te,clearcoatNormalMap:_e,clearcoatRoughnessMap:De,iridescence:Ae,iridescenceMap:tt,iridescenceThicknessMap:Ue,sheen:F,sheenColorMap:We,sheenRoughnessMap:mt,specularMap:zt,specularColorMap:ze,specularIntensityMap:Wt,transmission:j,transmissionMap:pt,thicknessMap:xt,gradientMap:je,opaque:I.transparent===!1&&I.blending===Lc,alphaMap:K,alphaTest:Ce,alphaHash:Oe,combine:I.combine,mapUv:Le&&y(I.map.channel),aoMapUv:X&&y(I.aoMap.channel),lightMapUv:Ee&&y(I.lightMap.channel),bumpMapUv:pe&&y(I.bumpMap.channel),normalMapUv:Pe&&y(I.normalMap.channel),displacementMapUv:be&&y(I.displacementMap.channel),emissiveMapUv:et&&y(I.emissiveMap.channel),metalnessMapUv:H&&y(I.metalnessMap.channel),roughnessMapUv:ee&&y(I.roughnessMap.channel),anisotropyMapUv:ie&&y(I.anisotropyMap.channel),clearcoatMapUv:Te&&y(I.clearcoatMap.channel),clearcoatNormalMapUv:_e&&y(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:De&&y(I.clearcoatRoughnessMap.channel),iridescenceMapUv:tt&&y(I.iridescenceMap.channel),iridescenceThicknessMapUv:Ue&&y(I.iridescenceThicknessMap.channel),sheenColorMapUv:We&&y(I.sheenColorMap.channel),sheenRoughnessMapUv:mt&&y(I.sheenRoughnessMap.channel),specularMapUv:zt&&y(I.specularMap.channel),specularColorMapUv:ze&&y(I.specularColorMap.channel),specularIntensityMapUv:Wt&&y(I.specularIntensityMap.channel),transmissionMapUv:pt&&y(I.transmissionMap.channel),thicknessMapUv:xt&&y(I.thicknessMap.channel),alphaMapUv:K&&y(I.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Pe||se),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,vertexUv1s:$e,vertexUv2s:Ie,vertexUv3s:ut,pointsUvs:J.isPoints===!0&&!!Q.attributes.uv&&(Le||K),fog:!!z,useFog:I.fog===!0,fogExp2:z&&z.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:J.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:L,morphTextureStride:Z,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:Nt,useLegacyLights:n._useLegacyLights,decodeVideoTexture:Le&&I.map.isVideoTexture===!0&&on.getTransfer(I.map.colorSpace)===mn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===la,flipSided:I.side===Jr,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionDerivatives:Ge&&I.extensions.derivatives===!0,extensionFragDepth:Ge&&I.extensions.fragDepth===!0,extensionDrawBuffers:Ge&&I.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ge&&I.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:I.customProgramCacheKey()}}function x(I){const R=[];if(I.shaderID?R.push(I.shaderID):(R.push(I.customVertexShaderID),R.push(I.customFragmentShaderID)),I.defines!==void 0)for(const U in I.defines)R.push(U),R.push(I.defines[U]);return I.isRawShaderMaterial===!1&&(b(R,I),S(R,I),R.push(n.outputColorSpace)),R.push(I.customProgramCacheKey),R.join()}function b(I,R){I.push(R.precision),I.push(R.outputColorSpace),I.push(R.envMapMode),I.push(R.envMapCubeUVHeight),I.push(R.mapUv),I.push(R.alphaMapUv),I.push(R.lightMapUv),I.push(R.aoMapUv),I.push(R.bumpMapUv),I.push(R.normalMapUv),I.push(R.displacementMapUv),I.push(R.emissiveMapUv),I.push(R.metalnessMapUv),I.push(R.roughnessMapUv),I.push(R.anisotropyMapUv),I.push(R.clearcoatMapUv),I.push(R.clearcoatNormalMapUv),I.push(R.clearcoatRoughnessMapUv),I.push(R.iridescenceMapUv),I.push(R.iridescenceThicknessMapUv),I.push(R.sheenColorMapUv),I.push(R.sheenRoughnessMapUv),I.push(R.specularMapUv),I.push(R.specularColorMapUv),I.push(R.specularIntensityMapUv),I.push(R.transmissionMapUv),I.push(R.thicknessMapUv),I.push(R.combine),I.push(R.fogExp2),I.push(R.sizeAttenuation),I.push(R.morphTargetsCount),I.push(R.morphAttributeCount),I.push(R.numDirLights),I.push(R.numPointLights),I.push(R.numSpotLights),I.push(R.numSpotLightMaps),I.push(R.numHemiLights),I.push(R.numRectAreaLights),I.push(R.numDirLightShadows),I.push(R.numPointLightShadows),I.push(R.numSpotLightShadows),I.push(R.numSpotLightShadowsWithMaps),I.push(R.numLightProbes),I.push(R.shadowMapType),I.push(R.toneMapping),I.push(R.numClippingPlanes),I.push(R.numClipIntersection),I.push(R.depthPacking)}function S(I,R){o.disableAll(),R.isWebGL2&&o.enable(0),R.supportsVertexTextures&&o.enable(1),R.instancing&&o.enable(2),R.instancingColor&&o.enable(3),R.matcap&&o.enable(4),R.envMap&&o.enable(5),R.normalMapObjectSpace&&o.enable(6),R.normalMapTangentSpace&&o.enable(7),R.clearcoat&&o.enable(8),R.iridescence&&o.enable(9),R.alphaTest&&o.enable(10),R.vertexColors&&o.enable(11),R.vertexAlphas&&o.enable(12),R.vertexUv1s&&o.enable(13),R.vertexUv2s&&o.enable(14),R.vertexUv3s&&o.enable(15),R.vertexTangents&&o.enable(16),R.anisotropy&&o.enable(17),I.push(o.mask),o.disableAll(),R.fog&&o.enable(0),R.useFog&&o.enable(1),R.flatShading&&o.enable(2),R.logarithmicDepthBuffer&&o.enable(3),R.skinning&&o.enable(4),R.morphTargets&&o.enable(5),R.morphNormals&&o.enable(6),R.morphColors&&o.enable(7),R.premultipliedAlpha&&o.enable(8),R.shadowMapEnabled&&o.enable(9),R.useLegacyLights&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.useDepthPacking&&o.enable(13),R.dithering&&o.enable(14),R.transmission&&o.enable(15),R.sheen&&o.enable(16),R.opaque&&o.enable(17),R.pointsUvs&&o.enable(18),R.decodeVideoTexture&&o.enable(19),I.push(o.mask)}function T(I){const R=v[I.type];let U;if(R){const V=Cs[R];U=O5.clone(V.uniforms)}else U=I.uniforms;return U}function C(I,R){let U;for(let V=0,J=u.length;V<J;V++){const z=u[V];if(z.cacheKey===R){U=z,++U.usedTimes;break}}return U===void 0&&(U=new Xse(n,R,I,s),u.push(U)),U}function P(I){if(--I.usedTimes===0){const R=u.indexOf(I);u[R]=u[u.length-1],u.pop(),I.destroy()}}function A(I){l.remove(I)}function k(){l.dispose()}return{getParameters:w,getProgramCacheKey:x,getUniforms:T,acquireProgram:C,releaseProgram:P,releaseShaderCache:A,programs:u,dispose:k}}function Jse(){let n=new WeakMap;function e(s){let a=n.get(s);return a===void 0&&(a={},n.set(s,a)),a}function t(s){n.delete(s)}function r(s,a,o){n.get(s)[a]=o}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Qse(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function lI(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function cI(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function a(p,m,g,v,y,w){let x=n[e];return x===void 0?(x={id:p.id,object:p,geometry:m,material:g,groupOrder:v,renderOrder:p.renderOrder,z:y,group:w},n[e]=x):(x.id=p.id,x.object=p,x.geometry=m,x.material=g,x.groupOrder=v,x.renderOrder=p.renderOrder,x.z=y,x.group=w),e++,x}function o(p,m,g,v,y,w){const x=a(p,m,g,v,y,w);g.transmission>0?r.push(x):g.transparent===!0?i.push(x):t.push(x)}function l(p,m,g,v,y,w){const x=a(p,m,g,v,y,w);g.transmission>0?r.unshift(x):g.transparent===!0?i.unshift(x):t.unshift(x)}function u(p,m){t.length>1&&t.sort(p||Qse),r.length>1&&r.sort(m||lI),i.length>1&&i.sort(m||lI)}function h(){for(let p=e,m=n.length;p<m;p++){const g=n[p];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:h,sort:u}}function eae(){let n=new WeakMap;function e(r,i){const s=n.get(r);let a;return s===void 0?(a=new cI,n.set(r,[a])):i>=s.length?(a=new cI,s.push(a)):a=s[i],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function tae(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new it};break;case"SpotLight":t={position:new $,direction:new $,color:new it,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new it,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new it,groundColor:new it};break;case"RectAreaLight":t={color:new it,position:new $,halfWidth:new $,halfHeight:new $};break}return n[e.id]=t,t}}}function nae(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ne};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ne};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ne,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let rae=0;function iae(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function sae(n,e){const t=new tae,r=nae(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new $);const s=new $,a=new Pt,o=new Pt;function l(h,p){let m=0,g=0,v=0;for(let V=0;V<9;V++)i.probe[V].set(0,0,0);let y=0,w=0,x=0,b=0,S=0,T=0,C=0,P=0,A=0,k=0,I=0;h.sort(iae);const R=p===!0?Math.PI:1;for(let V=0,J=h.length;V<J;V++){const z=h[V],Q=z.color,W=z.intensity,te=z.distance,O=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)m+=Q.r*W*R,g+=Q.g*W*R,v+=Q.b*W*R;else if(z.isLightProbe){for(let B=0;B<9;B++)i.probe[B].addScaledVector(z.sh.coefficients[B],W);I++}else if(z.isDirectionalLight){const B=t.get(z);if(B.color.copy(z.color).multiplyScalar(z.intensity*R),z.castShadow){const Y=z.shadow,L=r.get(z);L.shadowBias=Y.bias,L.shadowNormalBias=Y.normalBias,L.shadowRadius=Y.radius,L.shadowMapSize=Y.mapSize,i.directionalShadow[y]=L,i.directionalShadowMap[y]=O,i.directionalShadowMatrix[y]=z.shadow.matrix,T++}i.directional[y]=B,y++}else if(z.isSpotLight){const B=t.get(z);B.position.setFromMatrixPosition(z.matrixWorld),B.color.copy(Q).multiplyScalar(W*R),B.distance=te,B.coneCos=Math.cos(z.angle),B.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),B.decay=z.decay,i.spot[x]=B;const Y=z.shadow;if(z.map&&(i.spotLightMap[A]=z.map,A++,Y.updateMatrices(z),z.castShadow&&k++),i.spotLightMatrix[x]=Y.matrix,z.castShadow){const L=r.get(z);L.shadowBias=Y.bias,L.shadowNormalBias=Y.normalBias,L.shadowRadius=Y.radius,L.shadowMapSize=Y.mapSize,i.spotShadow[x]=L,i.spotShadowMap[x]=O,P++}x++}else if(z.isRectAreaLight){const B=t.get(z);B.color.copy(Q).multiplyScalar(W),B.halfWidth.set(z.width*.5,0,0),B.halfHeight.set(0,z.height*.5,0),i.rectArea[b]=B,b++}else if(z.isPointLight){const B=t.get(z);if(B.color.copy(z.color).multiplyScalar(z.intensity*R),B.distance=z.distance,B.decay=z.decay,z.castShadow){const Y=z.shadow,L=r.get(z);L.shadowBias=Y.bias,L.shadowNormalBias=Y.normalBias,L.shadowRadius=Y.radius,L.shadowMapSize=Y.mapSize,L.shadowCameraNear=Y.camera.near,L.shadowCameraFar=Y.camera.far,i.pointShadow[w]=L,i.pointShadowMap[w]=O,i.pointShadowMatrix[w]=z.shadow.matrix,C++}i.point[w]=B,w++}else if(z.isHemisphereLight){const B=t.get(z);B.skyColor.copy(z.color).multiplyScalar(W*R),B.groundColor.copy(z.groundColor).multiplyScalar(W*R),i.hemi[S]=B,S++}}b>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Xe.LTC_FLOAT_1,i.rectAreaLTC2=Xe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Xe.LTC_HALF_1,i.rectAreaLTC2=Xe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=v;const U=i.hash;(U.directionalLength!==y||U.pointLength!==w||U.spotLength!==x||U.rectAreaLength!==b||U.hemiLength!==S||U.numDirectionalShadows!==T||U.numPointShadows!==C||U.numSpotShadows!==P||U.numSpotMaps!==A||U.numLightProbes!==I)&&(i.directional.length=y,i.spot.length=x,i.rectArea.length=b,i.point.length=w,i.hemi.length=S,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=P+A-k,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=k,i.numLightProbes=I,U.directionalLength=y,U.pointLength=w,U.spotLength=x,U.rectAreaLength=b,U.hemiLength=S,U.numDirectionalShadows=T,U.numPointShadows=C,U.numSpotShadows=P,U.numSpotMaps=A,U.numLightProbes=I,i.version=rae++)}function u(h,p){let m=0,g=0,v=0,y=0,w=0;const x=p.matrixWorldInverse;for(let b=0,S=h.length;b<S;b++){const T=h[b];if(T.isDirectionalLight){const C=i.directional[m];C.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),m++}else if(T.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(x),C.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),v++}else if(T.isRectAreaLight){const C=i.rectArea[y];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(x),o.identity(),a.copy(T.matrixWorld),a.premultiply(x),o.extractRotation(a),C.halfWidth.set(T.width*.5,0,0),C.halfHeight.set(0,T.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),y++}else if(T.isPointLight){const C=i.point[g];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(x),g++}else if(T.isHemisphereLight){const C=i.hemi[w];C.direction.setFromMatrixPosition(T.matrixWorld),C.direction.transformDirection(x),w++}}}return{setup:l,setupView:u,state:i}}function uI(n,e){const t=new sae(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function a(p){r.push(p)}function o(p){i.push(p)}function l(p){t.setup(r,p)}function u(p){t.setupView(r,p)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:a,pushShadow:o}}function aae(n,e){let t=new WeakMap;function r(s,a=0){const o=t.get(s);let l;return o===void 0?(l=new uI(n,e),t.set(s,[l])):a>=o.length?(l=new uI(n,e),o.push(l)):l=o[a],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class NC extends Cr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=x5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class AC extends Cr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const oae=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,lae=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cae(n,e,t){let r=new Qy;const i=new Ne,s=new Ne,a=new ln,o=new NC({depthPacking:y5}),l=new AC,u={},h=t.maxTextureSize,p={[mo]:Jr,[Jr]:mo,[la]:la},m=new Ma({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ne},radius:{value:4}},vertexShader:oae,fragmentShader:lae}),g=m.clone();g.defines.HORIZONTAL_PASS=1;const v=new Ut;v.setAttribute("position",new hn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Er(v,m),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Xy;let x=this.type;this.render=function(C,P,A){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||C.length===0)return;const k=n.getRenderTarget(),I=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),U=n.state;U.setBlending(so),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const V=x!==Ss&&this.type===Ss,J=x===Ss&&this.type!==Ss;for(let z=0,Q=C.length;z<Q;z++){const W=C[z],te=W.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;i.copy(te.mapSize);const O=te.getFrameExtents();if(i.multiply(O),s.copy(te.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/O.x),i.x=s.x*O.x,te.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/O.y),i.y=s.y*O.y,te.mapSize.y=s.y)),te.map===null||V===!0||J===!0){const Y=this.type!==Ss?{minFilter:Wn,magFilter:Wn}:{};te.map!==null&&te.map.dispose(),te.map=new Ls(i.x,i.y,Y),te.map.texture.name=W.name+".shadowMap",te.camera.updateProjectionMatrix()}n.setRenderTarget(te.map),n.clear();const B=te.getViewportCount();for(let Y=0;Y<B;Y++){const L=te.getViewport(Y);a.set(s.x*L.x,s.y*L.y,s.x*L.z,s.y*L.w),U.viewport(a),te.updateMatrices(W,Y),r=te.getFrustum(),T(P,A,te.camera,W,this.type)}te.isPointLightShadow!==!0&&this.type===Ss&&b(te,A),te.needsUpdate=!1}x=this.type,w.needsUpdate=!1,n.setRenderTarget(k,I,R)};function b(C,P){const A=e.update(y);m.defines.VSM_SAMPLES!==C.blurSamples&&(m.defines.VSM_SAMPLES=C.blurSamples,g.defines.VSM_SAMPLES=C.blurSamples,m.needsUpdate=!0,g.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Ls(i.x,i.y)),m.uniforms.shadow_pass.value=C.map.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(P,null,A,m,y,null),g.uniforms.shadow_pass.value=C.mapPass.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(P,null,A,g,y,null)}function S(C,P,A,k){let I=null;const R=A.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(R!==void 0)I=R;else if(I=A.isPointLight===!0?l:o,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const U=I.uuid,V=P.uuid;let J=u[U];J===void 0&&(J={},u[U]=J);let z=J[V];z===void 0&&(z=I.clone(),J[V]=z),I=z}if(I.visible=P.visible,I.wireframe=P.wireframe,k===Ss?I.side=P.shadowSide!==null?P.shadowSide:P.side:I.side=P.shadowSide!==null?P.shadowSide:p[P.side],I.alphaMap=P.alphaMap,I.alphaTest=P.alphaTest,I.map=P.map,I.clipShadows=P.clipShadows,I.clippingPlanes=P.clippingPlanes,I.clipIntersection=P.clipIntersection,I.displacementMap=P.displacementMap,I.displacementScale=P.displacementScale,I.displacementBias=P.displacementBias,I.wireframeLinewidth=P.wireframeLinewidth,I.linewidth=P.linewidth,A.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const U=n.properties.get(I);U.light=A}return I}function T(C,P,A,k,I){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&I===Ss)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,C.matrixWorld);const V=e.update(C),J=C.material;if(Array.isArray(J)){const z=V.groups;for(let Q=0,W=z.length;Q<W;Q++){const te=z[Q],O=J[te.materialIndex];if(O&&O.visible){const B=S(C,O,k,I);n.renderBufferDirect(A,null,V,B,C,te)}}}else if(J.visible){const z=S(C,J,k,I);n.renderBufferDirect(A,null,V,z,C,null)}}const U=C.children;for(let V=0,J=U.length;V<J;V++)T(U[V],P,A,k,I)}}function uae(n,e,t){const r=t.isWebGL2;function i(){let K=!1;const Ce=new ln;let Oe=null;const Ge=new ln(0,0,0,0);return{setMask:function($e){Oe!==$e&&!K&&(n.colorMask($e,$e,$e,$e),Oe=$e)},setLocked:function($e){K=$e},setClear:function($e,Ie,ut,Nt,cr){cr===!0&&($e*=Nt,Ie*=Nt,ut*=Nt),Ce.set($e,Ie,ut,Nt),Ge.equals(Ce)===!1&&(n.clearColor($e,Ie,ut,Nt),Ge.copy(Ce))},reset:function(){K=!1,Oe=null,Ge.set(-1,0,0,0)}}}function s(){let K=!1,Ce=null,Oe=null,Ge=null;return{setTest:function($e){$e?ne(n.DEPTH_TEST):fe(n.DEPTH_TEST)},setMask:function($e){Ce!==$e&&!K&&(n.depthMask($e),Ce=$e)},setFunc:function($e){if(Oe!==$e){switch($e){case XU:n.depthFunc(n.NEVER);break;case YU:n.depthFunc(n.ALWAYS);break;case qU:n.depthFunc(n.LESS);break;case zx:n.depthFunc(n.LEQUAL);break;case ZU:n.depthFunc(n.EQUAL);break;case KU:n.depthFunc(n.GEQUAL);break;case JU:n.depthFunc(n.GREATER);break;case QU:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Oe=$e}},setLocked:function($e){K=$e},setClear:function($e){Ge!==$e&&(n.clearDepth($e),Ge=$e)},reset:function(){K=!1,Ce=null,Oe=null,Ge=null}}}function a(){let K=!1,Ce=null,Oe=null,Ge=null,$e=null,Ie=null,ut=null,Nt=null,cr=null;return{setTest:function(un){K||(un?ne(n.STENCIL_TEST):fe(n.STENCIL_TEST))},setMask:function(un){Ce!==un&&!K&&(n.stencilMask(un),Ce=un)},setFunc:function(un,bi,wr){(Oe!==un||Ge!==bi||$e!==wr)&&(n.stencilFunc(un,bi,wr),Oe=un,Ge=bi,$e=wr)},setOp:function(un,bi,wr){(Ie!==un||ut!==bi||Nt!==wr)&&(n.stencilOp(un,bi,wr),Ie=un,ut=bi,Nt=wr)},setLocked:function(un){K=un},setClear:function(un){cr!==un&&(n.clearStencil(un),cr=un)},reset:function(){K=!1,Ce=null,Oe=null,Ge=null,$e=null,Ie=null,ut=null,Nt=null,cr=null}}}const o=new i,l=new s,u=new a,h=new WeakMap,p=new WeakMap;let m={},g={},v=new WeakMap,y=[],w=null,x=!1,b=null,S=null,T=null,C=null,P=null,A=null,k=null,I=!1,R=null,U=null,V=null,J=null,z=null;const Q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,te=0;const O=n.getParameter(n.VERSION);O.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(O)[1]),W=te>=1):O.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),W=te>=2);let B=null,Y={};const L=n.getParameter(n.SCISSOR_BOX),Z=n.getParameter(n.VIEWPORT),oe=new ln().fromArray(L),de=new ln().fromArray(Z);function ye(K,Ce,Oe,Ge){const $e=new Uint8Array(4),Ie=n.createTexture();n.bindTexture(K,Ie),n.texParameteri(K,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(K,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let ut=0;ut<Oe;ut++)r&&(K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ce,0,n.RGBA,1,1,Ge,0,n.RGBA,n.UNSIGNED_BYTE,$e):n.texImage2D(Ce+ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,$e);return Ie}const we={};we[n.TEXTURE_2D]=ye(n.TEXTURE_2D,n.TEXTURE_2D,1),we[n.TEXTURE_CUBE_MAP]=ye(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(we[n.TEXTURE_2D_ARRAY]=ye(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),we[n.TEXTURE_3D]=ye(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ne(n.DEPTH_TEST),l.setFunc(zx),be(!1),et(cE),ne(n.CULL_FACE),pe(so);function ne(K){m[K]!==!0&&(n.enable(K),m[K]=!0)}function fe(K){m[K]!==!1&&(n.disable(K),m[K]=!1)}function Le(K,Ce){return g[K]!==Ce?(n.bindFramebuffer(K,Ce),g[K]=Ce,r&&(K===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=Ce),K===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=Ce)),!0):!1}function ke(K,Ce){let Oe=y,Ge=!1;if(K)if(Oe=v.get(Ce),Oe===void 0&&(Oe=[],v.set(Ce,Oe)),K.isWebGLMultipleRenderTargets){const $e=K.texture;if(Oe.length!==$e.length||Oe[0]!==n.COLOR_ATTACHMENT0){for(let Ie=0,ut=$e.length;Ie<ut;Ie++)Oe[Ie]=n.COLOR_ATTACHMENT0+Ie;Oe.length=$e.length,Ge=!0}}else Oe[0]!==n.COLOR_ATTACHMENT0&&(Oe[0]=n.COLOR_ATTACHMENT0,Ge=!0);else Oe[0]!==n.BACK&&(Oe[0]=n.BACK,Ge=!0);Ge&&(t.isWebGL2?n.drawBuffers(Oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Oe))}function Re(K){return w!==K?(n.useProgram(K),w=K,!0):!1}const X={[hc]:n.FUNC_ADD,[OU]:n.FUNC_SUBTRACT,[jU]:n.FUNC_REVERSE_SUBTRACT};if(r)X[hE]=n.MIN,X[pE]=n.MAX;else{const K=e.get("EXT_blend_minmax");K!==null&&(X[hE]=K.MIN_EXT,X[pE]=K.MAX_EXT)}const Ee={[FU]:n.ZERO,[UU]:n.ONE,[zU]:n.SRC_COLOR,[uC]:n.SRC_ALPHA,[$U]:n.SRC_ALPHA_SATURATE,[WU]:n.DST_COLOR,[VU]:n.DST_ALPHA,[BU]:n.ONE_MINUS_SRC_COLOR,[dC]:n.ONE_MINUS_SRC_ALPHA,[GU]:n.ONE_MINUS_DST_COLOR,[HU]:n.ONE_MINUS_DST_ALPHA};function pe(K,Ce,Oe,Ge,$e,Ie,ut,Nt){if(K===so){x===!0&&(fe(n.BLEND),x=!1);return}if(x===!1&&(ne(n.BLEND),x=!0),K!==LU){if(K!==b||Nt!==I){if((S!==hc||P!==hc)&&(n.blendEquation(n.FUNC_ADD),S=hc,P=hc),Nt)switch(K){case Lc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case uE:n.blendFunc(n.ONE,n.ONE);break;case dE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case fE:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}else switch(K){case Lc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case uE:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case dE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case fE:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}T=null,C=null,A=null,k=null,b=K,I=Nt}return}$e=$e||Ce,Ie=Ie||Oe,ut=ut||Ge,(Ce!==S||$e!==P)&&(n.blendEquationSeparate(X[Ce],X[$e]),S=Ce,P=$e),(Oe!==T||Ge!==C||Ie!==A||ut!==k)&&(n.blendFuncSeparate(Ee[Oe],Ee[Ge],Ee[Ie],Ee[ut]),T=Oe,C=Ge,A=Ie,k=ut),b=K,I=!1}function Pe(K,Ce){K.side===la?fe(n.CULL_FACE):ne(n.CULL_FACE);let Oe=K.side===Jr;Ce&&(Oe=!Oe),be(Oe),K.blending===Lc&&K.transparent===!1?pe(so):pe(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.premultipliedAlpha),l.setFunc(K.depthFunc),l.setTest(K.depthTest),l.setMask(K.depthWrite),o.setMask(K.colorWrite);const Ge=K.stencilWrite;u.setTest(Ge),Ge&&(u.setMask(K.stencilWriteMask),u.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),u.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),ee(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),K.alphaToCoverage===!0?ne(n.SAMPLE_ALPHA_TO_COVERAGE):fe(n.SAMPLE_ALPHA_TO_COVERAGE)}function be(K){R!==K&&(K?n.frontFace(n.CW):n.frontFace(n.CCW),R=K)}function et(K){K!==IU?(ne(n.CULL_FACE),K!==U&&(K===cE?n.cullFace(n.BACK):K===DU?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):fe(n.CULL_FACE),U=K}function H(K){K!==V&&(W&&n.lineWidth(K),V=K)}function ee(K,Ce,Oe){K?(ne(n.POLYGON_OFFSET_FILL),(J!==Ce||z!==Oe)&&(n.polygonOffset(Ce,Oe),J=Ce,z=Oe)):fe(n.POLYGON_OFFSET_FILL)}function se(K){K?ne(n.SCISSOR_TEST):fe(n.SCISSOR_TEST)}function Me(K){K===void 0&&(K=n.TEXTURE0+Q-1),B!==K&&(n.activeTexture(K),B=K)}function Ae(K,Ce,Oe){Oe===void 0&&(B===null?Oe=n.TEXTURE0+Q-1:Oe=B);let Ge=Y[Oe];Ge===void 0&&(Ge={type:void 0,texture:void 0},Y[Oe]=Ge),(Ge.type!==K||Ge.texture!==Ce)&&(B!==Oe&&(n.activeTexture(Oe),B=Oe),n.bindTexture(K,Ce||we[K]),Ge.type=K,Ge.texture=Ce)}function F(){const K=Y[B];K!==void 0&&K.type!==void 0&&(n.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)}function j(){try{n.compressedTexImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ie(){try{n.compressedTexImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Te(){try{n.texSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function _e(){try{n.texSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function De(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function tt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ue(){try{n.texStorage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function We(){try{n.texStorage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function mt(){try{n.texImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function zt(){try{n.texImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ze(K){oe.equals(K)===!1&&(n.scissor(K.x,K.y,K.z,K.w),oe.copy(K))}function Wt(K){de.equals(K)===!1&&(n.viewport(K.x,K.y,K.z,K.w),de.copy(K))}function pt(K,Ce){let Oe=p.get(Ce);Oe===void 0&&(Oe=new WeakMap,p.set(Ce,Oe));let Ge=Oe.get(K);Ge===void 0&&(Ge=n.getUniformBlockIndex(Ce,K.name),Oe.set(K,Ge))}function xt(K,Ce){const Ge=p.get(Ce).get(K);h.get(Ce)!==Ge&&(n.uniformBlockBinding(Ce,Ge,K.__bindingPointIndex),h.set(Ce,Ge))}function je(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},B=null,Y={},g={},v=new WeakMap,y=[],w=null,x=!1,b=null,S=null,T=null,C=null,P=null,A=null,k=null,I=!1,R=null,U=null,V=null,J=null,z=null,oe.set(0,0,n.canvas.width,n.canvas.height),de.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),u.reset()}return{buffers:{color:o,depth:l,stencil:u},enable:ne,disable:fe,bindFramebuffer:Le,drawBuffers:ke,useProgram:Re,setBlending:pe,setMaterial:Pe,setFlipSided:be,setCullFace:et,setLineWidth:H,setPolygonOffset:ee,setScissorTest:se,activeTexture:Me,bindTexture:Ae,unbindTexture:F,compressedTexImage2D:j,compressedTexImage3D:ie,texImage2D:mt,texImage3D:zt,updateUBOMapping:pt,uniformBlockBinding:xt,texStorage2D:Ue,texStorage3D:We,texSubImage2D:Te,texSubImage3D:_e,compressedTexSubImage2D:De,compressedTexSubImage3D:tt,scissor:ze,viewport:Wt,reset:je}}function dae(n,e,t,r,i,s,a){const o=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,h=i.maxTextureSize,p=i.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const w=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(F,j){return x?new OffscreenCanvas(F,j):Yp("canvas")}function S(F,j,ie,Te){let _e=1;if((F.width>Te||F.height>Te)&&(_e=Te/Math.max(F.width,F.height)),_e<1||j===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const De=j?Hx:Math.floor,tt=De(_e*F.width),Ue=De(_e*F.height);y===void 0&&(y=b(tt,Ue));const We=ie?b(tt,Ue):y;return We.width=tt,We.height=Ue,We.getContext("2d").drawImage(F,0,0,tt,Ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+tt+"x"+Ue+")."),We}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function T(F){return BE(F.width)&&BE(F.height)}function C(F){return o?!1:F.wrapS!==Br||F.wrapT!==Br||F.minFilter!==Wn&&F.minFilter!==$n}function P(F,j){return F.generateMipmaps&&j&&F.minFilter!==Wn&&F.minFilter!==$n}function A(F){n.generateMipmap(F)}function k(F,j,ie,Te,_e=!1){if(o===!1)return j;if(F!==null){if(n[F]!==void 0)return n[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let De=j;if(j===n.RED&&(ie===n.FLOAT&&(De=n.R32F),ie===n.HALF_FLOAT&&(De=n.R16F),ie===n.UNSIGNED_BYTE&&(De=n.R8)),j===n.RED_INTEGER&&(ie===n.UNSIGNED_BYTE&&(De=n.R8UI),ie===n.UNSIGNED_SHORT&&(De=n.R16UI),ie===n.UNSIGNED_INT&&(De=n.R32UI),ie===n.BYTE&&(De=n.R8I),ie===n.SHORT&&(De=n.R16I),ie===n.INT&&(De=n.R32I)),j===n.RG&&(ie===n.FLOAT&&(De=n.RG32F),ie===n.HALF_FLOAT&&(De=n.RG16F),ie===n.UNSIGNED_BYTE&&(De=n.RG8)),j===n.RGBA){const tt=_e?Hp:on.getTransfer(Te);ie===n.FLOAT&&(De=n.RGBA32F),ie===n.HALF_FLOAT&&(De=n.RGBA16F),ie===n.UNSIGNED_BYTE&&(De=tt===mn?n.SRGB8_ALPHA8:n.RGBA8),ie===n.UNSIGNED_SHORT_4_4_4_4&&(De=n.RGBA4),ie===n.UNSIGNED_SHORT_5_5_5_1&&(De=n.RGB5_A1)}return(De===n.R16F||De===n.R32F||De===n.RG16F||De===n.RG32F||De===n.RGBA16F||De===n.RGBA32F)&&e.get("EXT_color_buffer_float"),De}function I(F,j,ie){return P(F,ie)===!0||F.isFramebufferTexture&&F.minFilter!==Wn&&F.minFilter!==$n?Math.log2(Math.max(j.width,j.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?j.mipmaps.length:1}function R(F){return F===Wn||F===Bx||F===ip?n.NEAREST:n.LINEAR}function U(F){const j=F.target;j.removeEventListener("dispose",U),J(j),j.isVideoTexture&&v.delete(j)}function V(F){const j=F.target;j.removeEventListener("dispose",V),Q(j)}function J(F){const j=r.get(F);if(j.__webglInit===void 0)return;const ie=F.source,Te=w.get(ie);if(Te){const _e=Te[j.__cacheKey];_e.usedTimes--,_e.usedTimes===0&&z(F),Object.keys(Te).length===0&&w.delete(ie)}r.remove(F)}function z(F){const j=r.get(F);n.deleteTexture(j.__webglTexture);const ie=F.source,Te=w.get(ie);delete Te[j.__cacheKey],a.memory.textures--}function Q(F){const j=F.texture,ie=r.get(F),Te=r.get(j);if(Te.__webglTexture!==void 0&&(n.deleteTexture(Te.__webglTexture),a.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let _e=0;_e<6;_e++){if(Array.isArray(ie.__webglFramebuffer[_e]))for(let De=0;De<ie.__webglFramebuffer[_e].length;De++)n.deleteFramebuffer(ie.__webglFramebuffer[_e][De]);else n.deleteFramebuffer(ie.__webglFramebuffer[_e]);ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer[_e])}else{if(Array.isArray(ie.__webglFramebuffer))for(let _e=0;_e<ie.__webglFramebuffer.length;_e++)n.deleteFramebuffer(ie.__webglFramebuffer[_e]);else n.deleteFramebuffer(ie.__webglFramebuffer);if(ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer),ie.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ie.__webglMultisampledFramebuffer),ie.__webglColorRenderbuffer)for(let _e=0;_e<ie.__webglColorRenderbuffer.length;_e++)ie.__webglColorRenderbuffer[_e]&&n.deleteRenderbuffer(ie.__webglColorRenderbuffer[_e]);ie.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ie.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let _e=0,De=j.length;_e<De;_e++){const tt=r.get(j[_e]);tt.__webglTexture&&(n.deleteTexture(tt.__webglTexture),a.memory.textures--),r.remove(j[_e])}r.remove(j),r.remove(F)}let W=0;function te(){W=0}function O(){const F=W;return F>=l&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+l),W+=1,F}function B(F){const j=[];return j.push(F.wrapS),j.push(F.wrapT),j.push(F.wrapR||0),j.push(F.magFilter),j.push(F.minFilter),j.push(F.anisotropy),j.push(F.internalFormat),j.push(F.format),j.push(F.type),j.push(F.generateMipmaps),j.push(F.premultiplyAlpha),j.push(F.flipY),j.push(F.unpackAlignment),j.push(F.colorSpace),j.join()}function Y(F,j){const ie=r.get(F);if(F.isVideoTexture&&Me(F),F.isRenderTargetTexture===!1&&F.version>0&&ie.__version!==F.version){const Te=F.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Le(ie,F,j);return}}t.bindTexture(n.TEXTURE_2D,ie.__webglTexture,n.TEXTURE0+j)}function L(F,j){const ie=r.get(F);if(F.version>0&&ie.__version!==F.version){Le(ie,F,j);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ie.__webglTexture,n.TEXTURE0+j)}function Z(F,j){const ie=r.get(F);if(F.version>0&&ie.__version!==F.version){Le(ie,F,j);return}t.bindTexture(n.TEXTURE_3D,ie.__webglTexture,n.TEXTURE0+j)}function oe(F,j){const ie=r.get(F);if(F.version>0&&ie.__version!==F.version){ke(ie,F,j);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ie.__webglTexture,n.TEXTURE0+j)}const de={[Fp]:n.REPEAT,[Br]:n.CLAMP_TO_EDGE,[Up]:n.MIRRORED_REPEAT},ye={[Wn]:n.NEAREST,[Bx]:n.NEAREST_MIPMAP_NEAREST,[ip]:n.NEAREST_MIPMAP_LINEAR,[$n]:n.LINEAR,[hC]:n.LINEAR_MIPMAP_NEAREST,[Pl]:n.LINEAR_MIPMAP_LINEAR},we={[S5]:n.NEVER,[A5]:n.ALWAYS,[b5]:n.LESS,[M5]:n.LEQUAL,[E5]:n.EQUAL,[N5]:n.GEQUAL,[T5]:n.GREATER,[C5]:n.NOTEQUAL};function ne(F,j,ie){if(ie?(n.texParameteri(F,n.TEXTURE_WRAP_S,de[j.wrapS]),n.texParameteri(F,n.TEXTURE_WRAP_T,de[j.wrapT]),(F===n.TEXTURE_3D||F===n.TEXTURE_2D_ARRAY)&&n.texParameteri(F,n.TEXTURE_WRAP_R,de[j.wrapR]),n.texParameteri(F,n.TEXTURE_MAG_FILTER,ye[j.magFilter]),n.texParameteri(F,n.TEXTURE_MIN_FILTER,ye[j.minFilter])):(n.texParameteri(F,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(F,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(F===n.TEXTURE_3D||F===n.TEXTURE_2D_ARRAY)&&n.texParameteri(F,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(j.wrapS!==Br||j.wrapT!==Br)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(F,n.TEXTURE_MAG_FILTER,R(j.magFilter)),n.texParameteri(F,n.TEXTURE_MIN_FILTER,R(j.minFilter)),j.minFilter!==Wn&&j.minFilter!==$n&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),j.compareFunction&&(n.texParameteri(F,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(F,n.TEXTURE_COMPARE_FUNC,we[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Te=e.get("EXT_texture_filter_anisotropic");if(j.magFilter===Wn||j.minFilter!==ip&&j.minFilter!==Pl||j.type===da&&e.has("OES_texture_float_linear")===!1||o===!1&&j.type===sf&&e.has("OES_texture_half_float_linear")===!1)return;(j.anisotropy>1||r.get(j).__currentAnisotropy)&&(n.texParameterf(F,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,i.getMaxAnisotropy())),r.get(j).__currentAnisotropy=j.anisotropy)}}function fe(F,j){let ie=!1;F.__webglInit===void 0&&(F.__webglInit=!0,j.addEventListener("dispose",U));const Te=j.source;let _e=w.get(Te);_e===void 0&&(_e={},w.set(Te,_e));const De=B(j);if(De!==F.__cacheKey){_e[De]===void 0&&(_e[De]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,ie=!0),_e[De].usedTimes++;const tt=_e[F.__cacheKey];tt!==void 0&&(_e[F.__cacheKey].usedTimes--,tt.usedTimes===0&&z(j)),F.__cacheKey=De,F.__webglTexture=_e[De].texture}return ie}function Le(F,j,ie){let Te=n.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(Te=n.TEXTURE_2D_ARRAY),j.isData3DTexture&&(Te=n.TEXTURE_3D);const _e=fe(F,j),De=j.source;t.bindTexture(Te,F.__webglTexture,n.TEXTURE0+ie);const tt=r.get(De);if(De.version!==tt.__version||_e===!0){t.activeTexture(n.TEXTURE0+ie);const Ue=on.getPrimaries(on.workingColorSpace),We=j.colorSpace===Li?null:on.getPrimaries(j.colorSpace),mt=j.colorSpace===Li||Ue===We?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,mt);const zt=C(j)&&T(j.image)===!1;let ze=S(j.image,zt,!1,h);ze=Ae(j,ze);const Wt=T(ze)||o,pt=s.convert(j.format,j.colorSpace);let xt=s.convert(j.type),je=k(j.internalFormat,pt,xt,j.colorSpace,j.isVideoTexture);ne(Te,j,Wt);let K;const Ce=j.mipmaps,Oe=o&&j.isVideoTexture!==!0,Ge=tt.__version===void 0||_e===!0,$e=I(j,ze,Wt);if(j.isDepthTexture)je=n.DEPTH_COMPONENT,o?j.type===da?je=n.DEPTH_COMPONENT32F:j.type===no?je=n.DEPTH_COMPONENT24:j.type===vl?je=n.DEPTH24_STENCIL8:je=n.DEPTH_COMPONENT16:j.type===da&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),j.format===xl&&je===n.DEPTH_COMPONENT&&j.type!==qy&&j.type!==no&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),j.type=no,xt=s.convert(j.type)),j.format===Jc&&je===n.DEPTH_COMPONENT&&(je=n.DEPTH_STENCIL,j.type!==vl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),j.type=vl,xt=s.convert(j.type))),Ge&&(Oe?t.texStorage2D(n.TEXTURE_2D,1,je,ze.width,ze.height):t.texImage2D(n.TEXTURE_2D,0,je,ze.width,ze.height,0,pt,xt,null));else if(j.isDataTexture)if(Ce.length>0&&Wt){Oe&&Ge&&t.texStorage2D(n.TEXTURE_2D,$e,je,Ce[0].width,Ce[0].height);for(let Ie=0,ut=Ce.length;Ie<ut;Ie++)K=Ce[Ie],Oe?t.texSubImage2D(n.TEXTURE_2D,Ie,0,0,K.width,K.height,pt,xt,K.data):t.texImage2D(n.TEXTURE_2D,Ie,je,K.width,K.height,0,pt,xt,K.data);j.generateMipmaps=!1}else Oe?(Ge&&t.texStorage2D(n.TEXTURE_2D,$e,je,ze.width,ze.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ze.width,ze.height,pt,xt,ze.data)):t.texImage2D(n.TEXTURE_2D,0,je,ze.width,ze.height,0,pt,xt,ze.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){Oe&&Ge&&t.texStorage3D(n.TEXTURE_2D_ARRAY,$e,je,Ce[0].width,Ce[0].height,ze.depth);for(let Ie=0,ut=Ce.length;Ie<ut;Ie++)K=Ce[Ie],j.format!==fi?pt!==null?Oe?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ie,0,0,0,K.width,K.height,ze.depth,pt,K.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ie,je,K.width,K.height,ze.depth,0,K.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ie,0,0,0,K.width,K.height,ze.depth,pt,xt,K.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ie,je,K.width,K.height,ze.depth,0,pt,xt,K.data)}else{Oe&&Ge&&t.texStorage2D(n.TEXTURE_2D,$e,je,Ce[0].width,Ce[0].height);for(let Ie=0,ut=Ce.length;Ie<ut;Ie++)K=Ce[Ie],j.format!==fi?pt!==null?Oe?t.compressedTexSubImage2D(n.TEXTURE_2D,Ie,0,0,K.width,K.height,pt,K.data):t.compressedTexImage2D(n.TEXTURE_2D,Ie,je,K.width,K.height,0,K.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?t.texSubImage2D(n.TEXTURE_2D,Ie,0,0,K.width,K.height,pt,xt,K.data):t.texImage2D(n.TEXTURE_2D,Ie,je,K.width,K.height,0,pt,xt,K.data)}else if(j.isDataArrayTexture)Oe?(Ge&&t.texStorage3D(n.TEXTURE_2D_ARRAY,$e,je,ze.width,ze.height,ze.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ze.width,ze.height,ze.depth,pt,xt,ze.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,je,ze.width,ze.height,ze.depth,0,pt,xt,ze.data);else if(j.isData3DTexture)Oe?(Ge&&t.texStorage3D(n.TEXTURE_3D,$e,je,ze.width,ze.height,ze.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ze.width,ze.height,ze.depth,pt,xt,ze.data)):t.texImage3D(n.TEXTURE_3D,0,je,ze.width,ze.height,ze.depth,0,pt,xt,ze.data);else if(j.isFramebufferTexture){if(Ge)if(Oe)t.texStorage2D(n.TEXTURE_2D,$e,je,ze.width,ze.height);else{let Ie=ze.width,ut=ze.height;for(let Nt=0;Nt<$e;Nt++)t.texImage2D(n.TEXTURE_2D,Nt,je,Ie,ut,0,pt,xt,null),Ie>>=1,ut>>=1}}else if(Ce.length>0&&Wt){Oe&&Ge&&t.texStorage2D(n.TEXTURE_2D,$e,je,Ce[0].width,Ce[0].height);for(let Ie=0,ut=Ce.length;Ie<ut;Ie++)K=Ce[Ie],Oe?t.texSubImage2D(n.TEXTURE_2D,Ie,0,0,pt,xt,K):t.texImage2D(n.TEXTURE_2D,Ie,je,pt,xt,K);j.generateMipmaps=!1}else Oe?(Ge&&t.texStorage2D(n.TEXTURE_2D,$e,je,ze.width,ze.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,pt,xt,ze)):t.texImage2D(n.TEXTURE_2D,0,je,pt,xt,ze);P(j,Wt)&&A(Te),tt.__version=De.version,j.onUpdate&&j.onUpdate(j)}F.__version=j.version}function ke(F,j,ie){if(j.image.length!==6)return;const Te=fe(F,j),_e=j.source;t.bindTexture(n.TEXTURE_CUBE_MAP,F.__webglTexture,n.TEXTURE0+ie);const De=r.get(_e);if(_e.version!==De.__version||Te===!0){t.activeTexture(n.TEXTURE0+ie);const tt=on.getPrimaries(on.workingColorSpace),Ue=j.colorSpace===Li?null:on.getPrimaries(j.colorSpace),We=j.colorSpace===Li||tt===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,We);const mt=j.isCompressedTexture||j.image[0].isCompressedTexture,zt=j.image[0]&&j.image[0].isDataTexture,ze=[];for(let Ie=0;Ie<6;Ie++)!mt&&!zt?ze[Ie]=S(j.image[Ie],!1,!0,u):ze[Ie]=zt?j.image[Ie].image:j.image[Ie],ze[Ie]=Ae(j,ze[Ie]);const Wt=ze[0],pt=T(Wt)||o,xt=s.convert(j.format,j.colorSpace),je=s.convert(j.type),K=k(j.internalFormat,xt,je,j.colorSpace),Ce=o&&j.isVideoTexture!==!0,Oe=De.__version===void 0||Te===!0;let Ge=I(j,Wt,pt);ne(n.TEXTURE_CUBE_MAP,j,pt);let $e;if(mt){Ce&&Oe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ge,K,Wt.width,Wt.height);for(let Ie=0;Ie<6;Ie++){$e=ze[Ie].mipmaps;for(let ut=0;ut<$e.length;ut++){const Nt=$e[ut];j.format!==fi?xt!==null?Ce?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ut,0,0,Nt.width,Nt.height,xt,Nt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ut,K,Nt.width,Nt.height,0,Nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ut,0,0,Nt.width,Nt.height,xt,je,Nt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ut,K,Nt.width,Nt.height,0,xt,je,Nt.data)}}}else{$e=j.mipmaps,Ce&&Oe&&($e.length>0&&Ge++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Ge,K,ze[0].width,ze[0].height));for(let Ie=0;Ie<6;Ie++)if(zt){Ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,ze[Ie].width,ze[Ie].height,xt,je,ze[Ie].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,K,ze[Ie].width,ze[Ie].height,0,xt,je,ze[Ie].data);for(let ut=0;ut<$e.length;ut++){const cr=$e[ut].image[Ie].image;Ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ut+1,0,0,cr.width,cr.height,xt,je,cr.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ut+1,K,cr.width,cr.height,0,xt,je,cr.data)}}else{Ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,xt,je,ze[Ie]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,K,xt,je,ze[Ie]);for(let ut=0;ut<$e.length;ut++){const Nt=$e[ut];Ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ut+1,0,0,xt,je,Nt.image[Ie]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ut+1,K,xt,je,Nt.image[Ie])}}}P(j,pt)&&A(n.TEXTURE_CUBE_MAP),De.__version=_e.version,j.onUpdate&&j.onUpdate(j)}F.__version=j.version}function Re(F,j,ie,Te,_e,De){const tt=s.convert(ie.format,ie.colorSpace),Ue=s.convert(ie.type),We=k(ie.internalFormat,tt,Ue,ie.colorSpace);if(!r.get(j).__hasExternalTextures){const zt=Math.max(1,j.width>>De),ze=Math.max(1,j.height>>De);_e===n.TEXTURE_3D||_e===n.TEXTURE_2D_ARRAY?t.texImage3D(_e,De,We,zt,ze,j.depth,0,tt,Ue,null):t.texImage2D(_e,De,We,zt,ze,0,tt,Ue,null)}t.bindFramebuffer(n.FRAMEBUFFER,F),se(j)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Te,_e,r.get(ie).__webglTexture,0,ee(j)):(_e===n.TEXTURE_2D||_e>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&_e<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Te,_e,r.get(ie).__webglTexture,De),t.bindFramebuffer(n.FRAMEBUFFER,null)}function X(F,j,ie){if(n.bindRenderbuffer(n.RENDERBUFFER,F),j.depthBuffer&&!j.stencilBuffer){let Te=o===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(ie||se(j)){const _e=j.depthTexture;_e&&_e.isDepthTexture&&(_e.type===da?Te=n.DEPTH_COMPONENT32F:_e.type===no&&(Te=n.DEPTH_COMPONENT24));const De=ee(j);se(j)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,De,Te,j.width,j.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,De,Te,j.width,j.height)}else n.renderbufferStorage(n.RENDERBUFFER,Te,j.width,j.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,F)}else if(j.depthBuffer&&j.stencilBuffer){const Te=ee(j);ie&&se(j)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Te,n.DEPTH24_STENCIL8,j.width,j.height):se(j)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Te,n.DEPTH24_STENCIL8,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,F)}else{const Te=j.isWebGLMultipleRenderTargets===!0?j.texture:[j.texture];for(let _e=0;_e<Te.length;_e++){const De=Te[_e],tt=s.convert(De.format,De.colorSpace),Ue=s.convert(De.type),We=k(De.internalFormat,tt,Ue,De.colorSpace),mt=ee(j);ie&&se(j)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,mt,We,j.width,j.height):se(j)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,mt,We,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,We,j.width,j.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ee(F,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,F),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(j.depthTexture).__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),Y(j.depthTexture,0);const Te=r.get(j.depthTexture).__webglTexture,_e=ee(j);if(j.depthTexture.format===xl)se(j)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Te,0,_e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Te,0);else if(j.depthTexture.format===Jc)se(j)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Te,0,_e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Te,0);else throw new Error("Unknown depthTexture format")}function pe(F){const j=r.get(F),ie=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture&&!j.__autoAllocateDepthBuffer){if(ie)throw new Error("target.depthTexture not supported in Cube render targets");Ee(j.__webglFramebuffer,F)}else if(ie){j.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer[Te]),j.__webglDepthbuffer[Te]=n.createRenderbuffer(),X(j.__webglDepthbuffer[Te],F,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer=n.createRenderbuffer(),X(j.__webglDepthbuffer,F,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Pe(F,j,ie){const Te=r.get(F);j!==void 0&&Re(Te.__webglFramebuffer,F,F.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ie!==void 0&&pe(F)}function be(F){const j=F.texture,ie=r.get(F),Te=r.get(j);F.addEventListener("dispose",V),F.isWebGLMultipleRenderTargets!==!0&&(Te.__webglTexture===void 0&&(Te.__webglTexture=n.createTexture()),Te.__version=j.version,a.memory.textures++);const _e=F.isWebGLCubeRenderTarget===!0,De=F.isWebGLMultipleRenderTargets===!0,tt=T(F)||o;if(_e){ie.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(o&&j.mipmaps&&j.mipmaps.length>0){ie.__webglFramebuffer[Ue]=[];for(let We=0;We<j.mipmaps.length;We++)ie.__webglFramebuffer[Ue][We]=n.createFramebuffer()}else ie.__webglFramebuffer[Ue]=n.createFramebuffer()}else{if(o&&j.mipmaps&&j.mipmaps.length>0){ie.__webglFramebuffer=[];for(let Ue=0;Ue<j.mipmaps.length;Ue++)ie.__webglFramebuffer[Ue]=n.createFramebuffer()}else ie.__webglFramebuffer=n.createFramebuffer();if(De)if(i.drawBuffers){const Ue=F.texture;for(let We=0,mt=Ue.length;We<mt;We++){const zt=r.get(Ue[We]);zt.__webglTexture===void 0&&(zt.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&F.samples>0&&se(F)===!1){const Ue=De?j:[j];ie.__webglMultisampledFramebuffer=n.createFramebuffer(),ie.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglMultisampledFramebuffer);for(let We=0;We<Ue.length;We++){const mt=Ue[We];ie.__webglColorRenderbuffer[We]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ie.__webglColorRenderbuffer[We]);const zt=s.convert(mt.format,mt.colorSpace),ze=s.convert(mt.type),Wt=k(mt.internalFormat,zt,ze,mt.colorSpace,F.isXRRenderTarget===!0),pt=ee(F);n.renderbufferStorageMultisample(n.RENDERBUFFER,pt,Wt,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+We,n.RENDERBUFFER,ie.__webglColorRenderbuffer[We])}n.bindRenderbuffer(n.RENDERBUFFER,null),F.depthBuffer&&(ie.__webglDepthRenderbuffer=n.createRenderbuffer(),X(ie.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(_e){t.bindTexture(n.TEXTURE_CUBE_MAP,Te.__webglTexture),ne(n.TEXTURE_CUBE_MAP,j,tt);for(let Ue=0;Ue<6;Ue++)if(o&&j.mipmaps&&j.mipmaps.length>0)for(let We=0;We<j.mipmaps.length;We++)Re(ie.__webglFramebuffer[Ue][We],F,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,We);else Re(ie.__webglFramebuffer[Ue],F,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);P(j,tt)&&A(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(De){const Ue=F.texture;for(let We=0,mt=Ue.length;We<mt;We++){const zt=Ue[We],ze=r.get(zt);t.bindTexture(n.TEXTURE_2D,ze.__webglTexture),ne(n.TEXTURE_2D,zt,tt),Re(ie.__webglFramebuffer,F,zt,n.COLOR_ATTACHMENT0+We,n.TEXTURE_2D,0),P(zt,tt)&&A(n.TEXTURE_2D)}t.unbindTexture()}else{let Ue=n.TEXTURE_2D;if((F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(o?Ue=F.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ue,Te.__webglTexture),ne(Ue,j,tt),o&&j.mipmaps&&j.mipmaps.length>0)for(let We=0;We<j.mipmaps.length;We++)Re(ie.__webglFramebuffer[We],F,j,n.COLOR_ATTACHMENT0,Ue,We);else Re(ie.__webglFramebuffer,F,j,n.COLOR_ATTACHMENT0,Ue,0);P(j,tt)&&A(Ue),t.unbindTexture()}F.depthBuffer&&pe(F)}function et(F){const j=T(F)||o,ie=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Te=0,_e=ie.length;Te<_e;Te++){const De=ie[Te];if(P(De,j)){const tt=F.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ue=r.get(De).__webglTexture;t.bindTexture(tt,Ue),A(tt),t.unbindTexture()}}}function H(F){if(o&&F.samples>0&&se(F)===!1){const j=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],ie=F.width,Te=F.height;let _e=n.COLOR_BUFFER_BIT;const De=[],tt=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=r.get(F),We=F.isWebGLMultipleRenderTargets===!0;if(We)for(let mt=0;mt<j.length;mt++)t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ue.__webglFramebuffer);for(let mt=0;mt<j.length;mt++){De.push(n.COLOR_ATTACHMENT0+mt),F.depthBuffer&&De.push(tt);const zt=Ue.__ignoreDepthValues!==void 0?Ue.__ignoreDepthValues:!1;if(zt===!1&&(F.depthBuffer&&(_e|=n.DEPTH_BUFFER_BIT),F.stencilBuffer&&(_e|=n.STENCIL_BUFFER_BIT)),We&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[mt]),zt===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[tt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[tt])),We){const ze=r.get(j[mt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ze,0)}n.blitFramebuffer(0,0,ie,Te,0,0,ie,Te,_e,n.NEAREST),g&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,De)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),We)for(let mt=0;mt<j.length;mt++){t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[mt]);const zt=r.get(j[mt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.TEXTURE_2D,zt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer)}}function ee(F){return Math.min(p,F.samples)}function se(F){const j=r.get(F);return o&&F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function Me(F){const j=a.render.frame;v.get(F)!==j&&(v.set(F,j),F.update())}function Ae(F,j){const ie=F.colorSpace,Te=F.format,_e=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||F.format===Vx||ie!==Ea&&ie!==Li&&(on.getTransfer(ie)===mn?o===!1?e.has("EXT_sRGB")===!0&&Te===fi?(F.format=Vx,F.minFilter=$n,F.generateMipmaps=!1):j=bC.sRGBToLinear(j):(Te!==fi||_e!==ya)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ie)),j}this.allocateTextureUnit=O,this.resetTextureUnits=te,this.setTexture2D=Y,this.setTexture2DArray=L,this.setTexture3D=Z,this.setTextureCube=oe,this.rebindTextures=Pe,this.setupRenderTarget=be,this.updateRenderTargetMipmap=et,this.updateMultisampleRenderTarget=H,this.setupDepthRenderbuffer=pe,this.setupFrameBufferTexture=Re,this.useMultisampledRTT=se}function W5(n,e,t){const r=t.isWebGL2;function i(s,a=Li){let o;const l=on.getTransfer(a);if(s===ya)return n.UNSIGNED_BYTE;if(s===mC)return n.UNSIGNED_SHORT_4_4_4_4;if(s===gC)return n.UNSIGNED_SHORT_5_5_5_1;if(s===a5)return n.BYTE;if(s===o5)return n.SHORT;if(s===qy)return n.UNSIGNED_SHORT;if(s===pC)return n.INT;if(s===no)return n.UNSIGNED_INT;if(s===da)return n.FLOAT;if(s===sf)return r?n.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===l5)return n.ALPHA;if(s===fi)return n.RGBA;if(s===c5)return n.LUMINANCE;if(s===u5)return n.LUMINANCE_ALPHA;if(s===xl)return n.DEPTH_COMPONENT;if(s===Jc)return n.DEPTH_STENCIL;if(s===Vx)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===d5)return n.RED;if(s===vC)return n.RED_INTEGER;if(s===f5)return n.RG;if(s===xC)return n.RG_INTEGER;if(s===yC)return n.RGBA_INTEGER;if(s===x0||s===y0||s===w0||s===_0)if(l===mn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===x0)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===y0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===w0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===_0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===x0)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===y0)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===w0)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===_0)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===mE||s===gE||s===vE||s===xE)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===mE)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===gE)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===vE)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===xE)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===h5)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===yE||s===wE)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===yE)return l===mn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===wE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===_E||s===SE||s===bE||s===EE||s===ME||s===TE||s===CE||s===NE||s===AE||s===RE||s===PE||s===IE||s===DE||s===kE)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===_E)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===SE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===bE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===EE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===ME)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===TE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===CE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===NE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===AE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===RE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===PE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===IE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===DE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===kE)return l===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===S0||s===LE||s===OE)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===S0)return l===mn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===LE)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===OE)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===p5||s===jE||s===FE||s===UE)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===S0)return o.COMPRESSED_RED_RGTC1_EXT;if(s===jE)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===FE)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===UE)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===vl?r?n.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class G5 extends gr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class yd extends tn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const fae={type:"move"};class tS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new yd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new yd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new yd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const y of e.hand.values()){const w=t.getJointPose(y,r),x=this._getHandJoint(u,y);w!==null&&(x.matrix.fromArray(w.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=w.radius),x.visible=w!==null}const h=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],m=h.position.distanceTo(p.position),g=.02,v=.005;u.inputState.pinching&&m>g+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=g-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(fae)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new yd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class $5 extends Bn{constructor(e,t,r,i,s,a,o,l,u,h){if(h=h!==void 0?h:xl,h!==xl&&h!==Jc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===xl&&(r=no),r===void 0&&h===Jc&&(r=vl),super(null,i,s,a,o,l,h,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Wn,this.minFilter=l!==void 0?l:Wn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class hae extends Eo{constructor(e,t){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,u=null,h=null,p=null,m=null,g=null,v=null;const y=t.getContextAttributes();let w=null,x=null;const b=[],S=[],T=new gr;T.layers.enable(1),T.viewport=new ln;const C=new gr;C.layers.enable(2),C.viewport=new ln;const P=[T,C],A=new G5;A.layers.enable(1),A.layers.enable(2);let k=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(L){let Z=b[L];return Z===void 0&&(Z=new tS,b[L]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(L){let Z=b[L];return Z===void 0&&(Z=new tS,b[L]=Z),Z.getGripSpace()},this.getHand=function(L){let Z=b[L];return Z===void 0&&(Z=new tS,b[L]=Z),Z.getHandSpace()};function R(L){const Z=S.indexOf(L.inputSource);if(Z===-1)return;const oe=b[Z];oe!==void 0&&(oe.update(L.inputSource,L.frame,u||a),oe.dispatchEvent({type:L.type,data:L.inputSource}))}function U(){i.removeEventListener("select",R),i.removeEventListener("selectstart",R),i.removeEventListener("selectend",R),i.removeEventListener("squeeze",R),i.removeEventListener("squeezestart",R),i.removeEventListener("squeezeend",R),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",V);for(let L=0;L<b.length;L++){const Z=S[L];Z!==null&&(S[L]=null,b[L].disconnect(Z))}k=null,I=null,e.setRenderTarget(w),g=null,m=null,p=null,i=null,x=null,Y.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(L){s=L,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(L){o=L,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(L){u=L},this.getBaseLayer=function(){return m!==null?m:g},this.getBinding=function(){return p},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(L){if(i=L,i!==null){if(w=e.getRenderTarget(),i.addEventListener("select",R),i.addEventListener("selectstart",R),i.addEventListener("selectend",R),i.addEventListener("squeeze",R),i.addEventListener("squeezestart",R),i.addEventListener("squeezeend",R),i.addEventListener("end",U),i.addEventListener("inputsourceschange",V),y.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,t,Z),i.updateRenderState({baseLayer:g}),x=new Ls(g.framebufferWidth,g.framebufferHeight,{format:fi,type:ya,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let Z=null,oe=null,de=null;y.depth&&(de=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Z=y.stencil?Jc:xl,oe=y.stencil?vl:no);const ye={colorFormat:t.RGBA8,depthFormat:de,scaleFactor:s};p=new XRWebGLBinding(i,t),m=p.createProjectionLayer(ye),i.updateRenderState({layers:[m]}),x=new Ls(m.textureWidth,m.textureHeight,{format:fi,type:ya,depthTexture:new $5(m.textureWidth,m.textureHeight,oe,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const we=e.properties.get(x);we.__ignoreDepthValues=m.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(o),Y.setContext(i),Y.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function V(L){for(let Z=0;Z<L.removed.length;Z++){const oe=L.removed[Z],de=S.indexOf(oe);de>=0&&(S[de]=null,b[de].disconnect(oe))}for(let Z=0;Z<L.added.length;Z++){const oe=L.added[Z];let de=S.indexOf(oe);if(de===-1){for(let we=0;we<b.length;we++)if(we>=S.length){S.push(oe),de=we;break}else if(S[we]===null){S[we]=oe,de=we;break}if(de===-1)break}const ye=b[de];ye&&ye.connect(oe)}}const J=new $,z=new $;function Q(L,Z,oe){J.setFromMatrixPosition(Z.matrixWorld),z.setFromMatrixPosition(oe.matrixWorld);const de=J.distanceTo(z),ye=Z.projectionMatrix.elements,we=oe.projectionMatrix.elements,ne=ye[14]/(ye[10]-1),fe=ye[14]/(ye[10]+1),Le=(ye[9]+1)/ye[5],ke=(ye[9]-1)/ye[5],Re=(ye[8]-1)/ye[0],X=(we[8]+1)/we[0],Ee=ne*Re,pe=ne*X,Pe=de/(-Re+X),be=Pe*-Re;Z.matrixWorld.decompose(L.position,L.quaternion,L.scale),L.translateX(be),L.translateZ(Pe),L.matrixWorld.compose(L.position,L.quaternion,L.scale),L.matrixWorldInverse.copy(L.matrixWorld).invert();const et=ne+Pe,H=fe+Pe,ee=Ee-be,se=pe+(de-be),Me=Le*fe/H*et,Ae=ke*fe/H*et;L.projectionMatrix.makePerspective(ee,se,Me,Ae,et,H),L.projectionMatrixInverse.copy(L.projectionMatrix).invert()}function W(L,Z){Z===null?L.matrixWorld.copy(L.matrix):L.matrixWorld.multiplyMatrices(Z.matrixWorld,L.matrix),L.matrixWorldInverse.copy(L.matrixWorld).invert()}this.updateCamera=function(L){if(i===null)return;A.near=C.near=T.near=L.near,A.far=C.far=T.far=L.far,(k!==A.near||I!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),k=A.near,I=A.far);const Z=L.parent,oe=A.cameras;W(A,Z);for(let de=0;de<oe.length;de++)W(oe[de],Z);oe.length===2?Q(A,T,C):A.projectionMatrix.copy(T.projectionMatrix),te(L,A,Z)};function te(L,Z,oe){oe===null?L.matrix.copy(Z.matrixWorld):(L.matrix.copy(oe.matrixWorld),L.matrix.invert(),L.matrix.multiply(Z.matrixWorld)),L.matrix.decompose(L.position,L.quaternion,L.scale),L.updateMatrixWorld(!0),L.projectionMatrix.copy(Z.projectionMatrix),L.projectionMatrixInverse.copy(Z.projectionMatrixInverse),L.isPerspectiveCamera&&(L.fov=af*2*Math.atan(1/L.projectionMatrix.elements[5]),L.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(m===null&&g===null))return l},this.setFoveation=function(L){l=L,m!==null&&(m.fixedFoveation=L),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=L)};let O=null;function B(L,Z){if(h=Z.getViewerPose(u||a),v=Z,h!==null){const oe=h.views;g!==null&&(e.setRenderTargetFramebuffer(x,g.framebuffer),e.setRenderTarget(x));let de=!1;oe.length!==A.cameras.length&&(A.cameras.length=0,de=!0);for(let ye=0;ye<oe.length;ye++){const we=oe[ye];let ne=null;if(g!==null)ne=g.getViewport(we);else{const Le=p.getViewSubImage(m,we);ne=Le.viewport,ye===0&&(e.setRenderTargetTextures(x,Le.colorTexture,m.ignoreDepthValues?void 0:Le.depthStencilTexture),e.setRenderTarget(x))}let fe=P[ye];fe===void 0&&(fe=new gr,fe.layers.enable(ye),fe.viewport=new ln,P[ye]=fe),fe.matrix.fromArray(we.transform.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.projectionMatrix.fromArray(we.projectionMatrix),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert(),fe.viewport.set(ne.x,ne.y,ne.width,ne.height),ye===0&&(A.matrix.copy(fe.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),de===!0&&A.cameras.push(fe)}}for(let oe=0;oe<b.length;oe++){const de=S[oe],ye=b[oe];de!==null&&ye!==void 0&&ye.update(de,Z,u||a)}O&&O(L,Z),Z.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Z}),v=null}const Y=new U5;Y.setAnimationLoop(B),this.setAnimationLoop=function(L){O=L},this.dispose=function(){}}}function pae(n,e){function t(w,x){w.matrixAutoUpdate===!0&&w.updateMatrix(),x.value.copy(w.matrix)}function r(w,x){x.color.getRGB(w.fogColor.value,L5(n)),x.isFog?(w.fogNear.value=x.near,w.fogFar.value=x.far):x.isFogExp2&&(w.fogDensity.value=x.density)}function i(w,x,b,S,T){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(w,x):x.isMeshToonMaterial?(s(w,x),p(w,x)):x.isMeshPhongMaterial?(s(w,x),h(w,x)):x.isMeshStandardMaterial?(s(w,x),m(w,x),x.isMeshPhysicalMaterial&&g(w,x,T)):x.isMeshMatcapMaterial?(s(w,x),v(w,x)):x.isMeshDepthMaterial?s(w,x):x.isMeshDistanceMaterial?(s(w,x),y(w,x)):x.isMeshNormalMaterial?s(w,x):x.isLineBasicMaterial?(a(w,x),x.isLineDashedMaterial&&o(w,x)):x.isPointsMaterial?l(w,x,b,S):x.isSpriteMaterial?u(w,x):x.isShadowMaterial?(w.color.value.copy(x.color),w.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(w,x){w.opacity.value=x.opacity,x.color&&w.diffuse.value.copy(x.color),x.emissive&&w.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(w.map.value=x.map,t(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.bumpMap&&(w.bumpMap.value=x.bumpMap,t(x.bumpMap,w.bumpMapTransform),w.bumpScale.value=x.bumpScale,x.side===Jr&&(w.bumpScale.value*=-1)),x.normalMap&&(w.normalMap.value=x.normalMap,t(x.normalMap,w.normalMapTransform),w.normalScale.value.copy(x.normalScale),x.side===Jr&&w.normalScale.value.negate()),x.displacementMap&&(w.displacementMap.value=x.displacementMap,t(x.displacementMap,w.displacementMapTransform),w.displacementScale.value=x.displacementScale,w.displacementBias.value=x.displacementBias),x.emissiveMap&&(w.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,w.emissiveMapTransform)),x.specularMap&&(w.specularMap.value=x.specularMap,t(x.specularMap,w.specularMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest);const b=e.get(x).envMap;if(b&&(w.envMap.value=b,w.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=x.reflectivity,w.ior.value=x.ior,w.refractionRatio.value=x.refractionRatio),x.lightMap){w.lightMap.value=x.lightMap;const S=n._useLegacyLights===!0?Math.PI:1;w.lightMapIntensity.value=x.lightMapIntensity*S,t(x.lightMap,w.lightMapTransform)}x.aoMap&&(w.aoMap.value=x.aoMap,w.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,w.aoMapTransform))}function a(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,x.map&&(w.map.value=x.map,t(x.map,w.mapTransform))}function o(w,x){w.dashSize.value=x.dashSize,w.totalSize.value=x.dashSize+x.gapSize,w.scale.value=x.scale}function l(w,x,b,S){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.size.value=x.size*b,w.scale.value=S*.5,x.map&&(w.map.value=x.map,t(x.map,w.uvTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function u(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.rotation.value=x.rotation,x.map&&(w.map.value=x.map,t(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function h(w,x){w.specular.value.copy(x.specular),w.shininess.value=Math.max(x.shininess,1e-4)}function p(w,x){x.gradientMap&&(w.gradientMap.value=x.gradientMap)}function m(w,x){w.metalness.value=x.metalness,x.metalnessMap&&(w.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,w.metalnessMapTransform)),w.roughness.value=x.roughness,x.roughnessMap&&(w.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,w.roughnessMapTransform)),e.get(x).envMap&&(w.envMapIntensity.value=x.envMapIntensity)}function g(w,x,b){w.ior.value=x.ior,x.sheen>0&&(w.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),w.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(w.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,w.sheenColorMapTransform)),x.sheenRoughnessMap&&(w.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,w.sheenRoughnessMapTransform))),x.clearcoat>0&&(w.clearcoat.value=x.clearcoat,w.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(w.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,w.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(w.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Jr&&w.clearcoatNormalScale.value.negate())),x.iridescence>0&&(w.iridescence.value=x.iridescence,w.iridescenceIOR.value=x.iridescenceIOR,w.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(w.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,w.iridescenceMapTransform)),x.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),x.transmission>0&&(w.transmission.value=x.transmission,w.transmissionSamplerMap.value=b.texture,w.transmissionSamplerSize.value.set(b.width,b.height),x.transmissionMap&&(w.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,w.transmissionMapTransform)),w.thickness.value=x.thickness,x.thicknessMap&&(w.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=x.attenuationDistance,w.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(w.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(w.anisotropyMap.value=x.anisotropyMap,t(x.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=x.specularIntensity,w.specularColor.value.copy(x.specularColor),x.specularColorMap&&(w.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,w.specularColorMapTransform)),x.specularIntensityMap&&(w.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,w.specularIntensityMapTransform))}function v(w,x){x.matcap&&(w.matcap.value=x.matcap)}function y(w,x){const b=e.get(x).light;w.referencePosition.value.setFromMatrixPosition(b.matrixWorld),w.nearDistance.value=b.shadow.camera.near,w.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function mae(n,e,t,r){let i={},s={},a=[];const o=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(b,S){const T=S.program;r.uniformBlockBinding(b,T)}function u(b,S){let T=i[b.id];T===void 0&&(v(b),T=h(b),i[b.id]=T,b.addEventListener("dispose",w));const C=S.program;r.updateUBOMapping(b,C);const P=e.render.frame;s[b.id]!==P&&(m(b),s[b.id]=P)}function h(b){const S=p();b.__bindingPointIndex=S;const T=n.createBuffer(),C=b.__size,P=b.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,C,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,T),T}function p(){for(let b=0;b<o;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(b){const S=i[b.id],T=b.uniforms,C=b.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let P=0,A=T.length;P<A;P++){const k=T[P];if(g(k,P,C)===!0){const I=k.__offset,R=Array.isArray(k.value)?k.value:[k.value];let U=0;for(let V=0;V<R.length;V++){const J=R[V],z=y(J);typeof J=="number"?(k.__data[0]=J,n.bufferSubData(n.UNIFORM_BUFFER,I+U,k.__data)):J.isMatrix3?(k.__data[0]=J.elements[0],k.__data[1]=J.elements[1],k.__data[2]=J.elements[2],k.__data[3]=J.elements[0],k.__data[4]=J.elements[3],k.__data[5]=J.elements[4],k.__data[6]=J.elements[5],k.__data[7]=J.elements[0],k.__data[8]=J.elements[6],k.__data[9]=J.elements[7],k.__data[10]=J.elements[8],k.__data[11]=J.elements[0]):(J.toArray(k.__data,U),U+=z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,I,k.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function g(b,S,T){const C=b.value;if(T[S]===void 0){if(typeof C=="number")T[S]=C;else{const P=Array.isArray(C)?C:[C],A=[];for(let k=0;k<P.length;k++)A.push(P[k].clone());T[S]=A}return!0}else if(typeof C=="number"){if(T[S]!==C)return T[S]=C,!0}else{const P=Array.isArray(T[S])?T[S]:[T[S]],A=Array.isArray(C)?C:[C];for(let k=0;k<P.length;k++){const I=P[k];if(I.equals(A[k])===!1)return I.copy(A[k]),!0}}return!1}function v(b){const S=b.uniforms;let T=0;const C=16;let P=0;for(let A=0,k=S.length;A<k;A++){const I=S[A],R={boundary:0,storage:0},U=Array.isArray(I.value)?I.value:[I.value];for(let V=0,J=U.length;V<J;V++){const z=U[V],Q=y(z);R.boundary+=Q.boundary,R.storage+=Q.storage}if(I.__data=new Float32Array(R.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=T,A>0){P=T%C;const V=C-P;P!==0&&V-R.boundary<0&&(T+=C-P,I.__offset=T)}T+=R.storage}return P=T%C,P>0&&(T+=C-P),b.__size=T,b.__cache={},this}function y(b){const S={boundary:0,storage:0};return typeof b=="number"?(S.boundary=4,S.storage=4):b.isVector2?(S.boundary=8,S.storage=8):b.isVector3||b.isColor?(S.boundary=16,S.storage=12):b.isVector4?(S.boundary=16,S.storage=16):b.isMatrix3?(S.boundary=48,S.storage=48):b.isMatrix4?(S.boundary=64,S.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),S}function w(b){const S=b.target;S.removeEventListener("dispose",w);const T=a.indexOf(S.__bindingPointIndex);a.splice(T,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function x(){for(const b in i)n.deleteBuffer(i[b]);a=[],i={},s={}}return{bind:l,update:u,dispose:x}}class RC{constructor(e={}){const{canvas:t=I5(),context:r=null,depth:i=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let m;r!==null?m=r.getContextAttributes().alpha:m=a;const g=new Uint32Array(4),v=new Int32Array(4);let y=null,w=null;const x=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=sr,this._useLegacyLights=!1,this.toneMapping=xa,this.toneMappingExposure=1;const S=this;let T=!1,C=0,P=0,A=null,k=-1,I=null;const R=new ln,U=new ln;let V=null;const J=new it(0);let z=0,Q=t.width,W=t.height,te=1,O=null,B=null;const Y=new ln(0,0,Q,W),L=new ln(0,0,Q,W);let Z=!1;const oe=new Qy;let de=!1,ye=!1,we=null;const ne=new Pt,fe=new Ne,Le=new $,ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Re(){return A===null?te:1}let X=r;function Ee(G,le){for(let ve=0;ve<G.length;ve++){const ue=G[ve],xe=t.getContext(ue,le);if(xe!==null)return xe}return null}try{const G={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${$y}`),t.addEventListener("webglcontextlost",Ce,!1),t.addEventListener("webglcontextrestored",Oe,!1),t.addEventListener("webglcontextcreationerror",Ge,!1),X===null){const le=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&le.shift(),X=Ee(le,G),X===null)throw Ee(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&X instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let pe,Pe,be,et,H,ee,se,Me,Ae,F,j,ie,Te,_e,De,tt,Ue,We,mt,zt,ze,Wt,pt,xt;function je(){pe=new Pie(X),Pe=new Mie(X,pe,e),pe.init(Pe),Wt=new W5(X,pe,Pe),be=new uae(X,pe,Pe),et=new kie(X),H=new Jse,ee=new dae(X,pe,be,H,Pe,Wt,et),se=new Cie(S),Me=new Rie(S),Ae=new Wte(X,Pe),pt=new bie(X,pe,Ae,Pe),F=new Iie(X,Ae,et,pt),j=new Fie(X,F,Ae,et),mt=new jie(X,Pe,ee),tt=new Tie(H),ie=new Kse(S,se,Me,pe,Pe,pt,tt),Te=new pae(S,H),_e=new eae,De=new aae(pe,Pe),We=new Sie(S,se,Me,be,j,m,l),Ue=new cae(S,j,Pe),xt=new mae(X,et,Pe,be),zt=new Eie(X,pe,et,Pe),ze=new Die(X,pe,et,Pe),et.programs=ie.programs,S.capabilities=Pe,S.extensions=pe,S.properties=H,S.renderLists=_e,S.shadowMap=Ue,S.state=be,S.info=et}je();const K=new hae(S,X);this.xr=K,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const G=pe.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=pe.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(G){G!==void 0&&(te=G,this.setSize(Q,W,!1))},this.getSize=function(G){return G.set(Q,W)},this.setSize=function(G,le,ve=!0){if(K.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=G,W=le,t.width=Math.floor(G*te),t.height=Math.floor(le*te),ve===!0&&(t.style.width=G+"px",t.style.height=le+"px"),this.setViewport(0,0,G,le)},this.getDrawingBufferSize=function(G){return G.set(Q*te,W*te).floor()},this.setDrawingBufferSize=function(G,le,ve){Q=G,W=le,te=ve,t.width=Math.floor(G*ve),t.height=Math.floor(le*ve),this.setViewport(0,0,G,le)},this.getCurrentViewport=function(G){return G.copy(R)},this.getViewport=function(G){return G.copy(Y)},this.setViewport=function(G,le,ve,ue){G.isVector4?Y.set(G.x,G.y,G.z,G.w):Y.set(G,le,ve,ue),be.viewport(R.copy(Y).multiplyScalar(te).floor())},this.getScissor=function(G){return G.copy(L)},this.setScissor=function(G,le,ve,ue){G.isVector4?L.set(G.x,G.y,G.z,G.w):L.set(G,le,ve,ue),be.scissor(U.copy(L).multiplyScalar(te).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(G){be.setScissorTest(Z=G)},this.setOpaqueSort=function(G){O=G},this.setTransparentSort=function(G){B=G},this.getClearColor=function(G){return G.copy(We.getClearColor())},this.setClearColor=function(){We.setClearColor.apply(We,arguments)},this.getClearAlpha=function(){return We.getClearAlpha()},this.setClearAlpha=function(){We.setClearAlpha.apply(We,arguments)},this.clear=function(G=!0,le=!0,ve=!0){let ue=0;if(G){let xe=!1;if(A!==null){const st=A.texture.format;xe=st===yC||st===xC||st===vC}if(xe){const st=A.texture.type,gt=st===ya||st===no||st===qy||st===vl||st===mC||st===gC,_t=We.getClearColor(),St=We.getClearAlpha(),Bt=_t.r,yt=_t.g,Et=_t.b;gt?(g[0]=Bt,g[1]=yt,g[2]=Et,g[3]=St,X.clearBufferuiv(X.COLOR,0,g)):(v[0]=Bt,v[1]=yt,v[2]=Et,v[3]=St,X.clearBufferiv(X.COLOR,0,v))}else ue|=X.COLOR_BUFFER_BIT}le&&(ue|=X.DEPTH_BUFFER_BIT),ve&&(ue|=X.STENCIL_BUFFER_BIT),X.clear(ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ce,!1),t.removeEventListener("webglcontextrestored",Oe,!1),t.removeEventListener("webglcontextcreationerror",Ge,!1),_e.dispose(),De.dispose(),H.dispose(),se.dispose(),Me.dispose(),j.dispose(),pt.dispose(),xt.dispose(),ie.dispose(),K.dispose(),K.removeEventListener("sessionstart",un),K.removeEventListener("sessionend",bi),we&&(we.dispose(),we=null),wr.stop()};function Ce(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function Oe(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const G=et.autoReset,le=Ue.enabled,ve=Ue.autoUpdate,ue=Ue.needsUpdate,xe=Ue.type;je(),et.autoReset=G,Ue.enabled=le,Ue.autoUpdate=ve,Ue.needsUpdate=ue,Ue.type=xe}function Ge(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function $e(G){const le=G.target;le.removeEventListener("dispose",$e),Ie(le)}function Ie(G){ut(G),H.remove(G)}function ut(G){const le=H.get(G).programs;le!==void 0&&(le.forEach(function(ve){ie.releaseProgram(ve)}),G.isShaderMaterial&&ie.releaseShaderCache(G))}this.renderBufferDirect=function(G,le,ve,ue,xe,st){le===null&&(le=ke);const gt=xe.isMesh&&xe.matrixWorld.determinant()<0,_t=_w(G,le,ve,ue,xe);be.setMaterial(ue,gt);let St=ve.index,Bt=1;if(ue.wireframe===!0){if(St=F.getWireframeAttribute(ve),St===void 0)return;Bt=2}const yt=ve.drawRange,Et=ve.attributes.position;let pn=yt.start*Bt,vn=(yt.start+yt.count)*Bt;st!==null&&(pn=Math.max(pn,st.start*Bt),vn=Math.min(vn,(st.start+st.count)*Bt)),St!==null?(pn=Math.max(pn,0),vn=Math.min(vn,St.count)):Et!=null&&(pn=Math.max(pn,0),vn=Math.min(vn,Et.count));const ri=vn-pn;if(ri<0||ri===1/0)return;pt.setup(xe,ue,_t,ve,St);let Ei,dn=zt;if(St!==null&&(Ei=Ae.get(St),dn=ze,dn.setIndex(Ei)),xe.isMesh)ue.wireframe===!0?(be.setLineWidth(ue.wireframeLinewidth*Re()),dn.setMode(X.LINES)):dn.setMode(X.TRIANGLES);else if(xe.isLine){let Ct=ue.linewidth;Ct===void 0&&(Ct=1),be.setLineWidth(Ct*Re()),xe.isLineSegments?dn.setMode(X.LINES):xe.isLineLoop?dn.setMode(X.LINE_LOOP):dn.setMode(X.LINE_STRIP)}else xe.isPoints?dn.setMode(X.POINTS):xe.isSprite&&dn.setMode(X.TRIANGLES);if(xe.isInstancedMesh)dn.renderInstances(pn,ri,xe.count);else if(ve.isInstancedBufferGeometry){const Ct=ve._maxInstanceCount!==void 0?ve._maxInstanceCount:1/0,sn=Math.min(ve.instanceCount,Ct);dn.renderInstances(pn,ri,sn)}else dn.render(pn,ri)},this.compile=function(G,le){function ve(ue,xe,st){ue.transparent===!0&&ue.side===la&&ue.forceSinglePass===!1?(ue.side=Jr,ue.needsUpdate=!0,Vs(ue,xe,st),ue.side=mo,ue.needsUpdate=!0,Vs(ue,xe,st),ue.side=la):Vs(ue,xe,st)}w=De.get(G),w.init(),b.push(w),G.traverseVisible(function(ue){ue.isLight&&ue.layers.test(le.layers)&&(w.pushLight(ue),ue.castShadow&&w.pushShadow(ue))}),w.setupLights(S._useLegacyLights),G.traverse(function(ue){const xe=ue.material;if(xe)if(Array.isArray(xe))for(let st=0;st<xe.length;st++){const gt=xe[st];ve(gt,G,ue)}else ve(xe,G,ue)}),b.pop(),w=null};let Nt=null;function cr(G){Nt&&Nt(G)}function un(){wr.stop()}function bi(){wr.start()}const wr=new U5;wr.setAnimationLoop(cr),typeof self<"u"&&wr.setContext(self),this.setAnimationLoop=function(G){Nt=G,K.setAnimationLoop(G),G===null?wr.stop():wr.start()},K.addEventListener("sessionstart",un),K.addEventListener("sessionend",bi),this.render=function(G,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),K.enabled===!0&&K.isPresenting===!0&&(K.cameraAutoUpdate===!0&&K.updateCamera(le),le=K.getCamera()),G.isScene===!0&&G.onBeforeRender(S,G,le,A),w=De.get(G,b.length),w.init(),b.push(w),ne.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),oe.setFromProjectionMatrix(ne),ye=this.localClippingEnabled,de=tt.init(this.clippingPlanes,ye),y=_e.get(G,x.length),y.init(),x.push(y),Im(G,le,0,S.sortObjects),y.finish(),S.sortObjects===!0&&y.sort(O,B),this.info.render.frame++,de===!0&&tt.beginShadows();const ve=w.state.shadowsArray;if(Ue.render(ve,G,le),de===!0&&tt.endShadows(),this.info.autoReset===!0&&this.info.reset(),We.render(y,G),w.setupLights(S._useLegacyLights),le.isArrayCamera){const ue=le.cameras;for(let xe=0,st=ue.length;xe<st;xe++){const gt=ue[xe];Dm(y,G,gt,gt.viewport)}}else Dm(y,G,le);A!==null&&(ee.updateMultisampleRenderTarget(A),ee.updateRenderTargetMipmap(A)),G.isScene===!0&&G.onAfterRender(S,G,le),pt.resetDefaultState(),k=-1,I=null,b.pop(),b.length>0?w=b[b.length-1]:w=null,x.pop(),x.length>0?y=x[x.length-1]:y=null};function Im(G,le,ve,ue){if(G.visible===!1)return;if(G.layers.test(le.layers)){if(G.isGroup)ve=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(le);else if(G.isLight)w.pushLight(G),G.castShadow&&w.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||oe.intersectsSprite(G)){ue&&Le.setFromMatrixPosition(G.matrixWorld).applyMatrix4(ne);const gt=j.update(G),_t=G.material;_t.visible&&y.push(G,gt,_t,ve,Le.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||oe.intersectsObject(G))){const gt=j.update(G),_t=G.material;if(ue&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),Le.copy(G.boundingSphere.center)):(gt.boundingSphere===null&&gt.computeBoundingSphere(),Le.copy(gt.boundingSphere.center)),Le.applyMatrix4(G.matrixWorld).applyMatrix4(ne)),Array.isArray(_t)){const St=gt.groups;for(let Bt=0,yt=St.length;Bt<yt;Bt++){const Et=St[Bt],pn=_t[Et.materialIndex];pn&&pn.visible&&y.push(G,gt,pn,ve,Le.z,Et)}}else _t.visible&&y.push(G,gt,_t,ve,Le.z,null)}}const st=G.children;for(let gt=0,_t=st.length;gt<_t;gt++)Im(st[gt],le,ve,ue)}function Dm(G,le,ve,ue){const xe=G.opaque,st=G.transmissive,gt=G.transparent;w.setupLightsView(ve),de===!0&&tt.setGlobalState(S.clippingPlanes,ve),st.length>0&&km(xe,st,le,ve),ue&&be.viewport(R.copy(ue)),xe.length>0&&Mo(xe,le,ve),st.length>0&&Mo(st,le,ve),gt.length>0&&Mo(gt,le,ve),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1)}function km(G,le,ve,ue){const xe=Pe.isWebGL2;we===null&&(we=new Ls(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")?sf:ya,minFilter:Pl,samples:xe?4:0})),S.getDrawingBufferSize(fe),xe?we.setSize(fe.x,fe.y):we.setSize(Hx(fe.x),Hx(fe.y));const st=S.getRenderTarget();S.setRenderTarget(we),S.getClearColor(J),z=S.getClearAlpha(),z<1&&S.setClearColor(16777215,.5),S.clear();const gt=S.toneMapping;S.toneMapping=xa,Mo(G,ve,ue),ee.updateMultisampleRenderTarget(we),ee.updateRenderTargetMipmap(we);let _t=!1;for(let St=0,Bt=le.length;St<Bt;St++){const yt=le[St],Et=yt.object,pn=yt.geometry,vn=yt.material,ri=yt.group;if(vn.side===la&&Et.layers.test(ue.layers)){const Ei=vn.side;vn.side=Jr,vn.needsUpdate=!0,Lm(Et,ve,ue,pn,vn,ri),vn.side=Ei,vn.needsUpdate=!0,_t=!0}}_t===!0&&(ee.updateMultisampleRenderTarget(we),ee.updateRenderTargetMipmap(we)),S.setRenderTarget(st),S.setClearColor(J,z),S.toneMapping=gt}function Mo(G,le,ve){const ue=le.isScene===!0?le.overrideMaterial:null;for(let xe=0,st=G.length;xe<st;xe++){const gt=G[xe],_t=gt.object,St=gt.geometry,Bt=ue===null?gt.material:ue,yt=gt.group;_t.layers.test(ve.layers)&&Lm(_t,le,ve,St,Bt,yt)}}function Lm(G,le,ve,ue,xe,st){G.onBeforeRender(S,le,ve,ue,xe,st),G.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),xe.onBeforeRender(S,le,ve,ue,G,st),xe.transparent===!0&&xe.side===la&&xe.forceSinglePass===!1?(xe.side=Jr,xe.needsUpdate=!0,S.renderBufferDirect(ve,le,ue,xe,G,st),xe.side=mo,xe.needsUpdate=!0,S.renderBufferDirect(ve,le,ue,xe,G,st),xe.side=la):S.renderBufferDirect(ve,le,ue,xe,G,st),G.onAfterRender(S,le,ve,ue,xe,st)}function Vs(G,le,ve){le.isScene!==!0&&(le=ke);const ue=H.get(G),xe=w.state.lights,st=w.state.shadowsArray,gt=xe.state.version,_t=ie.getParameters(G,xe.state,st,le,ve),St=ie.getProgramCacheKey(_t);let Bt=ue.programs;ue.environment=G.isMeshStandardMaterial?le.environment:null,ue.fog=le.fog,ue.envMap=(G.isMeshStandardMaterial?Me:se).get(G.envMap||ue.environment),Bt===void 0&&(G.addEventListener("dispose",$e),Bt=new Map,ue.programs=Bt);let yt=Bt.get(St);if(yt!==void 0){if(ue.currentProgram===yt&&ue.lightsStateVersion===gt)return Om(G,_t),yt}else _t.uniforms=ie.getUniforms(G),G.onBuild(ve,_t,S),G.onBeforeCompile(_t,S),yt=ie.acquireProgram(_t,St),Bt.set(St,yt),ue.uniforms=_t.uniforms;const Et=ue.uniforms;(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(Et.clippingPlanes=tt.uniform),Om(G,_t),ue.needsLights=bw(G),ue.lightsStateVersion=gt,ue.needsLights&&(Et.ambientLightColor.value=xe.state.ambient,Et.lightProbe.value=xe.state.probe,Et.directionalLights.value=xe.state.directional,Et.directionalLightShadows.value=xe.state.directionalShadow,Et.spotLights.value=xe.state.spot,Et.spotLightShadows.value=xe.state.spotShadow,Et.rectAreaLights.value=xe.state.rectArea,Et.ltc_1.value=xe.state.rectAreaLTC1,Et.ltc_2.value=xe.state.rectAreaLTC2,Et.pointLights.value=xe.state.point,Et.pointLightShadows.value=xe.state.pointShadow,Et.hemisphereLights.value=xe.state.hemi,Et.directionalShadowMap.value=xe.state.directionalShadowMap,Et.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,Et.spotShadowMap.value=xe.state.spotShadowMap,Et.spotLightMatrix.value=xe.state.spotLightMatrix,Et.spotLightMap.value=xe.state.spotLightMap,Et.pointShadowMap.value=xe.state.pointShadowMap,Et.pointShadowMatrix.value=xe.state.pointShadowMatrix);const pn=yt.getUniforms(),vn=M0.seqWithValue(pn.seq,Et);return ue.currentProgram=yt,ue.uniformsList=vn,yt}function Om(G,le){const ve=H.get(G);ve.outputColorSpace=le.outputColorSpace,ve.instancing=le.instancing,ve.instancingColor=le.instancingColor,ve.skinning=le.skinning,ve.morphTargets=le.morphTargets,ve.morphNormals=le.morphNormals,ve.morphColors=le.morphColors,ve.morphTargetsCount=le.morphTargetsCount,ve.numClippingPlanes=le.numClippingPlanes,ve.numIntersection=le.numClipIntersection,ve.vertexAlphas=le.vertexAlphas,ve.vertexTangents=le.vertexTangents,ve.toneMapping=le.toneMapping}function _w(G,le,ve,ue,xe){le.isScene!==!0&&(le=ke),ee.resetTextureUnits();const st=le.fog,gt=ue.isMeshStandardMaterial?le.environment:null,_t=A===null?S.outputColorSpace:A.isXRRenderTarget===!0?A.texture.colorSpace:Ea,St=(ue.isMeshStandardMaterial?Me:se).get(ue.envMap||gt),Bt=ue.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,yt=!!ve.attributes.tangent&&(!!ue.normalMap||ue.anisotropy>0),Et=!!ve.morphAttributes.position,pn=!!ve.morphAttributes.normal,vn=!!ve.morphAttributes.color;let ri=xa;ue.toneMapped&&(A===null||A.isXRRenderTarget===!0)&&(ri=S.toneMapping);const Ei=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,dn=Ei!==void 0?Ei.length:0,Ct=H.get(ue),sn=w.state.lights;if(de===!0&&(ye===!0||G!==I)){const Ar=G===I&&ue.id===k;tt.setState(ue,G,Ar)}let bt=!1;ue.version===Ct.__version?(Ct.needsLights&&Ct.lightsStateVersion!==sn.state.version||Ct.outputColorSpace!==_t||xe.isInstancedMesh&&Ct.instancing===!1||!xe.isInstancedMesh&&Ct.instancing===!0||xe.isSkinnedMesh&&Ct.skinning===!1||!xe.isSkinnedMesh&&Ct.skinning===!0||xe.isInstancedMesh&&Ct.instancingColor===!0&&xe.instanceColor===null||xe.isInstancedMesh&&Ct.instancingColor===!1&&xe.instanceColor!==null||Ct.envMap!==St||ue.fog===!0&&Ct.fog!==st||Ct.numClippingPlanes!==void 0&&(Ct.numClippingPlanes!==tt.numPlanes||Ct.numIntersection!==tt.numIntersection)||Ct.vertexAlphas!==Bt||Ct.vertexTangents!==yt||Ct.morphTargets!==Et||Ct.morphNormals!==pn||Ct.morphColors!==vn||Ct.toneMapping!==ri||Pe.isWebGL2===!0&&Ct.morphTargetsCount!==dn)&&(bt=!0):(bt=!0,Ct.__version=ue.version);let Nr=Ct.currentProgram;bt===!0&&(Nr=Vs(ue,le,xe));let tr=!1,Zn=!1,fs=!1;const Rn=Nr.getUniforms(),Pn=Ct.uniforms;if(be.useProgram(Nr.program)&&(tr=!0,Zn=!0,fs=!0),ue.id!==k&&(k=ue.id,Zn=!0),tr||I!==G){Rn.setValue(X,"projectionMatrix",G.projectionMatrix),Rn.setValue(X,"viewMatrix",G.matrixWorldInverse);const Ar=Rn.map.cameraPosition;Ar!==void 0&&Ar.setValue(X,Le.setFromMatrixPosition(G.matrixWorld)),Pe.logarithmicDepthBuffer&&Rn.setValue(X,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial)&&Rn.setValue(X,"isOrthographic",G.isOrthographicCamera===!0),I!==G&&(I=G,Zn=!0,fs=!0)}if(xe.isSkinnedMesh){Rn.setOptional(X,xe,"bindMatrix"),Rn.setOptional(X,xe,"bindMatrixInverse");const Ar=xe.skeleton;Ar&&(Pe.floatVertexTextures?(Ar.boneTexture===null&&Ar.computeBoneTexture(),Rn.setValue(X,"boneTexture",Ar.boneTexture,ee),Rn.setValue(X,"boneTextureSize",Ar.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const To=ve.morphAttributes;if((To.position!==void 0||To.normal!==void 0||To.color!==void 0&&Pe.isWebGL2===!0)&&mt.update(xe,ve,Nr),(Zn||Ct.receiveShadow!==xe.receiveShadow)&&(Ct.receiveShadow=xe.receiveShadow,Rn.setValue(X,"receiveShadow",xe.receiveShadow)),ue.isMeshGouraudMaterial&&ue.envMap!==null&&(Pn.envMap.value=St,Pn.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),Zn&&(Rn.setValue(X,"toneMappingExposure",S.toneMappingExposure),Ct.needsLights&&Sw(Pn,fs),st&&ue.fog===!0&&Te.refreshFogUniforms(Pn,st),Te.refreshMaterialUniforms(Pn,ue,te,W,we),M0.upload(X,Ct.uniformsList,Pn,ee)),ue.isShaderMaterial&&ue.uniformsNeedUpdate===!0&&(M0.upload(X,Ct.uniformsList,Pn,ee),ue.uniformsNeedUpdate=!1),ue.isSpriteMaterial&&Rn.setValue(X,"center",xe.center),Rn.setValue(X,"modelViewMatrix",xe.modelViewMatrix),Rn.setValue(X,"normalMatrix",xe.normalMatrix),Rn.setValue(X,"modelMatrix",xe.matrixWorld),ue.isShaderMaterial||ue.isRawShaderMaterial){const Ar=ue.uniformsGroups;for(let cu=0,uu=Ar.length;cu<uu;cu++)if(Pe.isWebGL2){const Uf=Ar[cu];xt.update(Uf,Nr),xt.bind(Uf,Nr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Nr}function Sw(G,le){G.ambientLightColor.needsUpdate=le,G.lightProbe.needsUpdate=le,G.directionalLights.needsUpdate=le,G.directionalLightShadows.needsUpdate=le,G.pointLights.needsUpdate=le,G.pointLightShadows.needsUpdate=le,G.spotLights.needsUpdate=le,G.spotLightShadows.needsUpdate=le,G.rectAreaLights.needsUpdate=le,G.hemisphereLights.needsUpdate=le}function bw(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(G,le,ve){H.get(G.texture).__webglTexture=le,H.get(G.depthTexture).__webglTexture=ve;const ue=H.get(G);ue.__hasExternalTextures=!0,ue.__hasExternalTextures&&(ue.__autoAllocateDepthBuffer=ve===void 0,ue.__autoAllocateDepthBuffer||pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ue.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(G,le){const ve=H.get(G);ve.__webglFramebuffer=le,ve.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(G,le=0,ve=0){A=G,C=le,P=ve;let ue=!0,xe=null,st=!1,gt=!1;if(G){const St=H.get(G);St.__useDefaultFramebuffer!==void 0?(be.bindFramebuffer(X.FRAMEBUFFER,null),ue=!1):St.__webglFramebuffer===void 0?ee.setupRenderTarget(G):St.__hasExternalTextures&&ee.rebindTextures(G,H.get(G.texture).__webglTexture,H.get(G.depthTexture).__webglTexture);const Bt=G.texture;(Bt.isData3DTexture||Bt.isDataArrayTexture||Bt.isCompressedArrayTexture)&&(gt=!0);const yt=H.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(yt[le])?xe=yt[le][ve]:xe=yt[le],st=!0):Pe.isWebGL2&&G.samples>0&&ee.useMultisampledRTT(G)===!1?xe=H.get(G).__webglMultisampledFramebuffer:Array.isArray(yt)?xe=yt[ve]:xe=yt,R.copy(G.viewport),U.copy(G.scissor),V=G.scissorTest}else R.copy(Y).multiplyScalar(te).floor(),U.copy(L).multiplyScalar(te).floor(),V=Z;if(be.bindFramebuffer(X.FRAMEBUFFER,xe)&&Pe.drawBuffers&&ue&&be.drawBuffers(G,xe),be.viewport(R),be.scissor(U),be.setScissorTest(V),st){const St=H.get(G.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+le,St.__webglTexture,ve)}else if(gt){const St=H.get(G.texture),Bt=le||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,St.__webglTexture,ve||0,Bt)}k=-1},this.readRenderTargetPixels=function(G,le,ve,ue,xe,st,gt){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _t=H.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&gt!==void 0&&(_t=_t[gt]),_t){be.bindFramebuffer(X.FRAMEBUFFER,_t);try{const St=G.texture,Bt=St.format,yt=St.type;if(Bt!==fi&&Wt.convert(Bt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Et=yt===sf&&(pe.has("EXT_color_buffer_half_float")||Pe.isWebGL2&&pe.has("EXT_color_buffer_float"));if(yt!==ya&&Wt.convert(yt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)&&!(yt===da&&(Pe.isWebGL2||pe.has("OES_texture_float")||pe.has("WEBGL_color_buffer_float")))&&!Et){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=G.width-ue&&ve>=0&&ve<=G.height-xe&&X.readPixels(le,ve,ue,xe,Wt.convert(Bt),Wt.convert(yt),st)}finally{const St=A!==null?H.get(A).__webglFramebuffer:null;be.bindFramebuffer(X.FRAMEBUFFER,St)}}},this.copyFramebufferToTexture=function(G,le,ve=0){const ue=Math.pow(2,-ve),xe=Math.floor(le.image.width*ue),st=Math.floor(le.image.height*ue);ee.setTexture2D(le,0),X.copyTexSubImage2D(X.TEXTURE_2D,ve,0,0,G.x,G.y,xe,st),be.unbindTexture()},this.copyTextureToTexture=function(G,le,ve,ue=0){const xe=le.image.width,st=le.image.height,gt=Wt.convert(ve.format),_t=Wt.convert(ve.type);ee.setTexture2D(ve,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,ve.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,ve.unpackAlignment),le.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,ue,G.x,G.y,xe,st,gt,_t,le.image.data):le.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,ue,G.x,G.y,le.mipmaps[0].width,le.mipmaps[0].height,gt,le.mipmaps[0].data):X.texSubImage2D(X.TEXTURE_2D,ue,G.x,G.y,gt,_t,le.image),ue===0&&ve.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),be.unbindTexture()},this.copyTextureToTexture3D=function(G,le,ve,ue,xe=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const st=G.max.x-G.min.x+1,gt=G.max.y-G.min.y+1,_t=G.max.z-G.min.z+1,St=Wt.convert(ue.format),Bt=Wt.convert(ue.type);let yt;if(ue.isData3DTexture)ee.setTexture3D(ue,0),yt=X.TEXTURE_3D;else if(ue.isDataArrayTexture)ee.setTexture2DArray(ue,0),yt=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,ue.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,ue.unpackAlignment);const Et=X.getParameter(X.UNPACK_ROW_LENGTH),pn=X.getParameter(X.UNPACK_IMAGE_HEIGHT),vn=X.getParameter(X.UNPACK_SKIP_PIXELS),ri=X.getParameter(X.UNPACK_SKIP_ROWS),Ei=X.getParameter(X.UNPACK_SKIP_IMAGES),dn=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,dn.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,dn.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,G.min.x),X.pixelStorei(X.UNPACK_SKIP_ROWS,G.min.y),X.pixelStorei(X.UNPACK_SKIP_IMAGES,G.min.z),ve.isDataTexture||ve.isData3DTexture?X.texSubImage3D(yt,xe,le.x,le.y,le.z,st,gt,_t,St,Bt,dn.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(yt,xe,le.x,le.y,le.z,st,gt,_t,St,dn.data)):X.texSubImage3D(yt,xe,le.x,le.y,le.z,st,gt,_t,St,Bt,dn),X.pixelStorei(X.UNPACK_ROW_LENGTH,Et),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,pn),X.pixelStorei(X.UNPACK_SKIP_PIXELS,vn),X.pixelStorei(X.UNPACK_SKIP_ROWS,ri),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Ei),xe===0&&ue.generateMipmaps&&X.generateMipmap(yt),be.unbindTexture()},this.initTexture=function(G){G.isCubeTexture?ee.setTextureCube(G,0):G.isData3DTexture?ee.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?ee.setTexture2DArray(G,0):ee.setTexture2D(G,0),be.unbindTexture()},this.resetState=function(){C=0,P=0,A=null,be.reset(),pt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return fa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Ky?"display-p3":"srgb",t.unpackColorSpace=on.workingColorSpace===_m?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===sr?yl:_C}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===yl?sr:Ea}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class X5 extends RC{}X5.prototype.isWebGL1Renderer=!0;class tw{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new it(e),this.density=t}clone(){return new tw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class nw{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new it(e),this.near=t,this.far=r}clone(){return new nw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Wx extends tn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class rw{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=$p,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ui()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ui()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ui()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Gr=new $;class Qc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Gr.fromBufferAttribute(this,t),Gr.applyMatrix4(e),this.setXYZ(t,Gr.x,Gr.y,Gr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Gr.fromBufferAttribute(this,t),Gr.applyNormalMatrix(e),this.setXYZ(t,Gr.x,Gr.y,Gr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Gr.fromBufferAttribute(this,t),Gr.transformDirection(e),this.setXYZ(t,Gr.x,Gr.y,Gr.z);return this}setX(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ot(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=hi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=hi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=hi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=hi(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ot(t,this.array),r=Ot(r,this.array),i=Ot(i,this.array),s=Ot(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new hn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Qc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class PC extends Cr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new it(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xu;const bh=new $,Yu=new $,qu=new $,Zu=new Ne,Eh=new Ne,Y5=new Pt,Mv=new $,Mh=new $,Tv=new $,dI=new Ne,nS=new Ne,fI=new Ne;class q5 extends tn{constructor(e=new PC){if(super(),this.isSprite=!0,this.type="Sprite",Xu===void 0){Xu=new Ut;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new rw(t,5);Xu.setIndex([0,1,2,0,2,3]),Xu.setAttribute("position",new Qc(r,3,0,!1)),Xu.setAttribute("uv",new Qc(r,2,3,!1))}this.geometry=Xu,this.material=e,this.center=new Ne(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Yu.setFromMatrixScale(this.matrixWorld),Y5.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),qu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Yu.multiplyScalar(-qu.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;Cv(Mv.set(-.5,-.5,0),qu,a,Yu,i,s),Cv(Mh.set(.5,-.5,0),qu,a,Yu,i,s),Cv(Tv.set(.5,.5,0),qu,a,Yu,i,s),dI.set(0,0),nS.set(1,0),fI.set(1,1);let o=e.ray.intersectTriangle(Mv,Mh,Tv,!1,bh);if(o===null&&(Cv(Mh.set(-.5,.5,0),qu,a,Yu,i,s),nS.set(0,1),o=e.ray.intersectTriangle(Mv,Tv,Mh,!1,bh),o===null))return;const l=e.ray.origin.distanceTo(bh);l<e.near||l>e.far||t.push({distance:l,point:bh.clone(),uv:di.getInterpolation(bh,Mv,Mh,Tv,dI,nS,fI,new Ne),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Cv(n,e,t,r,i,s){Zu.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Eh.x=s*Zu.x-i*Zu.y,Eh.y=i*Zu.x+s*Zu.y):Eh.copy(Zu),n.copy(e),n.x+=Eh.x,n.y+=Eh.y,n.applyMatrix4(Y5)}const Nv=new $,hI=new $;class Z5 extends tn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Nv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Nv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Nv.setFromMatrixPosition(e.matrixWorld),hI.setFromMatrixPosition(this.matrixWorld);const r=Nv.distanceTo(hI)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),r>=a)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const pI=new $,mI=new ln,gI=new ln,gae=new $,vI=new Pt,Ku=new $,rS=new Us,xI=new Pt,iS=new Lf;class K5 extends Er{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Pt,this.bindMatrixInverse=new Pt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Na),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Ku.fromBufferAttribute(t,r),this.applyBoneTransform(r,Ku),this.boundingBox.expandByPoint(Ku)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Us),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Ku.fromBufferAttribute(t,r),this.applyBoneTransform(r,Ku),this.boundingSphere.expandByPoint(Ku)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),rS.copy(this.boundingSphere),rS.applyMatrix4(i),e.ray.intersectsSphere(rS)!==!1&&(xI.copy(i).invert(),iS.copy(e.ray).applyMatrix4(xI),!(this.boundingBox!==null&&iS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,iS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ln,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;mI.fromBufferAttribute(i.attributes.skinIndex,e),gI.fromBufferAttribute(i.attributes.skinWeight,e),pI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=gI.getComponent(s);if(a!==0){const o=mI.getComponent(s);vI.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(gae.copy(pI).applyMatrix4(vI),a)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class IC extends tn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Od extends Bn{constructor(e=null,t=1,r=1,i,s,a,o,l,u=Wn,h=Wn,p,m){super(null,a,o,l,u,h,i,s,p,m),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const yI=new Pt,vae=new Pt;class iw{constructor(e=[],t=[]){this.uuid=Ui(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Pt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:vae;yI.multiplyMatrices(o,t[s]),yI.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new iw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=R5(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Od(t,e,e,fi,da);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new IC),this.bones.push(a),this.boneInverses.push(new Pt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const a=t[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class lf extends hn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ju=new Pt,wI=new Pt,Av=[],_I=new Na,xae=new Pt,Th=new Er,Ch=new Us;class J5 extends Er{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new lf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,xae)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Na),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Ju),_I.copy(e.boundingBox).applyMatrix4(Ju),this.boundingBox.union(_I)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Us),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Ju),Ch.copy(e.boundingSphere).applyMatrix4(Ju),this.boundingSphere.union(Ch)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Th.geometry=this.geometry,Th.material=this.material,Th.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ch.copy(this.boundingSphere),Ch.applyMatrix4(r),e.ray.intersectsSphere(Ch)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Ju),wI.multiplyMatrices(r,Ju),Th.matrixWorld=wI,Th.raycast(e,Av);for(let a=0,o=Av.length;a<o;a++){const l=Av[a];l.instanceId=s,l.object=this,t.push(l)}Av.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new lf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ni extends Cr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new it(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const SI=new $,bI=new $,EI=new Pt,sS=new Lf,Rv=new Us;class Il extends tn{constructor(e=new Ut,t=new ni){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)SI.fromBufferAttribute(t,i-1),bI.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=SI.distanceTo(bI);e.setAttribute("lineDistance",new ot(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Rv.copy(r.boundingSphere),Rv.applyMatrix4(i),Rv.radius+=s,e.ray.intersectsSphere(Rv)===!1)return;EI.copy(i).invert(),sS.copy(e.ray).applyMatrix4(EI);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=new $,h=new $,p=new $,m=new $,g=this.isLineSegments?2:1,v=r.index,w=r.attributes.position;if(v!==null){const x=Math.max(0,a.start),b=Math.min(v.count,a.start+a.count);for(let S=x,T=b-1;S<T;S+=g){const C=v.getX(S),P=v.getX(S+1);if(u.fromBufferAttribute(w,C),h.fromBufferAttribute(w,P),sS.distanceSqToSegment(u,h,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(m);k<e.near||k>e.far||t.push({distance:k,point:p.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,a.start),b=Math.min(w.count,a.start+a.count);for(let S=x,T=b-1;S<T;S+=g){if(u.fromBufferAttribute(w,S),h.fromBufferAttribute(w,S+1),sS.distanceSqToSegment(u,h,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(m);P<e.near||P>e.far||t.push({distance:P,point:p.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const MI=new $,TI=new $;class Aa extends Il{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)MI.fromBufferAttribute(t,i),TI.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+MI.distanceTo(TI);e.setAttribute("lineDistance",new ot(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Q5 extends Il{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class DC extends Cr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new it(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const CI=new Pt,WE=new Lf,Pv=new Us,Iv=new $;class ez extends tn{constructor(e=new Ut,t=new DC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Pv.copy(r.boundingSphere),Pv.applyMatrix4(i),Pv.radius+=s,e.ray.intersectsSphere(Pv)===!1)return;CI.copy(i).invert(),WE.copy(e.ray).applyMatrix4(CI);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=r.index,p=r.attributes.position;if(u!==null){const m=Math.max(0,a.start),g=Math.min(u.count,a.start+a.count);for(let v=m,y=g;v<y;v++){const w=u.getX(v);Iv.fromBufferAttribute(p,w),NI(Iv,w,l,i,e,t,this)}}else{const m=Math.max(0,a.start),g=Math.min(p.count,a.start+a.count);for(let v=m,y=g;v<y;v++)Iv.fromBufferAttribute(p,v),NI(Iv,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function NI(n,e,t,r,i,s,a){const o=WE.distanceSqToPoint(n);if(o<t){const l=new $;WE.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:a})}}class yae extends Bn{constructor(e,t,r,i,s,a,o,l,u){super(e,t,r,i,s,a,o,l,u),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:$n,this.magFilter=s!==void 0?s:$n,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class wae extends Bn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Wn,this.minFilter=Wn,this.generateMipmaps=!1,this.needsUpdate=!0}}class sw extends Bn{constructor(e,t,r,i,s,a,o,l,u,h,p,m){super(null,a,o,l,u,h,i,s,p,m),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class _ae extends sw{constructor(e,t,r,i,s,a){super(e,t,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Br}}class Sae extends sw{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,go),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class bae extends Bn{constructor(e,t,r,i,s,a,o,l,u){super(e,t,r,i,s,a,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class zs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let a;t?a=t:a=e*r[s-1];let o=0,l=s-1,u;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),u=r[i]-a,u<0)o=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const h=r[i],m=r[i+1]-h,g=(a-h)/m;return(i+g)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=t||(a.isVector2?new Ne:new $);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new $,i=[],s=[],a=[],o=new $,l=new Pt;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new $)}s[0]=new $,a[0]=new $;let u=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),m=Math.abs(i[0].z);h<=u&&(u=h,r.set(1,0,0)),p<=u&&(u=p,r.set(0,1,0)),m<=u&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),a[g]=a[g-1].clone(),o.crossVectors(i[g-1],i[g]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(Un(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(o,v))}a[g].crossVectors(i[g],s[g])}if(t===!0){let g=Math.acos(Un(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],g*v)),a[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class aw extends zs{constructor(e=0,t=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t){const r=t||new Ne,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=l-this.aX,g=u-this.aY;l=m*h-g*p+this.aX,u=m*p+g*h+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class tz extends aw{constructor(e,t,r,i,s,a){super(e,t,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function kC(){let n=0,e=0,t=0,r=0;function i(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,u){i(a,o,u*(o-s),u*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,u,h,p){let m=(a-s)/u-(o-s)/(u+h)+(o-a)/h,g=(o-a)/h-(l-a)/(h+p)+(l-o)/p;m*=h,g*=h,i(a,o,m,g)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+r*o}}}const Dv=new $,aS=new kC,oS=new kC,lS=new kC;class nz extends zs{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new $){const r=t,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let u,h;this.closed||o>0?u=i[(o-1)%s]:(Dv.subVectors(i[0],i[1]).add(i[0]),u=Dv);const p=i[o%s],m=i[(o+1)%s];if(this.closed||o+2<s?h=i[(o+2)%s]:(Dv.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=Dv),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(p),g),y=Math.pow(p.distanceToSquared(m),g),w=Math.pow(m.distanceToSquared(h),g);y<1e-4&&(y=1),v<1e-4&&(v=y),w<1e-4&&(w=y),aS.initNonuniformCatmullRom(u.x,p.x,m.x,h.x,v,y,w),oS.initNonuniformCatmullRom(u.y,p.y,m.y,h.y,v,y,w),lS.initNonuniformCatmullRom(u.z,p.z,m.z,h.z,v,y,w)}else this.curveType==="catmullrom"&&(aS.initCatmullRom(u.x,p.x,m.x,h.x,this.tension),oS.initCatmullRom(u.y,p.y,m.y,h.y,this.tension),lS.initCatmullRom(u.z,p.z,m.z,h.z,this.tension));return r.set(aS.calc(l),oS.calc(l),lS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new $().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function AI(n,e,t,r,i){const s=(r-e)*.5,a=(i-t)*.5,o=n*n,l=n*o;return(2*t-2*r+s+a)*l+(-3*t+3*r-2*s-a)*o+s*n+t}function Eae(n,e){const t=1-n;return t*t*e}function Mae(n,e){return 2*(1-n)*n*e}function Tae(n,e){return n*n*e}function op(n,e,t,r){return Eae(n,e)+Mae(n,t)+Tae(n,r)}function Cae(n,e){const t=1-n;return t*t*t*e}function Nae(n,e){const t=1-n;return 3*t*t*n*e}function Aae(n,e){return 3*(1-n)*n*n*e}function Rae(n,e){return n*n*n*e}function lp(n,e,t,r,i){return Cae(n,e)+Nae(n,t)+Aae(n,r)+Rae(n,i)}class LC extends zs{constructor(e=new Ne,t=new Ne,r=new Ne,i=new Ne){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ne){const r=t,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(lp(e,i.x,s.x,a.x,o.x),lp(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rz extends zs{constructor(e=new $,t=new $,r=new $,i=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(lp(e,i.x,s.x,a.x,o.x),lp(e,i.y,s.y,a.y,o.y),lp(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class OC extends zs{constructor(e=new Ne,t=new Ne){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ne){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ne){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iz extends zs{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jC extends zs{constructor(e=new Ne,t=new Ne,r=new Ne){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ne){const r=t,i=this.v0,s=this.v1,a=this.v2;return r.set(op(e,i.x,s.x,a.x),op(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FC extends zs{constructor(e=new $,t=new $,r=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,a=this.v2;return r.set(op(e,i.x,s.x,a.x),op(e,i.y,s.y,a.y),op(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UC extends zs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ne){const r=t,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],u=i[a],h=i[a>i.length-2?i.length-1:a+1],p=i[a>i.length-3?i.length-1:a+2];return r.set(AI(o,l.x,u.x,h.x,p.x),AI(o,l.y,u.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ne().fromArray(i))}return this}}var Gx=Object.freeze({__proto__:null,ArcCurve:tz,CatmullRomCurve3:nz,CubicBezierCurve:LC,CubicBezierCurve3:rz,EllipseCurve:aw,LineCurve:OC,LineCurve3:iz,QuadraticBezierCurve:jC,QuadraticBezierCurve3:FC,SplineCurve:UC});class sz extends zs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Gx[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),u=l===0?0:1-a/l;return o.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let u=0;u<l.length;u++){const h=l[u];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Gx[i.type]().fromJSON(i))}return this}}class qp extends sz{constructor(e){super(),this.type="Path",this.currentPoint=new Ne,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new OC(this.currentPoint.clone(),new Ne(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new jC(this.currentPoint.clone(),new Ne(e,t),new Ne(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,a){const o=new LC(this.currentPoint.clone(),new Ne(e,t),new Ne(r,i),new Ne(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new UC(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,r,i,s,a),this}absarc(e,t,r,i,s,a){return this.absellipse(e,t,r,r,i,s,a),this}ellipse(e,t,r,i,s,a,o,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,r,i,s,a,o,l),this}absellipse(e,t,r,i,s,a,o,l){const u=new aw(e,t,r,i,s,a,o,l);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Cm extends Ut{constructor(e=[new Ne(0,-.5),new Ne(.5,0),new Ne(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Un(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],u=[],h=1/t,p=new $,m=new Ne,g=new $,v=new $,y=new $;let w=0,x=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:w=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,g.x=x*1,g.y=-w,g.z=x*0,y.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:w=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,g.x=x*1,g.y=-w,g.z=x*0,v.copy(g),g.x+=y.x,g.y+=y.y,g.z+=y.z,g.normalize(),l.push(g.x,g.y,g.z),y.copy(v)}for(let b=0;b<=t;b++){const S=r+b*h*i,T=Math.sin(S),C=Math.cos(S);for(let P=0;P<=e.length-1;P++){p.x=e[P].x*T,p.y=e[P].y,p.z=e[P].x*C,a.push(p.x,p.y,p.z),m.x=b/t,m.y=P/(e.length-1),o.push(m.x,m.y);const A=l[3*P+0]*T,k=l[3*P+1],I=l[3*P+0]*C;u.push(A,k,I)}}for(let b=0;b<t;b++)for(let S=0;S<e.length-1;S++){const T=S+b*e.length,C=T,P=T+e.length,A=T+e.length+1,k=T+1;s.push(C,P,k),s.push(A,k,P)}this.setIndex(s),this.setAttribute("position",new ot(a,3)),this.setAttribute("uv",new ot(o,2)),this.setAttribute("normal",new ot(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cm(e.points,e.segments,e.phiStart,e.phiLength)}}class ow extends Cm{constructor(e=1,t=1,r=4,i=8){const s=new qp;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new ow(e.radius,e.length,e.capSegments,e.radialSegments)}}class lw extends Ut{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],a=[],o=[],l=[],u=new $,h=new Ne;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let p=0,m=3;p<=t;p++,m+=3){const g=r+p/t*i;u.x=e*Math.cos(g),u.y=e*Math.sin(g),a.push(u.x,u.y,u.z),o.push(0,0,1),h.x=(a[m]/e+1)/2,h.y=(a[m+1]/e+1)/2,l.push(h.x,h.y)}for(let p=1;p<=t;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new ot(a,3)),this.setAttribute("normal",new ot(o,3)),this.setAttribute("uv",new ot(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class jf extends Ut{constructor(e=1,t=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],p=[],m=[],g=[];let v=0;const y=[],w=r/2;let x=0;b(),a===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(h),this.setAttribute("position",new ot(p,3)),this.setAttribute("normal",new ot(m,3)),this.setAttribute("uv",new ot(g,2));function b(){const T=new $,C=new $;let P=0;const A=(t-e)/r;for(let k=0;k<=s;k++){const I=[],R=k/s,U=R*(t-e)+e;for(let V=0;V<=i;V++){const J=V/i,z=J*l+o,Q=Math.sin(z),W=Math.cos(z);C.x=U*Q,C.y=-R*r+w,C.z=U*W,p.push(C.x,C.y,C.z),T.set(Q,A,W).normalize(),m.push(T.x,T.y,T.z),g.push(J,1-R),I.push(v++)}y.push(I)}for(let k=0;k<i;k++)for(let I=0;I<s;I++){const R=y[I][k],U=y[I+1][k],V=y[I+1][k+1],J=y[I][k+1];h.push(R,U,J),h.push(U,V,J),P+=6}u.addGroup(x,P,0),x+=P}function S(T){const C=v,P=new Ne,A=new $;let k=0;const I=T===!0?e:t,R=T===!0?1:-1;for(let V=1;V<=i;V++)p.push(0,w*R,0),m.push(0,R,0),g.push(.5,.5),v++;const U=v;for(let V=0;V<=i;V++){const z=V/i*l+o,Q=Math.cos(z),W=Math.sin(z);A.x=I*W,A.y=w*R,A.z=I*Q,p.push(A.x,A.y,A.z),m.push(0,R,0),P.x=Q*.5+.5,P.y=W*.5*R+.5,g.push(P.x,P.y),v++}for(let V=0;V<i;V++){const J=C+V,z=U+V;T===!0?h.push(z,z+1,J):h.push(z+1,z,J),k+=3}u.addGroup(x,k,T===!0?1:2),x+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class cw extends jf{constructor(e=1,t=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new cw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vl extends Ut{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],a=[];o(i),u(r),h(),this.setAttribute("position",new ot(s,3)),this.setAttribute("normal",new ot(s.slice(),3)),this.setAttribute("uv",new ot(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(b){const S=new $,T=new $,C=new $;for(let P=0;P<t.length;P+=3)g(t[P+0],S),g(t[P+1],T),g(t[P+2],C),l(S,T,C,b)}function l(b,S,T,C){const P=C+1,A=[];for(let k=0;k<=P;k++){A[k]=[];const I=b.clone().lerp(T,k/P),R=S.clone().lerp(T,k/P),U=P-k;for(let V=0;V<=U;V++)V===0&&k===P?A[k][V]=I:A[k][V]=I.clone().lerp(R,V/U)}for(let k=0;k<P;k++)for(let I=0;I<2*(P-k)-1;I++){const R=Math.floor(I/2);I%2===0?(m(A[k][R+1]),m(A[k+1][R]),m(A[k][R])):(m(A[k][R+1]),m(A[k+1][R+1]),m(A[k+1][R]))}}function u(b){const S=new $;for(let T=0;T<s.length;T+=3)S.x=s[T+0],S.y=s[T+1],S.z=s[T+2],S.normalize().multiplyScalar(b),s[T+0]=S.x,s[T+1]=S.y,s[T+2]=S.z}function h(){const b=new $;for(let S=0;S<s.length;S+=3){b.x=s[S+0],b.y=s[S+1],b.z=s[S+2];const T=w(b)/2/Math.PI+.5,C=x(b)/Math.PI+.5;a.push(T,1-C)}v(),p()}function p(){for(let b=0;b<a.length;b+=6){const S=a[b+0],T=a[b+2],C=a[b+4],P=Math.max(S,T,C),A=Math.min(S,T,C);P>.9&&A<.1&&(S<.2&&(a[b+0]+=1),T<.2&&(a[b+2]+=1),C<.2&&(a[b+4]+=1))}}function m(b){s.push(b.x,b.y,b.z)}function g(b,S){const T=b*3;S.x=e[T+0],S.y=e[T+1],S.z=e[T+2]}function v(){const b=new $,S=new $,T=new $,C=new $,P=new Ne,A=new Ne,k=new Ne;for(let I=0,R=0;I<s.length;I+=9,R+=6){b.set(s[I+0],s[I+1],s[I+2]),S.set(s[I+3],s[I+4],s[I+5]),T.set(s[I+6],s[I+7],s[I+8]),P.set(a[R+0],a[R+1]),A.set(a[R+2],a[R+3]),k.set(a[R+4],a[R+5]),C.copy(b).add(S).add(T).divideScalar(3);const U=w(C);y(P,R+0,b,U),y(A,R+2,S,U),y(k,R+4,T,U)}}function y(b,S,T,C){C<0&&b.x===1&&(a[S]=b.x-1),T.x===0&&T.z===0&&(a[S]=C/2/Math.PI+.5)}function w(b){return Math.atan2(b.z,-b.x)}function x(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vl(e.vertices,e.indices,e.radius,e.details)}}class uw extends Vl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uw(e.radius,e.detail)}}const kv=new $,Lv=new $,cS=new $,Ov=new di;class az extends Ut{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Oc*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,u=[0,0,0],h=["a","b","c"],p=new Array(3),m={},g=[];for(let v=0;v<l;v+=3){a?(u[0]=a.getX(v),u[1]=a.getX(v+1),u[2]=a.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:y,b:w,c:x}=Ov;if(y.fromBufferAttribute(o,u[0]),w.fromBufferAttribute(o,u[1]),x.fromBufferAttribute(o,u[2]),Ov.getNormal(cS),p[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,p[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,p[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let b=0;b<3;b++){const S=(b+1)%3,T=p[b],C=p[S],P=Ov[h[b]],A=Ov[h[S]],k=`${T}_${C}`,I=`${C}_${T}`;I in m&&m[I]?(cS.dot(m[I].normal)<=s&&(g.push(P.x,P.y,P.z),g.push(A.x,A.y,A.z)),m[I]=null):k in m||(m[k]={index0:u[b],index1:u[S],normal:cS.clone()})}}for(const v in m)if(m[v]){const{index0:y,index1:w}=m[v];kv.fromBufferAttribute(o,y),Lv.fromBufferAttribute(o,w),g.push(kv.x,kv.y,kv.z),g.push(Lv.x,Lv.y,Lv.z)}this.setAttribute("position",new ot(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Fc extends qp{constructor(e){super(e),this.uuid=Ui(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new qp().fromJSON(i))}return this}}const Pae={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=oz(n,0,i,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u,h,p,m,g;if(r&&(s=Oae(n,e,s,t)),n.length>80*t){o=u=n[0],l=h=n[1];for(let v=t;v<i;v+=t)p=n[v],m=n[v+1],p<o&&(o=p),m<l&&(l=m),p>u&&(u=p),m>h&&(h=m);g=Math.max(u-o,h-l),g=g!==0?32767/g:0}return Zp(s,a,t,o,l,g,0),a}};function oz(n,e,t,r,i){let s,a;if(i===Xae(n,e,t,r)>0)for(s=e;s<t;s+=r)a=RI(s,n[s],n[s+1],a);else for(s=t-r;s>=e;s-=r)a=RI(s,n[s],n[s+1],a);return a&&dw(a,a.next)&&(Jp(a),a=a.next),a}function eu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(dw(t,t.next)||Tn(t.prev,t,t.next)===0)){if(Jp(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Zp(n,e,t,r,i,s,a){if(!n)return;!a&&s&&Bae(n,r,i,s);let o=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?Dae(n,r,i,s):Iae(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),Jp(n),n=u.next,o=u.next;continue}if(n=u,n===o){a?a===1?(n=kae(eu(n),e,t),Zp(n,e,t,r,i,s,2)):a===2&&Lae(n,e,t,r,i,s):Zp(eu(n),e,t,r,i,s,1);break}}}function Iae(n){const e=n.prev,t=n,r=n.next;if(Tn(e,t,r)>=0)return!1;const i=e.x,s=t.x,a=r.x,o=e.y,l=t.y,u=r.y,h=i<s?i<a?i:a:s<a?s:a,p=o<l?o<u?o:u:l<u?l:u,m=i>s?i>a?i:a:s>a?s:a,g=o>l?o>u?o:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=h&&v.x<=m&&v.y>=p&&v.y<=g&&wd(i,o,s,l,a,u,v.x,v.y)&&Tn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Dae(n,e,t,r){const i=n.prev,s=n,a=n.next;if(Tn(i,s,a)>=0)return!1;const o=i.x,l=s.x,u=a.x,h=i.y,p=s.y,m=a.y,g=o<l?o<u?o:u:l<u?l:u,v=h<p?h<m?h:m:p<m?p:m,y=o>l?o>u?o:u:l>u?l:u,w=h>p?h>m?h:m:p>m?p:m,x=GE(g,v,e,t,r),b=GE(y,w,e,t,r);let S=n.prevZ,T=n.nextZ;for(;S&&S.z>=x&&T&&T.z<=b;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=w&&S!==i&&S!==a&&wd(o,h,l,p,u,m,S.x,S.y)&&Tn(S.prev,S,S.next)>=0||(S=S.prevZ,T.x>=g&&T.x<=y&&T.y>=v&&T.y<=w&&T!==i&&T!==a&&wd(o,h,l,p,u,m,T.x,T.y)&&Tn(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;S&&S.z>=x;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=w&&S!==i&&S!==a&&wd(o,h,l,p,u,m,S.x,S.y)&&Tn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;T&&T.z<=b;){if(T.x>=g&&T.x<=y&&T.y>=v&&T.y<=w&&T!==i&&T!==a&&wd(o,h,l,p,u,m,T.x,T.y)&&Tn(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function kae(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!dw(i,s)&&lz(i,r,r.next,s)&&Kp(i,s)&&Kp(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Jp(r),Jp(r.next),r=n=s),r=r.next}while(r!==n);return eu(r)}function Lae(n,e,t,r,i,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Wae(a,o)){let l=cz(a,o);a=eu(a,a.next),l=eu(l,l.next),Zp(a,e,t,r,i,s,0),Zp(l,e,t,r,i,s,0);return}o=o.next}a=a.next}while(a!==n)}function Oae(n,e,t,r){const i=[];let s,a,o,l,u;for(s=0,a=e.length;s<a;s++)o=e[s]*r,l=s<a-1?e[s+1]*r:n.length,u=oz(n,o,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Hae(u));for(i.sort(jae),s=0;s<i.length;s++)t=Fae(i[s],t);return t}function jae(n,e){return n.x-e.x}function Fae(n,e){const t=Uae(n,e);if(!t)return e;const r=cz(t,n);return eu(r,r.next),eu(t,t.next)}function Uae(n,e){let t=e,r=-1/0,i;const s=n.x,a=n.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const m=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=s&&m>r&&(r=m,i=t.x<t.next.x?t:t.next,m===s))return i}t=t.next}while(t!==e);if(!i)return null;const o=i,l=i.x,u=i.y;let h=1/0,p;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&wd(a<u?s:r,a,l,u,a<u?r:s,a,t.x,t.y)&&(p=Math.abs(a-t.y)/(s-t.x),Kp(t,n)&&(p<h||p===h&&(t.x>i.x||t.x===i.x&&zae(i,t)))&&(i=t,h=p)),t=t.next;while(t!==o);return i}function zae(n,e){return Tn(n.prev,n,e.prev)<0&&Tn(e.next,n,n.next)<0}function Bae(n,e,t,r){let i=n;do i.z===0&&(i.z=GE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Vae(i)}function Vae(n){let e,t,r,i,s,a,o,l,u=1;do{for(t=n,n=null,s=null,a=0;t;){for(a++,r=t,o=0,e=0;e<u&&(o++,r=r.nextZ,!!r);e++);for(l=u;o>0||l>0&&r;)o!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(a>1);return n}function GE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Hae(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function wd(n,e,t,r,i,s,a,o){return(i-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(r-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(i-a)*(r-o)}function Wae(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Gae(n,e)&&(Kp(n,e)&&Kp(e,n)&&$ae(n,e)&&(Tn(n.prev,n,e.prev)||Tn(n,e.prev,e))||dw(n,e)&&Tn(n.prev,n,n.next)>0&&Tn(e.prev,e,e.next)>0)}function Tn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function dw(n,e){return n.x===e.x&&n.y===e.y}function lz(n,e,t,r){const i=Fv(Tn(n,e,t)),s=Fv(Tn(n,e,r)),a=Fv(Tn(t,r,n)),o=Fv(Tn(t,r,e));return!!(i!==s&&a!==o||i===0&&jv(n,t,e)||s===0&&jv(n,r,e)||a===0&&jv(t,n,r)||o===0&&jv(t,e,r))}function jv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Fv(n){return n>0?1:n<0?-1:0}function Gae(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&lz(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Kp(n,e){return Tn(n.prev,n,n.next)<0?Tn(n,e,n.next)>=0&&Tn(n,n.prev,e)>=0:Tn(n,e,n.prev)<0||Tn(n,n.next,e)<0}function $ae(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function cz(n,e){const t=new $E(n.i,n.x,n.y),r=new $E(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function RI(n,e,t,r){const i=new $E(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Jp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function $E(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Xae(n,e,t,r){let i=0;for(let s=e,a=t-r;s<t;s+=r)i+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return i}class wa{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return wa.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];PI(e),II(r,e);let a=e.length;t.forEach(PI);for(let l=0;l<t.length;l++)i.push(a),a+=t[l].length,II(r,t[l]);const o=Pae.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function PI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function II(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class fw extends Ut{constructor(e=new Fc([new Ne(.5,.5),new Ne(-.5,.5),new Ne(-.5,-.5),new Ne(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];a(u)}this.setAttribute("position",new ot(i,3)),this.setAttribute("uv",new ot(s,2)),this.computeVertexNormals();function a(o){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:g-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:Yae;let S,T=!1,C,P,A,k;x&&(S=x.getSpacedPoints(h),T=!0,m=!1,C=x.computeFrenetFrames(h,!1),P=new $,A=new $,k=new $),m||(w=0,g=0,v=0,y=0);const I=o.extractPoints(u);let R=I.shape;const U=I.holes;if(!wa.isClockWise(R)){R=R.reverse();for(let X=0,Ee=U.length;X<Ee;X++){const pe=U[X];wa.isClockWise(pe)&&(U[X]=pe.reverse())}}const J=wa.triangulateShape(R,U),z=R;for(let X=0,Ee=U.length;X<Ee;X++){const pe=U[X];R=R.concat(pe)}function Q(X,Ee,pe){return Ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(Ee,pe)}const W=R.length,te=J.length;function O(X,Ee,pe){let Pe,be,et;const H=X.x-Ee.x,ee=X.y-Ee.y,se=pe.x-X.x,Me=pe.y-X.y,Ae=H*H+ee*ee,F=H*Me-ee*se;if(Math.abs(F)>Number.EPSILON){const j=Math.sqrt(Ae),ie=Math.sqrt(se*se+Me*Me),Te=Ee.x-ee/j,_e=Ee.y+H/j,De=pe.x-Me/ie,tt=pe.y+se/ie,Ue=((De-Te)*Me-(tt-_e)*se)/(H*Me-ee*se);Pe=Te+H*Ue-X.x,be=_e+ee*Ue-X.y;const We=Pe*Pe+be*be;if(We<=2)return new Ne(Pe,be);et=Math.sqrt(We/2)}else{let j=!1;H>Number.EPSILON?se>Number.EPSILON&&(j=!0):H<-Number.EPSILON?se<-Number.EPSILON&&(j=!0):Math.sign(ee)===Math.sign(Me)&&(j=!0),j?(Pe=-ee,be=H,et=Math.sqrt(Ae)):(Pe=H,be=ee,et=Math.sqrt(Ae/2))}return new Ne(Pe/et,be/et)}const B=[];for(let X=0,Ee=z.length,pe=Ee-1,Pe=X+1;X<Ee;X++,pe++,Pe++)pe===Ee&&(pe=0),Pe===Ee&&(Pe=0),B[X]=O(z[X],z[pe],z[Pe]);const Y=[];let L,Z=B.concat();for(let X=0,Ee=U.length;X<Ee;X++){const pe=U[X];L=[];for(let Pe=0,be=pe.length,et=be-1,H=Pe+1;Pe<be;Pe++,et++,H++)et===be&&(et=0),H===be&&(H=0),L[Pe]=O(pe[Pe],pe[et],pe[H]);Y.push(L),Z=Z.concat(L)}for(let X=0;X<w;X++){const Ee=X/w,pe=g*Math.cos(Ee*Math.PI/2),Pe=v*Math.sin(Ee*Math.PI/2)+y;for(let be=0,et=z.length;be<et;be++){const H=Q(z[be],B[be],Pe);ne(H.x,H.y,-pe)}for(let be=0,et=U.length;be<et;be++){const H=U[be];L=Y[be];for(let ee=0,se=H.length;ee<se;ee++){const Me=Q(H[ee],L[ee],Pe);ne(Me.x,Me.y,-pe)}}}const oe=v+y;for(let X=0;X<W;X++){const Ee=m?Q(R[X],Z[X],oe):R[X];T?(A.copy(C.normals[0]).multiplyScalar(Ee.x),P.copy(C.binormals[0]).multiplyScalar(Ee.y),k.copy(S[0]).add(A).add(P),ne(k.x,k.y,k.z)):ne(Ee.x,Ee.y,0)}for(let X=1;X<=h;X++)for(let Ee=0;Ee<W;Ee++){const pe=m?Q(R[Ee],Z[Ee],oe):R[Ee];T?(A.copy(C.normals[X]).multiplyScalar(pe.x),P.copy(C.binormals[X]).multiplyScalar(pe.y),k.copy(S[X]).add(A).add(P),ne(k.x,k.y,k.z)):ne(pe.x,pe.y,p/h*X)}for(let X=w-1;X>=0;X--){const Ee=X/w,pe=g*Math.cos(Ee*Math.PI/2),Pe=v*Math.sin(Ee*Math.PI/2)+y;for(let be=0,et=z.length;be<et;be++){const H=Q(z[be],B[be],Pe);ne(H.x,H.y,p+pe)}for(let be=0,et=U.length;be<et;be++){const H=U[be];L=Y[be];for(let ee=0,se=H.length;ee<se;ee++){const Me=Q(H[ee],L[ee],Pe);T?ne(Me.x,Me.y+S[h-1].y,S[h-1].x+pe):ne(Me.x,Me.y,p+pe)}}}de(),ye();function de(){const X=i.length/3;if(m){let Ee=0,pe=W*Ee;for(let Pe=0;Pe<te;Pe++){const be=J[Pe];fe(be[2]+pe,be[1]+pe,be[0]+pe)}Ee=h+w*2,pe=W*Ee;for(let Pe=0;Pe<te;Pe++){const be=J[Pe];fe(be[0]+pe,be[1]+pe,be[2]+pe)}}else{for(let Ee=0;Ee<te;Ee++){const pe=J[Ee];fe(pe[2],pe[1],pe[0])}for(let Ee=0;Ee<te;Ee++){const pe=J[Ee];fe(pe[0]+W*h,pe[1]+W*h,pe[2]+W*h)}}r.addGroup(X,i.length/3-X,0)}function ye(){const X=i.length/3;let Ee=0;we(z,Ee),Ee+=z.length;for(let pe=0,Pe=U.length;pe<Pe;pe++){const be=U[pe];we(be,Ee),Ee+=be.length}r.addGroup(X,i.length/3-X,1)}function we(X,Ee){let pe=X.length;for(;--pe>=0;){const Pe=pe;let be=pe-1;be<0&&(be=X.length-1);for(let et=0,H=h+w*2;et<H;et++){const ee=W*et,se=W*(et+1),Me=Ee+Pe+ee,Ae=Ee+be+ee,F=Ee+be+se,j=Ee+Pe+se;Le(Me,Ae,F,j)}}}function ne(X,Ee,pe){l.push(X),l.push(Ee),l.push(pe)}function fe(X,Ee,pe){ke(X),ke(Ee),ke(pe);const Pe=i.length/3,be=b.generateTopUV(r,i,Pe-3,Pe-2,Pe-1);Re(be[0]),Re(be[1]),Re(be[2])}function Le(X,Ee,pe,Pe){ke(X),ke(Ee),ke(Pe),ke(Ee),ke(pe),ke(Pe);const be=i.length/3,et=b.generateSideWallUV(r,i,be-6,be-3,be-2,be-1);Re(et[0]),Re(et[1]),Re(et[3]),Re(et[1]),Re(et[2]),Re(et[3])}function ke(X){i.push(l[X*3+0]),i.push(l[X*3+1]),i.push(l[X*3+2])}function Re(X){s.push(X.x),s.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return qae(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Gx[i.type]().fromJSON(i)),new fw(r,e.options)}}const Yae={generateTopUV:function(n,e,t,r,i){const s=e[t*3],a=e[t*3+1],o=e[r*3],l=e[r*3+1],u=e[i*3],h=e[i*3+1];return[new Ne(s,a),new Ne(o,l),new Ne(u,h)]},generateSideWallUV:function(n,e,t,r,i,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],u=e[r*3],h=e[r*3+1],p=e[r*3+2],m=e[i*3],g=e[i*3+1],v=e[i*3+2],y=e[s*3],w=e[s*3+1],x=e[s*3+2];return Math.abs(o-h)<Math.abs(a-u)?[new Ne(a,1-l),new Ne(u,1-p),new Ne(m,1-v),new Ne(y,1-x)]:[new Ne(o,1-l),new Ne(h,1-p),new Ne(g,1-v),new Ne(w,1-x)]}};function qae(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class hw extends Vl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hw(e.radius,e.detail)}}class Nm extends Vl{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Nm(e.radius,e.detail)}}class pw extends Ut{constructor(e=.5,t=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],u=[],h=[];let p=e;const m=(t-e)/i,g=new $,v=new Ne;for(let y=0;y<=i;y++){for(let w=0;w<=r;w++){const x=s+w/r*a;g.x=p*Math.cos(x),g.y=p*Math.sin(x),l.push(g.x,g.y,g.z),u.push(0,0,1),v.x=(g.x/t+1)/2,v.y=(g.y/t+1)/2,h.push(v.x,v.y)}p+=m}for(let y=0;y<i;y++){const w=y*(r+1);for(let x=0;x<r;x++){const b=x+w,S=b,T=b+r+1,C=b+r+2,P=b+1;o.push(S,T,P),o.push(T,C,P)}}this.setIndex(o),this.setAttribute("position",new ot(l,3)),this.setAttribute("normal",new ot(u,3)),this.setAttribute("uv",new ot(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class mw extends Ut{constructor(e=new Fc([new Ne(0,.5),new Ne(-.5,-.5),new Ne(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(o,l,h),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new ot(i,3)),this.setAttribute("normal",new ot(s,3)),this.setAttribute("uv",new ot(a,2));function u(h){const p=i.length/3,m=h.extractPoints(t);let g=m.shape;const v=m.holes;wa.isClockWise(g)===!1&&(g=g.reverse());for(let w=0,x=v.length;w<x;w++){const b=v[w];wa.isClockWise(b)===!0&&(v[w]=b.reverse())}const y=wa.triangulateShape(g,v);for(let w=0,x=v.length;w<x;w++){const b=v[w];g=g.concat(b)}for(let w=0,x=g.length;w<x;w++){const b=g[w];i.push(b.x,b.y,0),s.push(0,0,1),a.push(b.x,b.y)}for(let w=0,x=y.length;w<x;w++){const b=y[w],S=b[0]+p,T=b[1]+p,C=b[2]+p;r.push(S,T,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Zae(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=t[e.shapes[i]];r.push(a)}return new mw(r,e.curveSegments)}}function Zae(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Am extends Ut{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let u=0;const h=[],p=new $,m=new $,g=[],v=[],y=[],w=[];for(let x=0;x<=r;x++){const b=[],S=x/r;let T=0;x===0&&a===0?T=.5/t:x===r&&l===Math.PI&&(T=-.5/t);for(let C=0;C<=t;C++){const P=C/t;p.x=-e*Math.cos(i+P*s)*Math.sin(a+S*o),p.y=e*Math.cos(a+S*o),p.z=e*Math.sin(i+P*s)*Math.sin(a+S*o),v.push(p.x,p.y,p.z),m.copy(p).normalize(),y.push(m.x,m.y,m.z),w.push(P+T,1-S),b.push(u++)}h.push(b)}for(let x=0;x<r;x++)for(let b=0;b<t;b++){const S=h[x][b+1],T=h[x][b],C=h[x+1][b],P=h[x+1][b+1];(x!==0||a>0)&&g.push(S,T,P),(x!==r-1||l<Math.PI)&&g.push(T,C,P)}this.setIndex(g),this.setAttribute("position",new ot(v,3)),this.setAttribute("normal",new ot(y,3)),this.setAttribute("uv",new ot(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Am(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class gw extends Vl{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gw(e.radius,e.detail)}}class vw extends Ut{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],u=[],h=new $,p=new $,m=new $;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const y=v/i*s,w=g/r*Math.PI*2;p.x=(e+t*Math.cos(w))*Math.cos(y),p.y=(e+t*Math.cos(w))*Math.sin(y),p.z=t*Math.sin(w),o.push(p.x,p.y,p.z),h.x=e*Math.cos(y),h.y=e*Math.sin(y),m.subVectors(p,h).normalize(),l.push(m.x,m.y,m.z),u.push(v/i),u.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const y=(i+1)*g+v-1,w=(i+1)*(g-1)+v-1,x=(i+1)*(g-1)+v,b=(i+1)*g+v;a.push(y,w,b),a.push(w,x,b)}this.setIndex(a),this.setAttribute("position",new ot(o,3)),this.setAttribute("normal",new ot(l,3)),this.setAttribute("uv",new ot(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class xw extends Ut{constructor(e=1,t=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],u=[],h=[],p=new $,m=new $,g=new $,v=new $,y=new $,w=new $,x=new $;for(let S=0;S<=r;++S){const T=S/r*s*Math.PI*2;b(T,s,a,e,g),b(T+.01,s,a,e,v),w.subVectors(v,g),x.addVectors(v,g),y.crossVectors(w,x),x.crossVectors(y,w),y.normalize(),x.normalize();for(let C=0;C<=i;++C){const P=C/i*Math.PI*2,A=-t*Math.cos(P),k=t*Math.sin(P);p.x=g.x+(A*x.x+k*y.x),p.y=g.y+(A*x.y+k*y.y),p.z=g.z+(A*x.z+k*y.z),l.push(p.x,p.y,p.z),m.subVectors(p,g).normalize(),u.push(m.x,m.y,m.z),h.push(S/r),h.push(C/i)}}for(let S=1;S<=r;S++)for(let T=1;T<=i;T++){const C=(i+1)*(S-1)+(T-1),P=(i+1)*S+(T-1),A=(i+1)*S+T,k=(i+1)*(S-1)+T;o.push(C,P,k),o.push(P,A,k)}this.setIndex(o),this.setAttribute("position",new ot(l,3)),this.setAttribute("normal",new ot(u,3)),this.setAttribute("uv",new ot(h,2));function b(S,T,C,P,A){const k=Math.cos(S),I=Math.sin(S),R=C/T*S,U=Math.cos(R);A.x=P*(2+U)*.5*k,A.y=P*(2+U)*I*.5,A.z=P*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class yw extends Ut{constructor(e=new FC(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new $,l=new $,u=new Ne;let h=new $;const p=[],m=[],g=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new ot(p,3)),this.setAttribute("normal",new ot(m,3)),this.setAttribute("uv",new ot(g,2));function y(){for(let S=0;S<t;S++)w(S);w(s===!1?t:0),b(),x()}function w(S){h=e.getPointAt(S/t,h);const T=a.normals[S],C=a.binormals[S];for(let P=0;P<=i;P++){const A=P/i*Math.PI*2,k=Math.sin(A),I=-Math.cos(A);l.x=I*T.x+k*C.x,l.y=I*T.y+k*C.y,l.z=I*T.z+k*C.z,l.normalize(),m.push(l.x,l.y,l.z),o.x=h.x+r*l.x,o.y=h.y+r*l.y,o.z=h.z+r*l.z,p.push(o.x,o.y,o.z)}}function x(){for(let S=1;S<=t;S++)for(let T=1;T<=i;T++){const C=(i+1)*(S-1)+(T-1),P=(i+1)*S+(T-1),A=(i+1)*S+T,k=(i+1)*(S-1)+T;v.push(C,P,k),v.push(P,A,k)}}function b(){for(let S=0;S<=t;S++)for(let T=0;T<=i;T++)u.x=S/t,u.y=T/i,g.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new yw(new Gx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class uz extends Ut{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new $,s=new $;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const p=l[u],m=p.start,g=p.count;for(let v=m,y=m+g;v<y;v+=3)for(let w=0;w<3;w++){const x=o.getX(v+w),b=o.getX(v+(w+1)%3);i.fromBufferAttribute(a,x),s.fromBufferAttribute(a,b),DI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let u=0;u<3;u++){const h=3*o+u,p=3*o+(u+1)%3;i.fromBufferAttribute(a,h),s.fromBufferAttribute(a,p),DI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new ot(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function DI(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var kI=Object.freeze({__proto__:null,BoxGeometry:su,CapsuleGeometry:ow,CircleGeometry:lw,ConeGeometry:cw,CylinderGeometry:jf,DodecahedronGeometry:uw,EdgesGeometry:az,ExtrudeGeometry:fw,IcosahedronGeometry:hw,LatheGeometry:Cm,OctahedronGeometry:Nm,PlaneGeometry:Mm,PolyhedronGeometry:Vl,RingGeometry:pw,ShapeGeometry:mw,SphereGeometry:Am,TetrahedronGeometry:gw,TorusGeometry:vw,TorusKnotGeometry:xw,TubeGeometry:yw,WireframeGeometry:uz});class dz extends Cr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new it(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class fz extends Ma{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class zC extends Cr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new it(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zl,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hz extends zC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ne(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Un(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new it(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new it(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new it(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class pz extends Cr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new it(16777215),this.specular=new it(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zl,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=wm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mz extends Cr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new it(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zl,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class gz extends Cr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zl,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class vz extends Cr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new it(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zl,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=wm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xz extends Cr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new it(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zl,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yz extends ni{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Mc(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function wz(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function _z(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function XE(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,a=0;a!==r;++s){const o=t[s]*e;for(let l=0;l!==e;++l)i[a++]=n[o+l]}return i}function BC(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=n[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),t.push(a)),s=n[i++];while(s!==void 0)}function Kae(n,e,t,r,i=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),p=[],m=[];for(let g=0;g<u.times.length;++g){const v=u.times[g]*i;if(!(v<t||v>=r)){p.push(u.times[g]);for(let y=0;y<h;++y)m.push(u.values[g*h+y])}}p.length!==0&&(u.times=Mc(p,u.times.constructor),u.values=Mc(m,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function Jae(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===o.name&&x.ValueTypeName===l});if(u===void 0)continue;let h=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let m=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);const v=o.times.length-1;let y;if(s<=o.times[0]){const x=h,b=p-h;y=o.values.slice(x,b)}else if(s>=o.times[v]){const x=v*p+h,b=x+p-h;y=o.values.slice(x,b)}else{const x=o.createInterpolant(),b=h,S=p-h;x.evaluate(s),y=x.resultBuffer.slice(b,S)}l==="quaternion"&&new yi().fromArray(y).normalize().conjugate().toArray(y);const w=u.times.length;for(let x=0;x<w;++x){const b=x*g+m;if(l==="quaternion")yi.multiplyQuaternionsFlat(u.values,b,y,0,u.values,b);else{const S=g-m*2;for(let T=0;T<S;++T)u.values[b+T]-=y[T]}}}return n.blendMode=wC,n}const Qae={convertArray:Mc,isTypedArray:wz,getKeyframeOrder:_z,sortedArray:XE,flattenJSON:BC,subclip:Kae,makeClipAdditive:Jae};class Rm{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=t[++r],e<i)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<t[o]?a=o:r=o+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)t[a]=r[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Sz extends Rm{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Sc,endingEnd:Sc}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case bc:s=e,o=2*t-r;break;case Vp:s=i.length-2,o=t+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case bc:a=e,l=2*r-t;break;case Vp:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=t}const u=(r-t)*.5,h=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(l-r),this._offsetPrev=s*h,this._offsetNext=a*h}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,h=this._offsetPrev,p=this._offsetNext,m=this._weightPrev,g=this._weightNext,v=(r-t)/(i-t),y=v*v,w=y*v,x=-m*w+2*m*y-m*v,b=(1+m)*w+(-1.5-2*m)*y+(-.5+m)*v+1,S=(-1-g)*w+(1.5+g)*y+.5*v,T=g*w-g*y;for(let C=0;C!==o;++C)s[C]=x*a[h+C]+b*a[u+C]+S*a[l+C]+T*a[p+C];return s}}class VC extends Rm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,h=(r-t)/(i-t),p=1-h;for(let m=0;m!==o;++m)s[m]=a[u+m]*p+a[l+m]*h;return s}}class bz extends Rm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Bs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Mc(t,this.TimeBufferType),this.values=Mc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Mc(e.times,Array),values:Mc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new bz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new VC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Sz(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case zp:t=this.InterpolantFactoryMethodDiscrete;break;case Bp:t=this.InterpolantFactoryMethodLinear;break;case b0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zp;case this.InterpolantFactoryMethodLinear:return Bp;case this.InterpolantFactoryMethodSmooth:return b0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>t;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&wz(i))for(let o=0,l=i.length;o!==l;++o){const u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===b0,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const u=e[o],h=e[o+1];if(u!==h&&(o!==1||u!==e[0]))if(i)l=!0;else{const p=o*r,m=p-r,g=p+r;for(let v=0;v!==r;++v){const y=t[p+v];if(y!==t[m+v]||y!==t[g+v]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const p=o*r,m=a*r;for(let g=0;g!==r;++g)t[m+g]=t[p+g]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,u=0;u!==r;++u)t[l+u]=t[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Bs.prototype.TimeBufferType=Float32Array;Bs.prototype.ValueBufferType=Float32Array;Bs.prototype.DefaultInterpolation=Bp;class au extends Bs{}au.prototype.ValueTypeName="bool";au.prototype.ValueBufferType=Array;au.prototype.DefaultInterpolation=zp;au.prototype.InterpolantFactoryMethodLinear=void 0;au.prototype.InterpolantFactoryMethodSmooth=void 0;class HC extends Bs{}HC.prototype.ValueTypeName="color";class Qp extends Bs{}Qp.prototype.ValueTypeName="number";class Ez extends Rm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-t)/(i-t);let u=e*o;for(let h=u+o;u!==h;u+=4)yi.slerpFlat(s,0,a,u-o,a,u,l);return s}}class Ff extends Bs{InterpolantFactoryMethodLinear(e){return new Ez(this.times,this.values,this.getValueSize(),e)}}Ff.prototype.ValueTypeName="quaternion";Ff.prototype.DefaultInterpolation=Bp;Ff.prototype.InterpolantFactoryMethodSmooth=void 0;class ou extends Bs{}ou.prototype.ValueTypeName="string";ou.prototype.ValueBufferType=Array;ou.prototype.DefaultInterpolation=zp;ou.prototype.InterpolantFactoryMethodLinear=void 0;ou.prototype.InterpolantFactoryMethodSmooth=void 0;class em extends Bs{}em.prototype.ValueTypeName="vector";class tm{constructor(e,t=-1,r,i=Zy){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Ui(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)t.push(toe(r[a]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)t.push(Bs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],u=[];l.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const h=_z(l);l=XE(l,1,h),u=XE(u,1,h),!i&&l[0]===0&&(l.push(s),u.push(u[0])),a.push(new Qp(".morphTargetInfluences["+t[o].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],h=u.name.match(s);if(h&&h.length>1){const p=h[1];let m=i[p];m||(i[p]=m=[]),m.push(u)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,m,g,v,y){if(g.length!==0){const w=[],x=[];BC(g,w,x,v),w.length!==0&&y.push(new p(m,w,x))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const m=u[p].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const g={};let v;for(v=0;v<m.length;v++)if(m[v].morphTargets)for(let y=0;y<m[v].morphTargets.length;y++)g[m[v].morphTargets[y]]=-1;for(const y in g){const w=[],x=[];for(let b=0;b!==m[v].morphTargets.length;++b){const S=m[v];w.push(S.time),x.push(S.morphTarget===y?1:0)}i.push(new Qp(".morphTargetInfluence["+y+"]",w,x))}l=g.length*a}else{const g=".bones["+t[p].name+"]";r(em,g+".position",m,"pos",i),r(Ff,g+".quaternion",m,"rot",i),r(em,g+".scale",m,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function eoe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qp;case"vector":case"vector2":case"vector3":case"vector4":return em;case"color":return HC;case"quaternion":return Ff;case"bool":case"boolean":return au;case"string":return ou}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function toe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=eoe(n.type);if(n.times===void 0){const t=[],r=[];BC(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const tu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class WC{constructor(e,t,r){const i=this;let s=!1,a=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(h){o++,s===!1&&i.onStart!==void 0&&i.onStart(h,a,o),s=!0},this.itemEnd=function(h){a++,i.onProgress!==void 0&&i.onProgress(h,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,p){return u.push(h,p),this},this.removeHandler=function(h){const p=u.indexOf(h);return p!==-1&&u.splice(p,2),this},this.getHandler=function(h){for(let p=0,m=u.length;p<m;p+=2){const g=u[p],v=u[p+1];if(g.global&&(g.lastIndex=0),g.test(h))return v}return null}}}const Mz=new WC;class Si{constructor(e){this.manager=e!==void 0?e:Mz,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Si.DEFAULT_MATERIAL_NAME="__DEFAULT";const Wa={};class noe extends Error{constructor(e,t){super(e),this.response=t}}class vo extends Si{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=tu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Wa[e]!==void 0){Wa[e].push({onLoad:t,onProgress:r,onError:i});return}Wa[e]=[],Wa[e].push({onLoad:t,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=Wa[e],p=u.body.getReader(),m=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),g=m?parseInt(m):0,v=g!==0;let y=0;const w=new ReadableStream({start(x){b();function b(){p.read().then(({done:S,value:T})=>{if(S)x.close();else{y+=T.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:g});for(let P=0,A=h.length;P<A;P++){const k=h[P];k.onProgress&&k.onProgress(C)}x.enqueue(T),b()}})}}});return new Response(w)}else throw new noe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return u.json();default:if(o===void 0)return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(o),m=p&&p[1]?p[1].toLowerCase():void 0,g=new TextDecoder(m);return u.arrayBuffer().then(v=>g.decode(v))}}}).then(u=>{tu.add(e,u);const h=Wa[e];delete Wa[e];for(let p=0,m=h.length;p<m;p++){const g=h[p];g.onLoad&&g.onLoad(u)}}).catch(u=>{const h=Wa[e];if(h===void 0)throw this.manager.itemError(e),u;delete Wa[e];for(let p=0,m=h.length;p<m;p++){const g=h[p];g.onError&&g.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class roe extends Si{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new vo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=tm.parse(e[r]);t.push(i)}return t}}class ioe extends Si{constructor(e){super(e)}load(e,t,r,i){const s=this,a=[],o=new sw,l=new vo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(p){l.load(e[p],function(m){const g=s.parse(m,!0);a[p]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},u+=1,u===6&&(g.mipmapCount===1&&(o.minFilter=$n),o.image=a,o.format=g.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let p=0,m=e.length;p<m;++p)h(p);else l.load(e,function(p){const m=s.parse(p,!0);if(m.isCubemap){const g=m.mipmaps.length/m.mipmapCount;for(let v=0;v<g;v++){a[v]={mipmaps:[]};for(let y=0;y<m.mipmapCount;y++)a[v].mipmaps.push(m.mipmaps[v*m.mipmapCount+y]),a[v].format=m.format,a[v].width=m.width,a[v].height=m.height}o.image=a}else o.image.width=m.width,o.image.height=m.height,o.mipmaps=m.mipmaps;m.mipmapCount===1&&(o.minFilter=$n),o.format=m.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}}class nm extends Si{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=tu.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=Yp("img");function l(){h(),tu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(p){h(),i&&i(p),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class soe extends Si{constructor(e){super(e)}load(e,t,r,i){const s=new Em;s.colorSpace=sr;const a=new nm(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(u){a.load(e[u],function(h){s.images[u]=h,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class aoe extends Si{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Od,o=new vo(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let u;try{u=s.parse(l)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Br,a.wrapT=u.wrapT!==void 0?u.wrapT:Br,a.magFilter=u.magFilter!==void 0?u.magFilter:$n,a.minFilter=u.minFilter!==void 0?u.minFilter:$n,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?a.colorSpace=u.colorSpace:u.encoding!==void 0&&(a.encoding=u.encoding),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Pl),u.mipmapCount===1&&(a.minFilter=$n),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u)},r,i),a}}class ooe extends Si{constructor(e){super(e)}load(e,t,r,i){const s=new Bn,a=new nm(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Hl extends tn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new it(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Tz extends Hl{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new it(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const uS=new Pt,LI=new $,OI=new $;class GC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ne(512,512),this.map=null,this.mapPass=null,this.matrix=new Pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qy,this._frameExtents=new Ne(1,1),this._viewportCount=1,this._viewports=[new ln(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;LI.setFromMatrixPosition(e.matrixWorld),t.position.copy(LI),OI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(OI),t.updateMatrixWorld(),uS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(uS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class loe extends GC{constructor(){super(new gr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=af*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Cz extends Hl{constructor(e,t,r=0,i=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new loe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const jI=new Pt,Nh=new $,dS=new $;class coe extends GC{constructor(){super(new gr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ne(4,2),this._viewportCount=6,this._viewports=[new ln(2,1,1,1),new ln(0,1,1,1),new ln(3,1,1,1),new ln(1,1,1,1),new ln(3,0,1,1),new ln(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Nh.setFromMatrixPosition(e.matrixWorld),r.position.copy(Nh),dS.copy(r.position),dS.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(dS),r.updateMatrixWorld(),i.makeTranslation(-Nh.x,-Nh.y,-Nh.z),jI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jI)}}class Nz extends Hl{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new coe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class uoe extends GC{constructor(){super(new Tm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Az extends Hl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.shadow=new uoe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Rz extends Hl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Pz extends Hl{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Iz{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*r),t.addScaledVector(a[4],1.092548*(r*i)),t.addScaledVector(a[5],1.092548*(i*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(r*s)),t.addScaledVector(a[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*i),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*r),t.addScaledVector(a[4],2*.429043*r*i),t.addScaledVector(a[5],2*.429043*i*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*r*s),t.addScaledVector(a[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class Dz extends Hl{constructor(e=new Iz,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class ww extends Si{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,a=new vo(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=ww.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new it().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new it().setHex(a.value);break;case"v2":i.uniforms[s].value=new Ne().fromArray(a.value);break;case"v3":i.uniforms[s].value=new $().fromArray(a.value);break;case"v4":i.uniforms[s].value=new ln().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Ft().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Pt().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ne().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ne().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:dz,SpriteMaterial:PC,RawShaderMaterial:fz,ShaderMaterial:Ma,PointsMaterial:DC,MeshPhysicalMaterial:hz,MeshStandardMaterial:zC,MeshPhongMaterial:pz,MeshToonMaterial:mz,MeshNormalMaterial:gz,MeshLambertMaterial:vz,MeshDepthMaterial:NC,MeshDistanceMaterial:AC,MeshBasicMaterial:Bl,MeshMatcapMaterial:xz,LineDashedMaterial:yz,LineBasicMaterial:ni,Material:Cr};return new t[e]}}class YE{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class kz extends Ut{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Lz extends Si{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new vo(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(g,v){if(t[v]!==void 0)return t[v];const w=g.interleavedBuffers[v],x=s(g,w.buffer),b=vd(w.type,x),S=new rw(b,w.stride);return S.uuid=w.uuid,t[v]=S,S}function s(g,v){if(r[v]!==void 0)return r[v];const w=g.arrayBuffers[v],x=new Uint32Array(w).buffer;return r[v]=x,x}const a=e.isInstancedBufferGeometry?new kz:new Ut,o=e.data.index;if(o!==void 0){const g=vd(o.type,o.array);a.setIndex(new hn(g,1))}const l=e.data.attributes;for(const g in l){const v=l[g];let y;if(v.isInterleavedBufferAttribute){const w=i(e.data,v.data);y=new Qc(w,v.itemSize,v.offset,v.normalized)}else{const w=vd(v.type,v.array),x=v.isInstancedBufferAttribute?lf:hn;y=new x(w,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),a.setAttribute(g,y)}const u=e.data.morphAttributes;if(u)for(const g in u){const v=u[g],y=[];for(let w=0,x=v.length;w<x;w++){const b=v[w];let S;if(b.isInterleavedBufferAttribute){const T=i(e.data,b.data);S=new Qc(T,b.itemSize,b.offset,b.normalized)}else{const T=vd(b.type,b.array);S=new hn(T,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),y.push(S)}a.morphAttributes[g]=y}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let g=0,v=p.length;g!==v;++g){const y=p[g];a.addGroup(y.start,y.count,y.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const g=new $;m.center!==void 0&&g.fromArray(m.center),a.boundingSphere=new Us(g,m.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class doe extends Si{constructor(e){super(e)}load(e,t,r,i){const s=this,a=this.path===""?YE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new vo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?YE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new vo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,r),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),t!==void 0){let p=!1;for(const m in a)if(a[m].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Fc().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new iw().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new Lz;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in kI?o=kI[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new ww;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=tm.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(h)}else return l.data?{data:vd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new WC(t);s=new nm(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const p=e[u],m=p.url;if(Array.isArray(m)){const g=[];for(let v=0,y=m.length;v<y;v++){const w=m[v],x=o(w);x!==null&&(x instanceof HTMLImageElement?g.push(x):g.push(new Od(x.data,x.width,x.height)))}i[p.uuid]=new Ec(g)}else{const g=o(p.url);i[p.uuid]=new Ec(g)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:vd(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new nm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const h=[];for(let p=0,m=u.length;p<m;p++){const g=u[p],v=await s(g);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Od(v.data,v.width,v.height)))}r[l.uuid]=new Ec(h)}else{const h=await s(l.url);r[l.uuid]=new Ec(h)}}}return r}parseTextures(e,t){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],u=l.data;let h;Array.isArray(u)?(h=new Em,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Od:h=new Bn,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=r(o.mapping,foe)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=r(o.wrap[0],FI),h.wrapT=r(o.wrap[1],FI)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.encoding!==void 0&&(h.encoding=o.encoding),o.minFilter!==void 0&&(h.minFilter=r(o.minFilter,UI)),o.magFilter!==void 0&&(h.magFilter=r(o.magFilter,UI)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),i[o.uuid]=h}return i}parseObject(e,t,r,i,s){let a;function o(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const g=[];for(let v=0,y=m.length;v<y;v++){const w=m[v];r[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),g.push(r[w])}return g}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function u(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let h,p;switch(e.type){case"Scene":a=new Wx,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new it(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new nw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new tw(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new gr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Tm(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Rz(e.color,e.intensity);break;case"DirectionalLight":a=new Az(e.color,e.intensity);break;case"PointLight":a=new Nz(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Pz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Cz(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Tz(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Dz().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),p=l(e.material),a=new K5(h,p),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),p=l(e.material),a=new Er(h,p);break;case"InstancedMesh":h=o(e.geometry),p=l(e.material);const m=e.count,g=e.instanceMatrix,v=e.instanceColor;a=new J5(h,p,m),a.instanceMatrix=new lf(new Float32Array(g.array),16),v!==void 0&&(a.instanceColor=new lf(new Float32Array(v.array),v.itemSize));break;case"LOD":a=new Z5;break;case"Line":a=new Il(o(e.geometry),l(e.material));break;case"LineLoop":a=new Q5(o(e.geometry),l(e.material));break;case"LineSegments":a=new Aa(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new ez(o(e.geometry),l(e.material));break;case"Sprite":a=new q5(l(e.material));break;case"Group":a=new yd;break;case"Bone":a=new IC;break;default:a=new tn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let g=0;g<m.length;g++)a.add(this.parseObject(m[g],t,r,i,s))}if(e.animations!==void 0){const m=e.animations;for(let g=0;g<m.length;g++){const v=m[g];a.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const m=e.levels;for(let g=0;g<m.length;g++){const v=m[g],y=a.getObjectByProperty("uuid",v.object);y!==void 0&&a.addLevel(y,v.distance,v.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const foe={UVMapping:Yy,CubeReflectionMapping:go,CubeRefractionMapping:Rl,EquirectangularReflectionMapping:Op,EquirectangularRefractionMapping:jp,CubeUVReflectionMapping:kf},FI={RepeatWrapping:Fp,ClampToEdgeWrapping:Br,MirroredRepeatWrapping:Up},UI={NearestFilter:Wn,NearestMipmapNearestFilter:Bx,NearestMipmapLinearFilter:ip,LinearFilter:$n,LinearMipmapNearestFilter:hC,LinearMipmapLinearFilter:Pl};class hoe extends Si{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=tu.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){tu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Uv;class $C{static getContext(){return Uv===void 0&&(Uv=new(window.AudioContext||window.webkitAudioContext)),Uv}static setContext(e){Uv=e}}class poe extends Si{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new vo(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);$C.getContext().decodeAudioData(u,function(p){t(p)},o)}catch(u){o(u)}},r,i);function o(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const zI=new Pt,BI=new Pt,rc=new Pt;class moe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new gr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new gr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,rc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,a=t.near*Math.tan(Oc*t.fov*.5)/t.zoom;let o,l;BI.elements[12]=-i,zI.elements[12]=i,o=-a*t.aspect+s,l=a*t.aspect+s,rc.elements[0]=2*t.near/(l-o),rc.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(rc),o=-a*t.aspect-s,l=a*t.aspect-s,rc.elements[0]=2*t.near/(l-o),rc.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(rc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zI)}}class XC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=VI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=VI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function VI(){return(typeof performance>"u"?Date:performance).now()}const ic=new $,HI=new yi,goe=new $,sc=new $;class voe extends tn{constructor(){super(),this.type="AudioListener",this.context=$C.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new XC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ic,HI,goe),sc.set(0,0,-1).applyQuaternion(HI),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ic.x,i),t.positionY.linearRampToValueAtTime(ic.y,i),t.positionZ.linearRampToValueAtTime(ic.z,i),t.forwardX.linearRampToValueAtTime(sc.x,i),t.forwardY.linearRampToValueAtTime(sc.y,i),t.forwardZ.linearRampToValueAtTime(sc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(ic.x,ic.y,ic.z),t.setOrientation(sc.x,sc.y,sc.z,r.x,r.y,r.z)}}class Oz extends tn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ac=new $,WI=new yi,xoe=new $,oc=new $;class yoe extends Oz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ac,WI,xoe),oc.set(0,0,1).applyQuaternion(WI);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ac.x,r),t.positionY.linearRampToValueAtTime(ac.y,r),t.positionZ.linearRampToValueAtTime(ac.z,r),t.orientationX.linearRampToValueAtTime(oc.x,r),t.orientationY.linearRampToValueAtTime(oc.y,r),t.orientationZ.linearRampToValueAtTime(oc.z,r)}else t.setPosition(ac.x,ac.y,ac.z),t.setOrientation(oc.x,oc.y,oc.z)}}class woe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class jz{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,a;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,a=i;s!==a;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[t+a]=e[r+a]}_slerp(e,t,r,i){yi.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const a=this._workIndex*s;yi.multiplyQuaternionsFlat(e,a,e,t,e,r),yi.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,t,r,i,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[r+a]*i}}}const YC="\\[\\]\\.:\\/",_oe=new RegExp("["+YC+"]","g"),qC="[^"+YC+"]",Soe="[^"+YC.replace("\\.","")+"]",boe=/((?:WC+[\/:])*)/.source.replace("WC",qC),Eoe=/(WCOD+)?/.source.replace("WCOD",Soe),Moe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",qC),Toe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",qC),Coe=new RegExp("^"+boe+Eoe+Moe+Toe+"$"),Noe=["material","materials","bones","map"];class Aoe{constructor(e,t,r){const i=r||Yt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Yt{constructor(e,t,r){this.path=t,this.parsedPath=r||Yt.parseTrackName(t),this.node=Yt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Yt.Composite(e,t,r):new Yt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_oe,"")}static parseTrackName(e){const t=Coe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Noe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Yt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yt.Composite=Aoe;Yt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Yt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Yt.prototype.GetterByBindingType=[Yt.prototype._getValue_direct,Yt.prototype._getValue_array,Yt.prototype._getValue_arrayElement,Yt.prototype._getValue_toArray];Yt.prototype.SetterByBindingTypeAndVersioning=[[Yt.prototype._setValue_direct,Yt.prototype._setValue_direct_setNeedsUpdate,Yt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_array,Yt.prototype._setValue_array_setNeedsUpdate,Yt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_arrayElement,Yt.prototype._setValue_arrayElement_setNeedsUpdate,Yt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_fromArray,Yt.prototype._setValue_fromArray_setNeedsUpdate,Yt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Roe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ui(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,u=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const m=arguments[h],g=m.uuid;let v=t[g];if(v===void 0){v=l++,t[g]=v,e.push(m);for(let y=0,w=a;y!==w;++y)s[y].push(new Yt(m,r[y],i[y]))}else if(v<u){o=e[v];const y=--u,w=e[y];t[w.uuid]=v,e[v]=w,t[g]=y,e[y]=m;for(let x=0,b=a;x!==b;++x){const S=s[x],T=S[y];let C=S[v];S[v]=T,C===void 0&&(C=new Yt(m,r[x],i[x])),S[y]=C}}else e[v]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],u=l.uuid,h=t[u];if(h!==void 0&&h>=s){const p=s++,m=e[p];t[m.uuid]=h,e[h]=m,t[u]=p,e[p]=l;for(let g=0,v=i;g!==v;++g){const y=r[g],w=y[p],x=y[h];y[h]=w,y[p]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],h=u.uuid,p=t[h];if(p!==void 0)if(delete t[h],p<s){const m=--s,g=e[m],v=--a,y=e[v];t[g.uuid]=p,e[p]=g,t[y.uuid]=m,e[m]=y,e.pop();for(let w=0,x=i;w!==x;++w){const b=r[w],S=b[m],T=b[v];b[p]=S,b[m]=T,b.pop()}}else{const m=--a,g=e[m];m>0&&(t[g.uuid]=p),e[p]=g,e.pop();for(let v=0,y=i;v!==y;++v){const w=r[v];w[p]=w[m],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,p=new Array(u);i=s.length,r[e]=i,a.push(e),o.push(t),s.push(p);for(let m=h,g=l.length;m!==g;++m){const v=l[m];p[m]=new Yt(v,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],u=e[o];t[u]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class Fz{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:Sc,endingEnd:Sc};for(let u=0;u!==a;++u){const h=s[u].createInterpolant(null);o[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=g5,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case wC:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(a),u[h].accumulateAdditive(o);break;case Zy:default:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(a),u[h].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===v5;if(e===0)return s===-1?i:a&&(s&1)===1?t-i:i;if(r===m5){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=bc,i.endingEnd=bc):(e?i.endingStart=this.zeroSlopeAtStart?bc:Sc:i.endingStart=Vp,t?i.endingEnd=this.zeroSlopeAtEnd?bc:Sc:i.endingEnd=Vp)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=r,this}}const Poe=new Float32Array(1);class Ioe extends Eo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let p=0;p!==s;++p){const m=i[p],g=m.name;let v=h[g];if(v!==void 0)++v.referenceCount,a[p]=v;else{if(v=a[p],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,g));continue}const y=t&&t._propertyBindings[p].binding.parsedPath;v=new jz(Yt.create(r,g,y),m.ValueTypeName,m.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,g),a[p]=v}o[p].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,m=(e._localRoot||this._root).uuid;delete p[m],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[t];a===void 0&&(a={},i[t]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new VC(new Float32Array(2),new Float32Array(2),1,Poe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let a=typeof e=="string"?tm.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=Zy),l!==void 0){const p=l.actionByRoot[s];if(p!==void 0&&p.blendMode===r)return p;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const h=new Fz(this,a,t,r);return this._bindAction(h,u),this._addInactiveAction(h,o,s),h}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?tm.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const u=a[o];this._deactivateAction(u);const h=u._cacheIndex,p=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=h,t[h]=p,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ZC{constructor(e){this.value=e}clone(){return new ZC(this.value.clone===void 0?this.value:this.value.clone())}}let Doe=0;class koe extends Eo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Doe++}),this.name="",this.usage=$p,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Loe extends rw{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Ooe{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Uz{constructor(e,t,r=0,i=1/0){this.ray=new Lf(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new jc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return qE(e,this,r,t),r.sort(GI),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)qE(e[i],this,r,t);return r.sort(GI),r}}function GI(n,e){return n.distance-e.distance}function qE(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,a=i.length;s<a;s++)qE(i[s],e,t,!0)}}class joe{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Un(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Foe{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const $I=new Ne;class Uoe{constructor(e=new Ne(1/0,1/0),t=new Ne(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=$I.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,$I).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const XI=new $,zv=new $;class zoe{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){XI.subVectors(e,this.start),zv.subVectors(this.end,this.start);const r=zv.dot(zv);let s=zv.dot(XI)/r;return t&&(s=Un(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const YI=new $;class Boe extends tn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Ut,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const u=a/l*Math.PI*2,h=o/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new ot(i,3));const s=new ni({fog:!1,toneMapped:!1});this.cone=new Aa(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),YI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(YI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wo=new $,Bv=new Pt,fS=new Pt;class Voe extends Aa{constructor(e){const t=zz(e),r=new Ut,i=[],s=[],a=new it(0,0,1),o=new it(0,1,0);for(let u=0;u<t.length;u++){const h=t[u];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}r.setAttribute("position",new ot(i,3)),r.setAttribute("color",new ot(s,3));const l=new ni({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");fS.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(Bv.multiplyMatrices(fS,o.matrixWorld),Wo.setFromMatrixPosition(Bv),i.setXYZ(a,Wo.x,Wo.y,Wo.z),Bv.multiplyMatrices(fS,o.parent.matrixWorld),Wo.setFromMatrixPosition(Bv),i.setXYZ(a+1,Wo.x,Wo.y,Wo.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function zz(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,zz(n.children[t]));return e}class Hoe extends Er{constructor(e,t,r){const i=new Am(t,4,2),s=new Bl({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Woe=new $,qI=new it,ZI=new it;class Goe extends tn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Nm(t);i.rotateY(Math.PI*.5),this.material=new Bl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new hn(a,3)),this.add(new Er(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");qI.copy(this.light.color),ZI.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?qI:ZI;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Woe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class $oe extends Aa{constructor(e=10,t=10,r=4473924,i=8947848){r=new it(r),i=new it(i);const s=t/2,a=e/t,o=e/2,l=[],u=[];for(let m=0,g=0,v=-o;m<=t;m++,v+=a){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const y=m===s?r:i;y.toArray(u,g),g+=3,y.toArray(u,g),g+=3,y.toArray(u,g),g+=3,y.toArray(u,g),g+=3}const h=new Ut;h.setAttribute("position",new ot(l,3)),h.setAttribute("color",new ot(u,3));const p=new ni({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Xoe extends Aa{constructor(e=10,t=16,r=8,i=64,s=4473924,a=8947848){s=new it(s),a=new it(a);const o=[],l=[];if(t>1)for(let p=0;p<t;p++){const m=p/t*(Math.PI*2),g=Math.sin(m)*e,v=Math.cos(m)*e;o.push(0,0,0),o.push(g,0,v);const y=p&1?s:a;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let p=0;p<r;p++){const m=p&1?s:a,g=e-e/r*p;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),w=Math.sin(y)*g,x=Math.cos(y)*g;o.push(w,0,x),l.push(m.r,m.g,m.b),y=(v+1)/i*(Math.PI*2),w=Math.sin(y)*g,x=Math.cos(y)*g,o.push(w,0,x),l.push(m.r,m.g,m.b)}}const u=new Ut;u.setAttribute("position",new ot(o,3)),u.setAttribute("color",new ot(l,3));const h=new ni({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const KI=new $,Vv=new $,JI=new $;class Yoe extends tn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Ut;i.setAttribute("position",new ot([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ni({fog:!1,toneMapped:!1});this.lightPlane=new Il(i,s),this.add(this.lightPlane),i=new Ut,i.setAttribute("position",new ot([0,0,0,0,0,1],3)),this.targetLine=new Il(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),KI.setFromMatrixPosition(this.light.matrixWorld),Vv.setFromMatrixPosition(this.light.target.matrixWorld),JI.subVectors(Vv,KI),this.lightPlane.lookAt(Vv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vv),this.targetLine.scale.z=JI.length()}}const Hv=new $,Dn=new bm;class qoe extends Aa{constructor(e){const t=new Ut,r=new ni({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(v,y){l(v),l(y)}function l(v){i.push(0,0,0),s.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}t.setAttribute("position",new ot(i,3)),t.setAttribute("color",new ot(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new it(16755200),h=new it(16711680),p=new it(43775),m=new it(16777215),g=new it(3355443);this.setColors(u,h,p,m,g)}setColors(e,t,r,i,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Dn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Hn("c",t,e,Dn,0,0,-1),Hn("t",t,e,Dn,0,0,1),Hn("n1",t,e,Dn,-r,-i,-1),Hn("n2",t,e,Dn,r,-i,-1),Hn("n3",t,e,Dn,-r,i,-1),Hn("n4",t,e,Dn,r,i,-1),Hn("f1",t,e,Dn,-r,-i,1),Hn("f2",t,e,Dn,r,-i,1),Hn("f3",t,e,Dn,-r,i,1),Hn("f4",t,e,Dn,r,i,1),Hn("u1",t,e,Dn,r*.7,i*1.1,-1),Hn("u2",t,e,Dn,-r*.7,i*1.1,-1),Hn("u3",t,e,Dn,0,i*2,-1),Hn("cf1",t,e,Dn,-r,0,1),Hn("cf2",t,e,Dn,r,0,1),Hn("cf3",t,e,Dn,0,-i,1),Hn("cf4",t,e,Dn,0,i,1),Hn("cn1",t,e,Dn,-r,0,-1),Hn("cn2",t,e,Dn,r,0,-1),Hn("cn3",t,e,Dn,0,-i,-1),Hn("cn4",t,e,Dn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Hn(n,e,t,r,i,s,a){Hv.set(i,s,a).unproject(r);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let u=0,h=o.length;u<h;u++)l.setXYZ(o[u],Hv.x,Hv.y,Hv.z)}}const Wv=new Na;class Zoe extends Aa{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ut;s.setIndex(new hn(r,1)),s.setAttribute("position",new hn(i,3)),super(s,new ni({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Wv.setFromObject(this.object),Wv.isEmpty())return;const t=Wv.min,r=Wv.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Koe extends Aa{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ut;s.setIndex(new hn(r,1)),s.setAttribute("position",new ot(i,3)),super(s,new ni({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Joe extends Il{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Ut;a.setAttribute("position",new ot(s,3)),a.computeBoundingSphere(),super(a,new ni({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ut;l.setAttribute("position",new ot(o,3)),l.computeBoundingSphere(),this.add(new Er(l,new Bl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const QI=new $;let Gv,hS;class Qoe extends tn{constructor(e=new $(0,0,1),t=new $(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",Gv===void 0&&(Gv=new Ut,Gv.setAttribute("position",new ot([0,0,0,0,1,0],3)),hS=new jf(0,.5,1,5,1),hS.translate(0,-.5,0)),this.position.copy(t),this.line=new Il(Gv,new ni({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Er(hS,new Bl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{QI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(QI,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ele extends Aa{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ut;i.setAttribute("position",new ot(t,3)),i.setAttribute("color",new ot(r,3));const s=new ni({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new it,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tle{constructor(){this.type="ShapePath",this.color=new it,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new qp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,a){return this.currentPath.bezierCurveTo(e,t,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const b=[];for(let S=0,T=x.length;S<T;S++){const C=x[S],P=new Fc;P.curves=C.curves,b.push(P)}return b}function r(x,b){const S=b.length;let T=!1;for(let C=S-1,P=0;P<S;C=P++){let A=b[C],k=b[P],I=k.x-A.x,R=k.y-A.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(A=b[P],I=-I,k=b[C],R=-R),x.y<A.y||x.y>k.y)continue;if(x.y===A.y){if(x.x===A.x)return!0}else{const U=R*(x.x-A.x)-I*(x.y-A.y);if(U===0)return!0;if(U<0)continue;T=!T}}else{if(x.y!==A.y)continue;if(k.x<=x.x&&x.x<=A.x||A.x<=x.x&&x.x<=k.x)return!0}}return T}const i=wa.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const u=[];if(s.length===1)return o=s[0],l=new Fc,l.curves=o.curves,u.push(l),u;let h=!i(s[0].getPoints());h=e?!h:h;const p=[],m=[];let g=[],v=0,y;m[v]=void 0,g[v]=[];for(let x=0,b=s.length;x<b;x++)o=s[x],y=o.getPoints(),a=i(y),a=e?!a:a,a?(!h&&m[v]&&v++,m[v]={s:new Fc,p:y},m[v].s.curves=o.curves,h&&v++,g[v]=[]):g[v].push({h:o,p:y[0]});if(!m[0])return t(s);if(m.length>1){let x=!1,b=0;for(let S=0,T=m.length;S<T;S++)p[S]=[];for(let S=0,T=m.length;S<T;S++){const C=g[S];for(let P=0;P<C.length;P++){const A=C[P];let k=!0;for(let I=0;I<m.length;I++)r(A.p,m[I].p)&&(S!==I&&b++,k?(k=!1,p[I].push(A)):x=!0);k&&p[S].push(A)}}b>0&&x===!1&&(g=p)}let w;for(let x=0,b=m.length;x<b;x++){l=m[x].s,u.push(l),w=g[x];for(let S=0,T=w.length;S<T;S++)l.holes.push(w[S].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:$y}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=$y);const nle=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:fC,AddEquation:hc,AddOperation:t5,AdditiveAnimationBlendMode:wC,AdditiveBlending:uE,AlphaFormat:l5,AlwaysCompare:A5,AlwaysDepth:YU,AlwaysStencilFunc:_5,AmbientLight:Rz,AnimationAction:Fz,AnimationClip:tm,AnimationLoader:roe,AnimationMixer:Ioe,AnimationObjectGroup:Roe,AnimationUtils:Qae,ArcCurve:tz,ArrayCamera:G5,ArrowHelper:Qoe,Audio:Oz,AudioAnalyser:woe,AudioContext:$C,AudioListener:voe,AudioLoader:poe,AxesHelper:ele,BackSide:Jr,BasicDepthPacking:x5,BasicShadowMap:kU,Bone:IC,BooleanKeyframeTrack:au,Box2:Uoe,Box3:Na,Box3Helper:Koe,BoxGeometry:su,BoxHelper:Zoe,BufferAttribute:hn,BufferGeometry:Ut,BufferGeometryLoader:Lz,ByteType:a5,Cache:tu,Camera:bm,CameraHelper:qoe,CanvasTexture:bae,CapsuleGeometry:ow,CatmullRomCurve3:nz,CineonToneMapping:i5,CircleGeometry:lw,ClampToEdgeWrapping:Br,Clock:XC,Color:it,ColorKeyframeTrack:HC,ColorManagement:on,CompressedArrayTexture:_ae,CompressedCubeTexture:Sae,CompressedTexture:sw,CompressedTextureLoader:ioe,ConeGeometry:cw,CubeCamera:j5,CubeReflectionMapping:go,CubeRefractionMapping:Rl,CubeTexture:Em,CubeTextureLoader:soe,CubeUVReflectionMapping:kf,CubicBezierCurve:LC,CubicBezierCurve3:rz,CubicInterpolant:Sz,CullFaceBack:cE,CullFaceFront:DU,CullFaceFrontBack:wee,CullFaceNone:IU,Curve:zs,CurvePath:sz,CustomBlending:LU,CustomToneMapping:s5,CylinderGeometry:jf,Cylindrical:Foe,Data3DTexture:EC,DataArrayTexture:Jy,DataTexture:Od,DataTextureLoader:aoe,DataUtils:Ate,DecrementStencilOp:Iee,DecrementWrapStencilOp:kee,DefaultLoadingManager:Mz,DepthFormat:xl,DepthStencilFormat:Jc,DepthTexture:$5,DirectionalLight:Az,DirectionalLightHelper:Yoe,DiscreteInterpolant:bz,DisplayP3ColorSpace:Ky,DodecahedronGeometry:uw,DoubleSide:la,DstAlphaFactor:VU,DstColorFactor:WU,DynamicCopyUsage:qee,DynamicDrawUsage:Hee,DynamicReadUsage:$ee,EdgesGeometry:az,EllipseCurve:aw,EqualCompare:E5,EqualDepth:ZU,EqualStencilFunc:Fee,EquirectangularReflectionMapping:Op,EquirectangularRefractionMapping:jp,Euler:Sm,EventDispatcher:Eo,ExtrudeGeometry:fw,FileLoader:vo,Float16BufferAttribute:Lte,Float32BufferAttribute:ot,Float64BufferAttribute:Ote,FloatType:da,Fog:nw,FogExp2:tw,FramebufferTexture:wae,FrontSide:mo,Frustum:Qy,GLBufferAttribute:Ooe,GLSL1:Kee,GLSL3:zE,GreaterCompare:T5,GreaterDepth:JU,GreaterEqualCompare:N5,GreaterEqualDepth:KU,GreaterEqualStencilFunc:Vee,GreaterStencilFunc:zee,GridHelper:$oe,Group:yd,HalfFloatType:sf,HemisphereLight:Tz,HemisphereLightHelper:Goe,IcosahedronGeometry:hw,ImageBitmapLoader:hoe,ImageLoader:nm,ImageUtils:bC,IncrementStencilOp:Pee,IncrementWrapStencilOp:Dee,InstancedBufferAttribute:lf,InstancedBufferGeometry:kz,InstancedInterleavedBuffer:Loe,InstancedMesh:J5,Int16BufferAttribute:Dte,Int32BufferAttribute:kte,Int8BufferAttribute:Rte,IntType:pC,InterleavedBuffer:rw,InterleavedBufferAttribute:Qc,Interpolant:Rm,InterpolateDiscrete:zp,InterpolateLinear:Bp,InterpolateSmooth:b0,InvertStencilOp:Lee,KeepStencilOp:E0,KeyframeTrack:Bs,LOD:Z5,LatheGeometry:Cm,Layers:jc,LessCompare:b5,LessDepth:qU,LessEqualCompare:M5,LessEqualDepth:zx,LessEqualStencilFunc:Uee,LessStencilFunc:jee,Light:Hl,LightProbe:Dz,Line:Il,Line3:zoe,LineBasicMaterial:ni,LineCurve:OC,LineCurve3:iz,LineDashedMaterial:yz,LineLoop:Q5,LineSegments:Aa,LinearDisplayP3ColorSpace:_m,LinearEncoding:_C,LinearFilter:$n,LinearInterpolant:VC,LinearMipMapLinearFilter:Mee,LinearMipMapNearestFilter:Eee,LinearMipmapLinearFilter:Pl,LinearMipmapNearestFilter:hC,LinearSRGBColorSpace:Ea,LinearToneMapping:n5,LinearTransfer:Hp,Loader:Si,LoaderUtils:YE,LoadingManager:WC,LoopOnce:m5,LoopPingPong:v5,LoopRepeat:g5,LuminanceAlphaFormat:u5,LuminanceFormat:c5,MOUSE:xee,Material:Cr,MaterialLoader:ww,MathUtils:dte,Matrix3:Ft,Matrix4:Pt,MaxEquation:pE,Mesh:Er,MeshBasicMaterial:Bl,MeshDepthMaterial:NC,MeshDistanceMaterial:AC,MeshLambertMaterial:vz,MeshMatcapMaterial:xz,MeshNormalMaterial:gz,MeshPhongMaterial:pz,MeshPhysicalMaterial:hz,MeshStandardMaterial:zC,MeshToonMaterial:mz,MinEquation:hE,MirroredRepeatWrapping:Up,MixOperation:e5,MultiplyBlending:fE,MultiplyOperation:wm,NearestFilter:Wn,NearestMipMapLinearFilter:bee,NearestMipMapNearestFilter:See,NearestMipmapLinearFilter:ip,NearestMipmapNearestFilter:Bx,NeverCompare:S5,NeverDepth:XU,NeverStencilFunc:Oee,NoBlending:so,NoColorSpace:Li,NoToneMapping:xa,NormalAnimationBlendMode:Zy,NormalBlending:Lc,NotEqualCompare:C5,NotEqualDepth:QU,NotEqualStencilFunc:Bee,NumberKeyframeTrack:Qp,Object3D:tn,ObjectLoader:doe,ObjectSpaceNormalMap:w5,OctahedronGeometry:Nm,OneFactor:UU,OneMinusDstAlphaFactor:HU,OneMinusDstColorFactor:GU,OneMinusSrcAlphaFactor:dC,OneMinusSrcColorFactor:BU,OrthographicCamera:Tm,P3Primaries:Gp,PCFShadowMap:Xy,PCFSoftShadowMap:rp,PMREMGenerator:VE,Path:qp,PerspectiveCamera:gr,Plane:qo,PlaneGeometry:Mm,PlaneHelper:Joe,PointLight:Nz,PointLightHelper:Hoe,Points:ez,PointsMaterial:DC,PolarGridHelper:Xoe,PolyhedronGeometry:Vl,PositionalAudio:yoe,PropertyBinding:Yt,PropertyMixer:jz,QuadraticBezierCurve:jC,QuadraticBezierCurve3:FC,Quaternion:yi,QuaternionKeyframeTrack:Ff,QuaternionLinearInterpolant:Ez,RED_GREEN_RGTC2_Format:FE,RED_RGTC1_Format:p5,REVISION:$y,RGBADepthPacking:y5,RGBAFormat:fi,RGBAIntegerFormat:yC,RGBA_ASTC_10x10_Format:IE,RGBA_ASTC_10x5_Format:AE,RGBA_ASTC_10x6_Format:RE,RGBA_ASTC_10x8_Format:PE,RGBA_ASTC_12x10_Format:DE,RGBA_ASTC_12x12_Format:kE,RGBA_ASTC_4x4_Format:_E,RGBA_ASTC_5x4_Format:SE,RGBA_ASTC_5x5_Format:bE,RGBA_ASTC_6x5_Format:EE,RGBA_ASTC_6x6_Format:ME,RGBA_ASTC_8x5_Format:TE,RGBA_ASTC_8x6_Format:CE,RGBA_ASTC_8x8_Format:NE,RGBA_BPTC_Format:S0,RGBA_ETC2_EAC_Format:wE,RGBA_PVRTC_2BPPV1_Format:xE,RGBA_PVRTC_4BPPV1_Format:vE,RGBA_S3TC_DXT1_Format:y0,RGBA_S3TC_DXT3_Format:w0,RGBA_S3TC_DXT5_Format:_0,RGB_BPTC_SIGNED_Format:LE,RGB_BPTC_UNSIGNED_Format:OE,RGB_ETC1_Format:h5,RGB_ETC2_Format:yE,RGB_PVRTC_2BPPV1_Format:gE,RGB_PVRTC_4BPPV1_Format:mE,RGB_S3TC_DXT1_Format:x0,RGFormat:f5,RGIntegerFormat:xC,RawShaderMaterial:fz,Ray:Lf,Raycaster:Uz,Rec709Primaries:Wp,RectAreaLight:Pz,RedFormat:d5,RedIntegerFormat:vC,ReinhardToneMapping:r5,RenderTarget:D5,RepeatWrapping:Fp,ReplaceStencilOp:Ree,ReverseSubtractEquation:jU,RingGeometry:pw,SIGNED_RED_GREEN_RGTC2_Format:UE,SIGNED_RED_RGTC1_Format:jE,SRGBColorSpace:sr,SRGBTransfer:mn,Scene:Wx,ShaderChunk:Lt,ShaderLib:Cs,ShaderMaterial:Ma,ShadowMaterial:dz,Shape:Fc,ShapeGeometry:mw,ShapePath:tle,ShapeUtils:wa,ShortType:o5,Skeleton:iw,SkeletonHelper:Voe,SkinnedMesh:K5,Source:Ec,Sphere:Us,SphereGeometry:Am,Spherical:joe,SphericalHarmonics3:Iz,SplineCurve:UC,SpotLight:Cz,SpotLightHelper:Boe,Sprite:q5,SpriteMaterial:PC,SrcAlphaFactor:uC,SrcAlphaSaturateFactor:$U,SrcColorFactor:zU,StaticCopyUsage:Yee,StaticDrawUsage:$p,StaticReadUsage:Gee,StereoCamera:moe,StreamCopyUsage:Zee,StreamDrawUsage:Wee,StreamReadUsage:Xee,StringKeyframeTrack:ou,SubtractEquation:OU,SubtractiveBlending:dE,TOUCH:yee,TangentSpaceNormalMap:zl,TetrahedronGeometry:gw,Texture:Bn,TextureLoader:ooe,TorusGeometry:vw,TorusKnotGeometry:xw,Triangle:di,TriangleFanDrawMode:Nee,TriangleStripDrawMode:Cee,TrianglesDrawMode:Tee,TubeGeometry:yw,TwoPassDoubleSide:_ee,UVMapping:Yy,Uint16BufferAttribute:MC,Uint32BufferAttribute:TC,Uint8BufferAttribute:Pte,Uint8ClampedBufferAttribute:Ite,Uniform:ZC,UniformsGroup:koe,UniformsLib:Xe,UniformsUtils:O5,UnsignedByteType:ya,UnsignedInt248Type:vl,UnsignedIntType:no,UnsignedShort4444Type:mC,UnsignedShort5551Type:gC,UnsignedShortType:qy,VSMShadowMap:Ss,Vector2:Ne,Vector3:$,Vector4:ln,VectorKeyframeTrack:em,VideoTexture:yae,WebGL1Renderer:X5,WebGL3DRenderTarget:vte,WebGLArrayRenderTarget:gte,WebGLCoordinateSystem:fa,WebGLCubeRenderTarget:F5,WebGLMultipleRenderTargets:xte,WebGLRenderTarget:Ls,WebGLRenderer:RC,WebGLUtils:W5,WebGPUCoordinateSystem:Xp,WireframeGeometry:uz,WrapAroundEnding:Vp,ZeroCurvatureEnding:Sc,ZeroFactor:FU,ZeroSlopeEnding:bc,ZeroStencilOp:Aee,_SRGBAFormat:Vx,createCanvasElement:I5,sRGBEncoding:yl},Symbol.toStringTag,{value:"Module"}));var Bz={exports:{}},lu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */lu.ConcurrentRoot=1;lu.ContinuousEventPriority=4;lu.DefaultEventPriority=16;lu.DiscreteEventPriority=1;lu.IdleEventPriority=536870912;lu.LegacyRoot=0;Bz.exports=lu;var _d=Bz.exports;function rle(n){let e;const t=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(p!==e){const m=e;e=h?p:Object.assign({},e,p),t.forEach(g=>g(e,m))}},i=()=>e,s=(u,h=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=h(e);function g(){const v=h(e);if(!p(m,v)){const y=m;u(m=v,y)}}return t.add(g),()=>t.delete(g)},l={setState:r,getState:i,subscribe:(u,h,p)=>h||p?s(u,h,p):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const ile=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),eD=ile?E.useEffect:E.useLayoutEffect;function sle(n){const e=typeof n=="function"?rle(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=E.useReducer(w=>w+1,0),a=e.getState(),o=E.useRef(a),l=E.useRef(r),u=E.useRef(i),h=E.useRef(!1),p=E.useRef();p.current===void 0&&(p.current=r(a));let m,g=!1;(o.current!==a||l.current!==r||u.current!==i||h.current)&&(m=r(a),g=!i(p.current,m)),eD(()=>{g&&(p.current=m),o.current=a,l.current=r,u.current=i,h.current=!1});const v=E.useRef(a);eD(()=>{const w=()=>{try{const b=e.getState(),S=l.current(b);u.current(p.current,S)||(o.current=b,p.current=S,s())}catch{h.current=!0,s()}},x=e.subscribe(w);return e.getState()!==v.current&&w(),x},[]);const y=g?m:p.current;return E.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var Vz={exports:{}},pS={exports:{}},mS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tD;function ale(){return tD||(tD=1,function(n){function e(O,B){var Y=O.length;O.push(B);e:for(;0<Y;){var L=Y-1>>>1,Z=O[L];if(0<i(Z,B))O[L]=B,O[Y]=Z,Y=L;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],Y=O.pop();if(Y!==B){O[0]=Y;e:for(var L=0,Z=O.length,oe=Z>>>1;L<oe;){var de=2*(L+1)-1,ye=O[de],we=de+1,ne=O[we];if(0>i(ye,Y))we<Z&&0>i(ne,ye)?(O[L]=ne,O[we]=Y,L=we):(O[L]=ye,O[de]=Y,L=de);else if(we<Z&&0>i(ne,Y))O[L]=ne,O[we]=Y,L=we;else break e}}return B}function i(O,B){var Y=O.sortIndex-B.sortIndex;return Y!==0?Y:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,m=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var B=t(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=t(u)}}function T(O){if(y=!1,S(O),!v)if(t(l)!==null)v=!0,W(C);else{var B=t(u);B!==null&&te(T,B.startTime-O)}}function C(O,B){v=!1,y&&(y=!1,x(k),k=-1),g=!0;var Y=m;try{for(S(B),p=t(l);p!==null&&(!(p.expirationTime>B)||O&&!U());){var L=p.callback;if(typeof L=="function"){p.callback=null,m=p.priorityLevel;var Z=L(p.expirationTime<=B);B=n.unstable_now(),typeof Z=="function"?p.callback=Z:p===t(l)&&r(l),S(B)}else r(l);p=t(l)}if(p!==null)var oe=!0;else{var de=t(u);de!==null&&te(T,de.startTime-B),oe=!1}return oe}finally{p=null,m=Y,g=!1}}var P=!1,A=null,k=-1,I=5,R=-1;function U(){return!(n.unstable_now()-R<I)}function V(){if(A!==null){var O=n.unstable_now();R=O;var B=!0;try{B=A(!0,O)}finally{B?J():(P=!1,A=null)}}else P=!1}var J;if(typeof b=="function")J=function(){b(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=V,J=function(){Q.postMessage(null)}}else J=function(){w(V,0)};function W(O){A=O,P||(P=!0,J())}function te(O,B){k=w(function(){O(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,W(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var Y=m;m=B;try{return O()}finally{m=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=m;m=O;try{return B()}finally{m=Y}},n.unstable_scheduleCallback=function(O,B,Y){var L=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?L+Y:L):Y=L,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,O={id:h++,callback:B,priorityLevel:O,startTime:Y,expirationTime:Z,sortIndex:-1},Y>L?(O.sortIndex=Y,e(u,O),t(l)===null&&O===t(u)&&(y?(x(k),k=-1):y=!0,te(T,Y-L))):(O.sortIndex=Z,e(l,O),v||g||(v=!0,W(C))),O},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(O){var B=m;return function(){var Y=m;m=B;try{return O.apply(this,arguments)}finally{m=Y}}}}(mS)),mS}var nD;function ole(){return nD||(nD=1,pS.exports=ale()),pS.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lle=function(e){var t={},r=E,i=ole(),s=Object.assign;function a(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,_=1;_<arguments.length;_++)f+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(d){return d===null||typeof d!="object"?null:(d=C&&d[C]||d["@@iterator"],typeof d=="function"?d:null)}function A(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case h:return"Fragment";case u:return"Portal";case m:return"Profiler";case p:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case v:return(d.displayName||"Context")+".Consumer";case g:return(d._context.displayName||"Context")+".Provider";case y:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case b:return f=d.displayName||null,f!==null?f:A(d.type)||"Memo";case S:f=d._payload,d=d._init;try{return A(d(f))}catch{}}return null}function k(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(f);case 8:return f===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function I(d){var f=d,_=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,f.flags&4098&&(_=f.return),d=f.return;while(d)}return f.tag===3?_:null}function R(d){if(I(d)!==d)throw Error(a(188))}function U(d){var f=d.alternate;if(!f){if(f=I(d),f===null)throw Error(a(188));return f!==d?null:d}for(var _=d,M=f;;){var N=_.return;if(N===null)break;var D=N.alternate;if(D===null){if(M=N.return,M!==null){_=M;continue}break}if(N.child===D.child){for(D=N.child;D;){if(D===_)return R(N),d;if(D===M)return R(N),f;D=D.sibling}throw Error(a(188))}if(_.return!==M.return)_=N,M=D;else{for(var q=!1,re=N.child;re;){if(re===_){q=!0,_=N,M=D;break}if(re===M){q=!0,M=N,_=D;break}re=re.sibling}if(!q){for(re=D.child;re;){if(re===_){q=!0,_=D,M=N;break}if(re===M){q=!0,M=D,_=N;break}re=re.sibling}if(!q)throw Error(a(189))}}if(_.alternate!==M)throw Error(a(190))}if(_.tag!==3)throw Error(a(188));return _.stateNode.current===_?d:f}function V(d){return d=U(d),d!==null?J(d):null}function J(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=J(d);if(f!==null)return f;d=d.sibling}return null}function z(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var f=z(d);if(f!==null)return f}d=d.sibling}return null}var Q=Array.isArray,W=e.getPublicInstance,te=e.getRootHostContext,O=e.getChildHostContext,B=e.prepareForCommit,Y=e.resetAfterCommit,L=e.createInstance,Z=e.appendInitialChild,oe=e.finalizeInitialChildren,de=e.prepareUpdate,ye=e.shouldSetTextContent,we=e.createTextInstance,ne=e.scheduleTimeout,fe=e.cancelTimeout,Le=e.noTimeout,ke=e.isPrimaryRenderer,Re=e.supportsMutation,X=e.supportsPersistence,Ee=e.supportsHydration,pe=e.getInstanceFromNode,Pe=e.preparePortalMount,be=e.getCurrentEventPriority,et=e.detachDeletedInstance,H=e.supportsMicrotasks,ee=e.scheduleMicrotask,se=e.supportsTestSelectors,Me=e.findFiberRoot,Ae=e.getBoundingRect,F=e.getTextContent,j=e.isHiddenSubtree,ie=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,_e=e.setupIntersectionObserver,De=e.appendChild,tt=e.appendChildToContainer,Ue=e.commitTextUpdate,We=e.commitMount,mt=e.commitUpdate,zt=e.insertBefore,ze=e.insertInContainerBefore,Wt=e.removeChild,pt=e.removeChildFromContainer,xt=e.resetTextContent,je=e.hideInstance,K=e.hideTextInstance,Ce=e.unhideInstance,Oe=e.unhideTextInstance,Ge=e.clearContainer,$e=e.cloneInstance,Ie=e.createContainerChildSet,ut=e.appendChildToContainerChildSet,Nt=e.finalizeContainerChildren,cr=e.replaceContainerChildren,un=e.cloneHiddenInstance,bi=e.cloneHiddenTextInstance,wr=e.canHydrateInstance,Im=e.canHydrateTextInstance,Dm=e.canHydrateSuspenseInstance,km=e.isSuspenseInstancePending,Mo=e.isSuspenseInstanceFallback,Lm=e.registerSuspenseInstanceRetry,Vs=e.getNextHydratableSibling,Om=e.getFirstHydratableChild,_w=e.getFirstHydratableChildWithinContainer,Sw=e.getFirstHydratableChildWithinSuspenseInstance,bw=e.hydrateInstance,G=e.hydrateTextInstance,le=e.hydrateSuspenseInstance,ve=e.getNextHydratableInstanceAfterSuspenseInstance,ue=e.commitHydratedContainer,xe=e.commitHydratedSuspenseInstance,st=e.clearSuspenseBoundary,gt=e.clearSuspenseBoundaryFromContainer,_t=e.shouldDeleteUnhydratedTailInstances,St=e.didNotMatchHydratedContainerTextInstance,Bt=e.didNotMatchHydratedTextInstance,yt;function Et(d){if(yt===void 0)try{throw Error()}catch(_){var f=_.stack.trim().match(/\n( *(at )?)/);yt=f&&f[1]||""}return`
`+yt+d}var pn=!1;function vn(d,f){if(!d||pn)return"";pn=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ve){var M=Ve}Reflect.construct(d,[],f)}else{try{f.call()}catch(Ve){M=Ve}d.call(f.prototype)}else{try{throw Error()}catch(Ve){M=Ve}d()}}catch(Ve){if(Ve&&M&&typeof Ve.stack=="string"){for(var N=Ve.stack.split(`
`),D=M.stack.split(`
`),q=N.length-1,re=D.length-1;1<=q&&0<=re&&N[q]!==D[re];)re--;for(;1<=q&&0<=re;q--,re--)if(N[q]!==D[re]){if(q!==1||re!==1)do if(q--,re--,0>re||N[q]!==D[re]){var ge=`
`+N[q].replace(" at new "," at ");return d.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",d.displayName)),ge}while(1<=q&&0<=re);break}}}finally{pn=!1,Error.prepareStackTrace=_}return(d=d?d.displayName||d.name:"")?Et(d):""}var ri=Object.prototype.hasOwnProperty,Ei=[],dn=-1;function Ct(d){return{current:d}}function sn(d){0>dn||(d.current=Ei[dn],Ei[dn]=null,dn--)}function bt(d,f){dn++,Ei[dn]=d.current,d.current=f}var Nr={},tr=Ct(Nr),Zn=Ct(!1),fs=Nr;function Rn(d,f){var _=d.type.contextTypes;if(!_)return Nr;var M=d.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===f)return M.__reactInternalMemoizedMaskedChildContext;var N={},D;for(D in _)N[D]=f[D];return M&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=N),N}function Pn(d){return d=d.childContextTypes,d!=null}function To(){sn(Zn),sn(tr)}function Ar(d,f,_){if(tr.current!==Nr)throw Error(a(168));bt(tr,f),bt(Zn,_)}function cu(d,f,_){var M=d.stateNode;if(f=f.childContextTypes,typeof M.getChildContext!="function")return _;M=M.getChildContext();for(var N in M)if(!(N in f))throw Error(a(108,k(d)||"Unknown",N));return s({},_,M)}function uu(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Nr,fs=tr.current,bt(tr,d),bt(Zn,Zn.current),!0}function Uf(d,f,_){var M=d.stateNode;if(!M)throw Error(a(169));_?(d=cu(d,f,fs),M.__reactInternalMemoizedMergedChildContext=d,sn(Zn),sn(tr),bt(tr,d)):sn(Zn),bt(Zn,_)}var hs=Math.clz32?Math.clz32:cB,oB=Math.log,lB=Math.LN2;function cB(d){return d>>>=0,d===0?32:31-(oB(d)/lB|0)|0}var jm=64,Fm=4194304;function zf(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Um(d,f){var _=d.pendingLanes;if(_===0)return 0;var M=0,N=d.suspendedLanes,D=d.pingedLanes,q=_&268435455;if(q!==0){var re=q&~N;re!==0?M=zf(re):(D&=q,D!==0&&(M=zf(D)))}else q=_&~N,q!==0?M=zf(q):D!==0&&(M=zf(D));if(M===0)return 0;if(f!==0&&f!==M&&!(f&N)&&(N=M&-M,D=f&-f,N>=D||N===16&&(D&4194240)!==0))return f;if(M&4&&(M|=_&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=M;0<f;)_=31-hs(f),N=1<<_,M|=d[_],f&=~N;return M}function uB(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dB(d,f){for(var _=d.suspendedLanes,M=d.pingedLanes,N=d.expirationTimes,D=d.pendingLanes;0<D;){var q=31-hs(D),re=1<<q,ge=N[q];ge===-1?(!(re&_)||re&M)&&(N[q]=uB(re,f)):ge<=f&&(d.expiredLanes|=re),D&=~re}}function Ew(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Mw(d){for(var f=[],_=0;31>_;_++)f.push(d);return f}function Bf(d,f,_){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-hs(f),d[f]=_}function fB(d,f){var _=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var M=d.eventTimes;for(d=d.expirationTimes;0<_;){var N=31-hs(_),D=1<<N;f[N]=0,M[N]=-1,d[N]=-1,_&=~D}}function Tw(d,f){var _=d.entangledLanes|=f;for(d=d.entanglements;_;){var M=31-hs(_),N=1<<M;N&f|d[M]&f&&(d[M]|=f),_&=~N}}var Kt=0;function QC(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Cw=i.unstable_scheduleCallback,e2=i.unstable_cancelCallback,hB=i.unstable_shouldYield,pB=i.unstable_requestPaint,ur=i.unstable_now,Nw=i.unstable_ImmediatePriority,mB=i.unstable_UserBlockingPriority,Aw=i.unstable_NormalPriority,gB=i.unstable_IdlePriority,zm=null,Hs=null;function vB(d){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(zm,d,void 0,(d.current.flags&128)===128)}catch{}}function xB(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var Ws=typeof Object.is=="function"?Object.is:xB,Ra=null,Bm=!1,Rw=!1;function t2(d){Ra===null?Ra=[d]:Ra.push(d)}function yB(d){Bm=!0,t2(d)}function Gs(){if(!Rw&&Ra!==null){Rw=!0;var d=0,f=Kt;try{var _=Ra;for(Kt=1;d<_.length;d++){var M=_[d];do M=M(!0);while(M!==null)}Ra=null,Bm=!1}catch(N){throw Ra!==null&&(Ra=Ra.slice(d+1)),Cw(Nw,Gs),N}finally{Kt=f,Rw=!1}}return null}var wB=o.ReactCurrentBatchConfig;function Vm(d,f){if(Ws(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var _=Object.keys(d),M=Object.keys(f);if(_.length!==M.length)return!1;for(M=0;M<_.length;M++){var N=_[M];if(!ri.call(f,N)||!Ws(d[N],f[N]))return!1}return!0}function _B(d){switch(d.tag){case 5:return Et(d.type);case 16:return Et("Lazy");case 13:return Et("Suspense");case 19:return Et("SuspenseList");case 0:case 2:case 15:return d=vn(d.type,!1),d;case 11:return d=vn(d.type.render,!1),d;case 1:return d=vn(d.type,!0),d;default:return""}}function ps(d,f){if(d&&d.defaultProps){f=s({},f),d=d.defaultProps;for(var _ in d)f[_]===void 0&&(f[_]=d[_]);return f}return f}var Hm=Ct(null),Wm=null,du=null,Pw=null;function Iw(){Pw=du=Wm=null}function n2(d,f,_){ke?(bt(Hm,f._currentValue),f._currentValue=_):(bt(Hm,f._currentValue2),f._currentValue2=_)}function Dw(d){var f=Hm.current;sn(Hm),ke?d._currentValue=f:d._currentValue2=f}function kw(d,f,_){for(;d!==null;){var M=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),d===_)break;d=d.return}}function fu(d,f){Wm=d,Pw=du=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&f&&(Ci=!0),d.firstContext=null)}function Gi(d){var f=ke?d._currentValue:d._currentValue2;if(Pw!==d)if(d={context:d,memoizedValue:f,next:null},du===null){if(Wm===null)throw Error(a(308));du=d,Wm.dependencies={lanes:0,firstContext:d}}else du=du.next=d;return f}var $s=null,Co=!1;function Lw(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r2(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Pa(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function No(d,f){var _=d.updateQueue;_!==null&&(_=_.shared,Kn!==null&&d.mode&1&&!(Vt&2)?(d=_.interleaved,d===null?(f.next=f,$s===null?$s=[_]:$s.push(_)):(f.next=d.next,d.next=f),_.interleaved=f):(d=_.pending,d===null?f.next=f:(f.next=d.next,d.next=f),_.pending=f))}function Gm(d,f,_){if(f=f.updateQueue,f!==null&&(f=f.shared,(_&4194240)!==0)){var M=f.lanes;M&=d.pendingLanes,_|=M,f.lanes=_,Tw(d,_)}}function i2(d,f){var _=d.updateQueue,M=d.alternate;if(M!==null&&(M=M.updateQueue,_===M)){var N=null,D=null;if(_=_.firstBaseUpdate,_!==null){do{var q={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};D===null?N=D=q:D=D.next=q,_=_.next}while(_!==null);D===null?N=D=f:D=D.next=f}else N=D=f;_={baseState:M.baseState,firstBaseUpdate:N,lastBaseUpdate:D,shared:M.shared,effects:M.effects},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=f:d.next=f,_.lastBaseUpdate=f}function $m(d,f,_,M){var N=d.updateQueue;Co=!1;var D=N.firstBaseUpdate,q=N.lastBaseUpdate,re=N.shared.pending;if(re!==null){N.shared.pending=null;var ge=re,Ve=ge.next;ge.next=null,q===null?D=Ve:q.next=Ve,q=ge;var at=d.alternate;at!==null&&(at=at.updateQueue,re=at.lastBaseUpdate,re!==q&&(re===null?at.firstBaseUpdate=Ve:re.next=Ve,at.lastBaseUpdate=ge))}if(D!==null){var At=N.baseState;q=0,at=Ve=ge=null,re=D;do{var vt=re.lane,fn=re.eventTime;if((M&vt)===vt){at!==null&&(at=at.next={eventTime:fn,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var dt=d,Dr=re;switch(vt=f,fn=_,Dr.tag){case 1:if(dt=Dr.payload,typeof dt=="function"){At=dt.call(fn,At,vt);break e}At=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Dr.payload,vt=typeof dt=="function"?dt.call(fn,At,vt):dt,vt==null)break e;At=s({},At,vt);break e;case 2:Co=!0}}re.callback!==null&&re.lane!==0&&(d.flags|=64,vt=N.effects,vt===null?N.effects=[re]:vt.push(re))}else fn={eventTime:fn,lane:vt,tag:re.tag,payload:re.payload,callback:re.callback,next:null},at===null?(Ve=at=fn,ge=At):at=at.next=fn,q|=vt;if(re=re.next,re===null){if(re=N.shared.pending,re===null)break;vt=re,re=vt.next,vt.next=null,N.lastBaseUpdate=vt,N.shared.pending=null}}while(!0);if(at===null&&(ge=At),N.baseState=ge,N.firstBaseUpdate=Ve,N.lastBaseUpdate=at,f=N.shared.interleaved,f!==null){N=f;do q|=N.lane,N=N.next;while(N!==f)}else D===null&&(N.shared.lanes=0);_u|=q,d.lanes=q,d.memoizedState=At}}function s2(d,f,_){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var M=d[f],N=M.callback;if(N!==null){if(M.callback=null,M=_,typeof N!="function")throw Error(a(191,N));N.call(M)}}}var a2=new r.Component().refs;function Ow(d,f,_,M){f=d.memoizedState,_=_(M,f),_=_==null?f:s({},f,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var Xm={isMounted:function(d){return(d=d._reactInternals)?I(d)===d:!1},enqueueSetState:function(d,f,_){d=d._reactInternals;var M=Wr(),N=Po(d),D=Pa(M,N);D.payload=f,_!=null&&(D.callback=_),No(d,D),f=Zi(d,N,M),f!==null&&Gm(f,d,N)},enqueueReplaceState:function(d,f,_){d=d._reactInternals;var M=Wr(),N=Po(d),D=Pa(M,N);D.tag=1,D.payload=f,_!=null&&(D.callback=_),No(d,D),f=Zi(d,N,M),f!==null&&Gm(f,d,N)},enqueueForceUpdate:function(d,f){d=d._reactInternals;var _=Wr(),M=Po(d),N=Pa(_,M);N.tag=2,f!=null&&(N.callback=f),No(d,N),f=Zi(d,M,_),f!==null&&Gm(f,d,M)}};function o2(d,f,_,M,N,D,q){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(M,D,q):f.prototype&&f.prototype.isPureReactComponent?!Vm(_,M)||!Vm(N,D):!0}function l2(d,f,_){var M=!1,N=Nr,D=f.contextType;return typeof D=="object"&&D!==null?D=Gi(D):(N=Pn(f)?fs:tr.current,M=f.contextTypes,D=(M=M!=null)?Rn(d,N):Nr),f=new f(_,D),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xm,d.stateNode=f,f._reactInternals=d,M&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=N,d.__reactInternalMemoizedMaskedChildContext=D),f}function c2(d,f,_,M){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(_,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(_,M),f.state!==d&&Xm.enqueueReplaceState(f,f.state,null)}function jw(d,f,_,M){var N=d.stateNode;N.props=_,N.state=d.memoizedState,N.refs=a2,Lw(d);var D=f.contextType;typeof D=="object"&&D!==null?N.context=Gi(D):(D=Pn(f)?fs:tr.current,N.context=Rn(d,D)),N.state=d.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(Ow(d,f,D,_),N.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(f=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),f!==N.state&&Xm.enqueueReplaceState(N,N.state,null),$m(d,_,N,M),N.state=d.memoizedState),typeof N.componentDidMount=="function"&&(d.flags|=4194308)}var hu=[],pu=0,Ym=null,qm=0,$i=[],Xi=0,Wl=null,Ia=1,Da="";function Gl(d,f){hu[pu++]=qm,hu[pu++]=Ym,Ym=d,qm=f}function u2(d,f,_){$i[Xi++]=Ia,$i[Xi++]=Da,$i[Xi++]=Wl,Wl=d;var M=Ia;d=Da;var N=32-hs(M)-1;M&=~(1<<N),_+=1;var D=32-hs(f)+N;if(30<D){var q=N-N%5;D=(M&(1<<q)-1).toString(32),M>>=q,N-=q,Ia=1<<32-hs(f)+N|_<<N|M,Da=D+d}else Ia=1<<D|_<<N|M,Da=d}function Fw(d){d.return!==null&&(Gl(d,1),u2(d,1,0))}function Uw(d){for(;d===Ym;)Ym=hu[--pu],hu[pu]=null,qm=hu[--pu],hu[pu]=null;for(;d===Wl;)Wl=$i[--Xi],$i[Xi]=null,Da=$i[--Xi],$i[Xi]=null,Ia=$i[--Xi],$i[Xi]=null}var Mi=null,Ti=null,_n=!1,Vf=!1,ms=null;function d2(d,f){var _=Ki(5,null,null,0);_.elementType="DELETED",_.stateNode=f,_.return=d,f=d.deletions,f===null?(d.deletions=[_],d.flags|=16):f.push(_)}function f2(d,f){switch(d.tag){case 5:return f=wr(f,d.type,d.pendingProps),f!==null?(d.stateNode=f,Mi=d,Ti=Om(f),!0):!1;case 6:return f=Im(f,d.pendingProps),f!==null?(d.stateNode=f,Mi=d,Ti=null,!0):!1;case 13:if(f=Dm(f),f!==null){var _=Wl!==null?{id:Ia,overflow:Da}:null;return d.memoizedState={dehydrated:f,treeContext:_,retryLane:1073741824},_=Ki(18,null,null,0),_.stateNode=f,_.return=d,d.child=_,Mi=d,Ti=null,!0}return!1;default:return!1}}function zw(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Bw(d){if(_n){var f=Ti;if(f){var _=f;if(!f2(d,f)){if(zw(d))throw Error(a(418));f=Vs(_);var M=Mi;f&&f2(d,f)?d2(M,_):(d.flags=d.flags&-4097|2,_n=!1,Mi=d)}}else{if(zw(d))throw Error(a(418));d.flags=d.flags&-4097|2,_n=!1,Mi=d}}}function h2(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Mi=d}function Hf(d){if(!Ee||d!==Mi)return!1;if(!_n)return h2(d),_n=!0,!1;if(d.tag!==3&&(d.tag!==5||_t(d.type)&&!ye(d.type,d.memoizedProps))){var f=Ti;if(f){if(zw(d)){for(d=Ti;d;)d=Vs(d);throw Error(a(418))}for(;f;)d2(d,f),f=Vs(f)}}if(h2(d),d.tag===13){if(!Ee)throw Error(a(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));Ti=ve(d)}else Ti=Mi?Vs(d.stateNode):null;return!0}function mu(){Ee&&(Ti=Mi=null,Vf=_n=!1)}function Vw(d){ms===null?ms=[d]:ms.push(d)}function Wf(d,f,_){if(d=_.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(a(309));var M=_.stateNode}if(!M)throw Error(a(147,d));var N=M,D=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===D?f.ref:(f=function(q){var re=N.refs;re===a2&&(re=N.refs={}),q===null?delete re[D]:re[D]=q},f._stringRef=D,f)}if(typeof d!="string")throw Error(a(284));if(!_._owner)throw Error(a(290,d))}return d}function Zm(d,f){throw d=Object.prototype.toString.call(f),Error(a(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function p2(d){var f=d._init;return f(d._payload)}function m2(d){function f(ce,ae){if(d){var he=ce.deletions;he===null?(ce.deletions=[ae],ce.flags|=16):he.push(ae)}}function _(ce,ae){if(!d)return null;for(;ae!==null;)f(ce,ae),ae=ae.sibling;return null}function M(ce,ae){for(ce=new Map;ae!==null;)ae.key!==null?ce.set(ae.key,ae):ce.set(ae.index,ae),ae=ae.sibling;return ce}function N(ce,ae){return ce=Do(ce,ae),ce.index=0,ce.sibling=null,ce}function D(ce,ae,he){return ce.index=he,d?(he=ce.alternate,he!==null?(he=he.index,he<ae?(ce.flags|=2,ae):he):(ce.flags|=2,ae)):(ce.flags|=1048576,ae)}function q(ce){return d&&ce.alternate===null&&(ce.flags|=2),ce}function re(ce,ae,he,qe){return ae===null||ae.tag!==6?(ae=M_(he,ce.mode,qe),ae.return=ce,ae):(ae=N(ae,he),ae.return=ce,ae)}function ge(ce,ae,he,qe){var ct=he.type;return ct===h?at(ce,ae,he.props.children,qe,he.key):ae!==null&&(ae.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&p2(ct)===ae.type)?(qe=N(ae,he.props),qe.ref=Wf(ce,ae,he),qe.return=ce,qe):(qe=Cg(he.type,he.key,he.props,null,ce.mode,qe),qe.ref=Wf(ce,ae,he),qe.return=ce,qe)}function Ve(ce,ae,he,qe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==he.containerInfo||ae.stateNode.implementation!==he.implementation?(ae=T_(he,ce.mode,qe),ae.return=ce,ae):(ae=N(ae,he.children||[]),ae.return=ce,ae)}function at(ce,ae,he,qe,ct){return ae===null||ae.tag!==7?(ae=Jl(he,ce.mode,qe,ct),ae.return=ce,ae):(ae=N(ae,he),ae.return=ce,ae)}function At(ce,ae,he){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=M_(""+ae,ce.mode,he),ae.return=ce,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return he=Cg(ae.type,ae.key,ae.props,null,ce.mode,he),he.ref=Wf(ce,null,ae),he.return=ce,he;case u:return ae=T_(ae,ce.mode,he),ae.return=ce,ae;case S:var qe=ae._init;return At(ce,qe(ae._payload),he)}if(Q(ae)||P(ae))return ae=Jl(ae,ce.mode,he,null),ae.return=ce,ae;Zm(ce,ae)}return null}function vt(ce,ae,he,qe){var ct=ae!==null?ae.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return ct!==null?null:re(ce,ae,""+he,qe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return he.key===ct?ge(ce,ae,he,qe):null;case u:return he.key===ct?Ve(ce,ae,he,qe):null;case S:return ct=he._init,vt(ce,ae,ct(he._payload),qe)}if(Q(he)||P(he))return ct!==null?null:at(ce,ae,he,qe,null);Zm(ce,he)}return null}function fn(ce,ae,he,qe,ct){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return ce=ce.get(he)||null,re(ae,ce,""+qe,ct);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return ce=ce.get(qe.key===null?he:qe.key)||null,ge(ae,ce,qe,ct);case u:return ce=ce.get(qe.key===null?he:qe.key)||null,Ve(ae,ce,qe,ct);case S:var jt=qe._init;return fn(ce,ae,he,jt(qe._payload),ct)}if(Q(qe)||P(qe))return ce=ce.get(he)||null,at(ae,ce,qe,ct,null);Zm(ae,qe)}return null}function dt(ce,ae,he,qe){for(var ct=null,jt=null,Rt=ae,Jt=ae=0,fr=null;Rt!==null&&Jt<he.length;Jt++){Rt.index>Jt?(fr=Rt,Rt=null):fr=Rt.sibling;var Qt=vt(ce,Rt,he[Jt],qe);if(Qt===null){Rt===null&&(Rt=fr);break}d&&Rt&&Qt.alternate===null&&f(ce,Rt),ae=D(Qt,ae,Jt),jt===null?ct=Qt:jt.sibling=Qt,jt=Qt,Rt=fr}if(Jt===he.length)return _(ce,Rt),_n&&Gl(ce,Jt),ct;if(Rt===null){for(;Jt<he.length;Jt++)Rt=At(ce,he[Jt],qe),Rt!==null&&(ae=D(Rt,ae,Jt),jt===null?ct=Rt:jt.sibling=Rt,jt=Rt);return _n&&Gl(ce,Jt),ct}for(Rt=M(ce,Rt);Jt<he.length;Jt++)fr=fn(Rt,ce,Jt,he[Jt],qe),fr!==null&&(d&&fr.alternate!==null&&Rt.delete(fr.key===null?Jt:fr.key),ae=D(fr,ae,Jt),jt===null?ct=fr:jt.sibling=fr,jt=fr);return d&&Rt.forEach(function(ko){return f(ce,ko)}),_n&&Gl(ce,Jt),ct}function Dr(ce,ae,he,qe){var ct=P(he);if(typeof ct!="function")throw Error(a(150));if(he=ct.call(he),he==null)throw Error(a(151));for(var jt=ct=null,Rt=ae,Jt=ae=0,fr=null,Qt=he.next();Rt!==null&&!Qt.done;Jt++,Qt=he.next()){Rt.index>Jt?(fr=Rt,Rt=null):fr=Rt.sibling;var ko=vt(ce,Rt,Qt.value,qe);if(ko===null){Rt===null&&(Rt=fr);break}d&&Rt&&ko.alternate===null&&f(ce,Rt),ae=D(ko,ae,Jt),jt===null?ct=ko:jt.sibling=ko,jt=ko,Rt=fr}if(Qt.done)return _(ce,Rt),_n&&Gl(ce,Jt),ct;if(Rt===null){for(;!Qt.done;Jt++,Qt=he.next())Qt=At(ce,Qt.value,qe),Qt!==null&&(ae=D(Qt,ae,Jt),jt===null?ct=Qt:jt.sibling=Qt,jt=Qt);return _n&&Gl(ce,Jt),ct}for(Rt=M(ce,Rt);!Qt.done;Jt++,Qt=he.next())Qt=fn(Rt,ce,Jt,Qt.value,qe),Qt!==null&&(d&&Qt.alternate!==null&&Rt.delete(Qt.key===null?Jt:Qt.key),ae=D(Qt,ae,Jt),jt===null?ct=Qt:jt.sibling=Qt,jt=Qt);return d&&Rt.forEach(function(KB){return f(ce,KB)}),_n&&Gl(ce,Jt),ct}function Ji(ce,ae,he,qe){if(typeof he=="object"&&he!==null&&he.type===h&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case l:e:{for(var ct=he.key,jt=ae;jt!==null;){if(jt.key===ct){if(ct=he.type,ct===h){if(jt.tag===7){_(ce,jt.sibling),ae=N(jt,he.props.children),ae.return=ce,ce=ae;break e}}else if(jt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&p2(ct)===jt.type){_(ce,jt.sibling),ae=N(jt,he.props),ae.ref=Wf(ce,jt,he),ae.return=ce,ce=ae;break e}_(ce,jt);break}else f(ce,jt);jt=jt.sibling}he.type===h?(ae=Jl(he.props.children,ce.mode,qe,he.key),ae.return=ce,ce=ae):(qe=Cg(he.type,he.key,he.props,null,ce.mode,qe),qe.ref=Wf(ce,ae,he),qe.return=ce,ce=qe)}return q(ce);case u:e:{for(jt=he.key;ae!==null;){if(ae.key===jt)if(ae.tag===4&&ae.stateNode.containerInfo===he.containerInfo&&ae.stateNode.implementation===he.implementation){_(ce,ae.sibling),ae=N(ae,he.children||[]),ae.return=ce,ce=ae;break e}else{_(ce,ae);break}else f(ce,ae);ae=ae.sibling}ae=T_(he,ce.mode,qe),ae.return=ce,ce=ae}return q(ce);case S:return jt=he._init,Ji(ce,ae,jt(he._payload),qe)}if(Q(he))return dt(ce,ae,he,qe);if(P(he))return Dr(ce,ae,he,qe);Zm(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ae!==null&&ae.tag===6?(_(ce,ae.sibling),ae=N(ae,he),ae.return=ce,ce=ae):(_(ce,ae),ae=M_(he,ce.mode,qe),ae.return=ce,ce=ae),q(ce)):_(ce,ae)}return Ji}var gu=m2(!0),g2=m2(!1),Gf={},Yi=Ct(Gf),$f=Ct(Gf),vu=Ct(Gf);function Xs(d){if(d===Gf)throw Error(a(174));return d}function Hw(d,f){bt(vu,f),bt($f,d),bt(Yi,Gf),d=te(f),sn(Yi),bt(Yi,d)}function xu(){sn(Yi),sn($f),sn(vu)}function v2(d){var f=Xs(vu.current),_=Xs(Yi.current);f=O(_,d.type,f),_!==f&&(bt($f,d),bt(Yi,f))}function Ww(d){$f.current===d&&(sn(Yi),sn($f))}var En=Ct(0);function Km(d){for(var f=d;f!==null;){if(f.tag===13){var _=f.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||km(_)||Mo(_)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Gw=[];function $w(){for(var d=0;d<Gw.length;d++){var f=Gw[d];ke?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Gw.length=0}var Jm=o.ReactCurrentDispatcher,qi=o.ReactCurrentBatchConfig,yu=0,In=null,Rr=null,dr=null,Qm=!1,Xf=!1,Yf=0,SB=0;function Pr(){throw Error(a(321))}function Xw(d,f){if(f===null)return!1;for(var _=0;_<f.length&&_<d.length;_++)if(!Ws(d[_],f[_]))return!1;return!0}function Yw(d,f,_,M,N,D){if(yu=D,In=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Jm.current=d===null||d.memoizedState===null?TB:CB,d=_(M,N),Xf){D=0;do{if(Xf=!1,Yf=0,25<=D)throw Error(a(301));D+=1,dr=Rr=null,f.updateQueue=null,Jm.current=NB,d=_(M,N)}while(Xf)}if(Jm.current=ig,f=Rr!==null&&Rr.next!==null,yu=0,dr=Rr=In=null,Qm=!1,f)throw Error(a(300));return d}function qw(){var d=Yf!==0;return Yf=0,d}function ka(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?In.memoizedState=dr=d:dr=dr.next=d,dr}function Ys(){if(Rr===null){var d=In.alternate;d=d!==null?d.memoizedState:null}else d=Rr.next;var f=dr===null?In.memoizedState:dr.next;if(f!==null)dr=f,Rr=d;else{if(d===null)throw Error(a(310));Rr=d,d={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},dr===null?In.memoizedState=dr=d:dr=dr.next=d}return dr}function $l(d,f){return typeof f=="function"?f(d):f}function eg(d){var f=Ys(),_=f.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=d;var M=Rr,N=M.baseQueue,D=_.pending;if(D!==null){if(N!==null){var q=N.next;N.next=D.next,D.next=q}M.baseQueue=N=D,_.pending=null}if(N!==null){D=N.next,M=M.baseState;var re=q=null,ge=null,Ve=D;do{var at=Ve.lane;if((yu&at)===at)ge!==null&&(ge=ge.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),M=Ve.hasEagerState?Ve.eagerState:d(M,Ve.action);else{var At={lane:at,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};ge===null?(re=ge=At,q=M):ge=ge.next=At,In.lanes|=at,_u|=at}Ve=Ve.next}while(Ve!==null&&Ve!==D);ge===null?q=M:ge.next=re,Ws(M,f.memoizedState)||(Ci=!0),f.memoizedState=M,f.baseState=q,f.baseQueue=ge,_.lastRenderedState=M}if(d=_.interleaved,d!==null){N=d;do D=N.lane,In.lanes|=D,_u|=D,N=N.next;while(N!==d)}else N===null&&(_.lanes=0);return[f.memoizedState,_.dispatch]}function tg(d){var f=Ys(),_=f.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=d;var M=_.dispatch,N=_.pending,D=f.memoizedState;if(N!==null){_.pending=null;var q=N=N.next;do D=d(D,q.action),q=q.next;while(q!==N);Ws(D,f.memoizedState)||(Ci=!0),f.memoizedState=D,f.baseQueue===null&&(f.baseState=D),_.lastRenderedState=D}return[D,M]}function x2(){}function y2(d,f){var _=In,M=Ys(),N=f(),D=!Ws(M.memoizedState,N);if(D&&(M.memoizedState=N,Ci=!0),M=M.queue,Zf(S2.bind(null,_,M,d),[d]),M.getSnapshot!==f||D||dr!==null&&dr.memoizedState.tag&1){if(_.flags|=2048,qf(9,_2.bind(null,_,M,N,f),void 0,null),Kn===null)throw Error(a(349));yu&30||w2(_,f,N)}return N}function w2(d,f,_){d.flags|=16384,d={getSnapshot:f,value:_},f=In.updateQueue,f===null?(f={lastEffect:null,stores:null},In.updateQueue=f,f.stores=[d]):(_=f.stores,_===null?f.stores=[d]:_.push(d))}function _2(d,f,_,M){f.value=_,f.getSnapshot=M,b2(f)&&Zi(d,1,-1)}function S2(d,f,_){return _(function(){b2(f)&&Zi(d,1,-1)})}function b2(d){var f=d.getSnapshot;d=d.value;try{var _=f();return!Ws(d,_)}catch{return!0}}function Zw(d){var f=ka();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:d},f.queue=d,d=d.dispatch=MB.bind(null,In,d),[f.memoizedState,d]}function qf(d,f,_,M){return d={tag:d,create:f,destroy:_,deps:M,next:null},f=In.updateQueue,f===null?(f={lastEffect:null,stores:null},In.updateQueue=f,f.lastEffect=d.next=d):(_=f.lastEffect,_===null?f.lastEffect=d.next=d:(M=_.next,_.next=d,d.next=M,f.lastEffect=d)),d}function E2(){return Ys().memoizedState}function ng(d,f,_,M){var N=ka();In.flags|=d,N.memoizedState=qf(1|f,_,void 0,M===void 0?null:M)}function rg(d,f,_,M){var N=Ys();M=M===void 0?null:M;var D=void 0;if(Rr!==null){var q=Rr.memoizedState;if(D=q.destroy,M!==null&&Xw(M,q.deps)){N.memoizedState=qf(f,_,D,M);return}}In.flags|=d,N.memoizedState=qf(1|f,_,D,M)}function Kw(d,f){return ng(8390656,8,d,f)}function Zf(d,f){return rg(2048,8,d,f)}function M2(d,f){return rg(4,2,d,f)}function T2(d,f){return rg(4,4,d,f)}function C2(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function N2(d,f,_){return _=_!=null?_.concat([d]):null,rg(4,4,C2.bind(null,f,d),_)}function Jw(){}function A2(d,f){var _=Ys();f=f===void 0?null:f;var M=_.memoizedState;return M!==null&&f!==null&&Xw(f,M[1])?M[0]:(_.memoizedState=[d,f],d)}function R2(d,f){var _=Ys();f=f===void 0?null:f;var M=_.memoizedState;return M!==null&&f!==null&&Xw(f,M[1])?M[0]:(d=d(),_.memoizedState=[d,f],d)}function bB(d,f){var _=Kt;Kt=_!==0&&4>_?_:4,d(!0);var M=qi.transition;qi.transition={};try{d(!1),f()}finally{Kt=_,qi.transition=M}}function P2(){return Ys().memoizedState}function EB(d,f,_){var M=Po(d);_={lane:M,action:_,hasEagerState:!1,eagerState:null,next:null},I2(d)?D2(f,_):(k2(d,f,_),_=Wr(),d=Zi(d,M,_),d!==null&&L2(d,f,M))}function MB(d,f,_){var M=Po(d),N={lane:M,action:_,hasEagerState:!1,eagerState:null,next:null};if(I2(d))D2(f,N);else{k2(d,f,N);var D=d.alternate;if(d.lanes===0&&(D===null||D.lanes===0)&&(D=f.lastRenderedReducer,D!==null))try{var q=f.lastRenderedState,re=D(q,_);if(N.hasEagerState=!0,N.eagerState=re,Ws(re,q))return}catch{}finally{}_=Wr(),d=Zi(d,M,_),d!==null&&L2(d,f,M)}}function I2(d){var f=d.alternate;return d===In||f!==null&&f===In}function D2(d,f){Xf=Qm=!0;var _=d.pending;_===null?f.next=f:(f.next=_.next,_.next=f),d.pending=f}function k2(d,f,_){Kn!==null&&d.mode&1&&!(Vt&2)?(d=f.interleaved,d===null?(_.next=_,$s===null?$s=[f]:$s.push(f)):(_.next=d.next,d.next=_),f.interleaved=_):(d=f.pending,d===null?_.next=_:(_.next=d.next,d.next=_),f.pending=_)}function L2(d,f,_){if(_&4194240){var M=f.lanes;M&=d.pendingLanes,_|=M,f.lanes=_,Tw(d,_)}}var ig={readContext:Gi,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},TB={readContext:Gi,useCallback:function(d,f){return ka().memoizedState=[d,f===void 0?null:f],d},useContext:Gi,useEffect:Kw,useImperativeHandle:function(d,f,_){return _=_!=null?_.concat([d]):null,ng(4194308,4,C2.bind(null,f,d),_)},useLayoutEffect:function(d,f){return ng(4194308,4,d,f)},useInsertionEffect:function(d,f){return ng(4,2,d,f)},useMemo:function(d,f){var _=ka();return f=f===void 0?null:f,d=d(),_.memoizedState=[d,f],d},useReducer:function(d,f,_){var M=ka();return f=_!==void 0?_(f):f,M.memoizedState=M.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},M.queue=d,d=d.dispatch=EB.bind(null,In,d),[M.memoizedState,d]},useRef:function(d){var f=ka();return d={current:d},f.memoizedState=d},useState:Zw,useDebugValue:Jw,useDeferredValue:function(d){var f=Zw(d),_=f[0],M=f[1];return Kw(function(){var N=qi.transition;qi.transition={};try{M(d)}finally{qi.transition=N}},[d]),_},useTransition:function(){var d=Zw(!1),f=d[0];return d=bB.bind(null,d[1]),ka().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,_){var M=In,N=ka();if(_n){if(_===void 0)throw Error(a(407));_=_()}else{if(_=f(),Kn===null)throw Error(a(349));yu&30||w2(M,f,_)}N.memoizedState=_;var D={value:_,getSnapshot:f};return N.queue=D,Kw(S2.bind(null,M,D,d),[d]),M.flags|=2048,qf(9,_2.bind(null,M,D,_,f),void 0,null),_},useId:function(){var d=ka(),f=Kn.identifierPrefix;if(_n){var _=Da,M=Ia;_=(M&~(1<<32-hs(M)-1)).toString(32)+_,f=":"+f+"R"+_,_=Yf++,0<_&&(f+="H"+_.toString(32)),f+=":"}else _=SB++,f=":"+f+"r"+_.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},CB={readContext:Gi,useCallback:A2,useContext:Gi,useEffect:Zf,useImperativeHandle:N2,useInsertionEffect:M2,useLayoutEffect:T2,useMemo:R2,useReducer:eg,useRef:E2,useState:function(){return eg($l)},useDebugValue:Jw,useDeferredValue:function(d){var f=eg($l),_=f[0],M=f[1];return Zf(function(){var N=qi.transition;qi.transition={};try{M(d)}finally{qi.transition=N}},[d]),_},useTransition:function(){var d=eg($l)[0],f=Ys().memoizedState;return[d,f]},useMutableSource:x2,useSyncExternalStore:y2,useId:P2,unstable_isNewReconciler:!1},NB={readContext:Gi,useCallback:A2,useContext:Gi,useEffect:Zf,useImperativeHandle:N2,useInsertionEffect:M2,useLayoutEffect:T2,useMemo:R2,useReducer:tg,useRef:E2,useState:function(){return tg($l)},useDebugValue:Jw,useDeferredValue:function(d){var f=tg($l),_=f[0],M=f[1];return Zf(function(){var N=qi.transition;qi.transition={};try{M(d)}finally{qi.transition=N}},[d]),_},useTransition:function(){var d=tg($l)[0],f=Ys().memoizedState;return[d,f]},useMutableSource:x2,useSyncExternalStore:y2,useId:P2,unstable_isNewReconciler:!1};function Qw(d,f){try{var _="",M=f;do _+=_B(M),M=M.return;while(M);var N=_}catch(D){N=`
Error generating stack: `+D.message+`
`+D.stack}return{value:d,source:f,stack:N}}function e_(d,f){try{console.error(f.value)}catch(_){setTimeout(function(){throw _})}}var AB=typeof WeakMap=="function"?WeakMap:Map;function O2(d,f,_){_=Pa(-1,_),_.tag=3,_.payload={element:null};var M=f.value;return _.callback=function(){wg||(wg=!0,x_=M),e_(d,f)},_}function j2(d,f,_){_=Pa(-1,_),_.tag=3;var M=d.type.getDerivedStateFromError;if(typeof M=="function"){var N=f.value;_.payload=function(){return M(N)},_.callback=function(){e_(d,f)}}var D=d.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(_.callback=function(){e_(d,f),typeof M!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var q=f.stack;this.componentDidCatch(f.value,{componentStack:q!==null?q:""})}),_}function F2(d,f,_){var M=d.pingCache;if(M===null){M=d.pingCache=new AB;var N=new Set;M.set(f,N)}else N=M.get(f),N===void 0&&(N=new Set,M.set(f,N));N.has(_)||(N.add(_),d=HB.bind(null,d,f,_),f.then(d,d))}function U2(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function z2(d,f,_,M,N){return d.mode&1?(d.flags|=65536,d.lanes=N,d):(d===f?d.flags|=65536:(d.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(f=Pa(-1,1),f.tag=2,No(_,f))),_.lanes|=1),d)}function qs(d){d.flags|=4}function B2(d,f){if(d!==null&&d.child===f.child)return!0;if(f.flags&16)return!1;for(d=f.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Kf,Jf,sg,ag;if(Re)Kf=function(d,f){for(var _=f.child;_!==null;){if(_.tag===5||_.tag===6)Z(d,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},Jf=function(){},sg=function(d,f,_,M,N){if(d=d.memoizedProps,d!==M){var D=f.stateNode,q=Xs(Yi.current);_=de(D,_,d,M,N,q),(f.updateQueue=_)&&qs(f)}},ag=function(d,f,_,M){_!==M&&qs(f)};else if(X){Kf=function(d,f,_,M){for(var N=f.child;N!==null;){if(N.tag===5){var D=N.stateNode;_&&M&&(D=un(D,N.type,N.memoizedProps,N)),Z(d,D)}else if(N.tag===6)D=N.stateNode,_&&M&&(D=bi(D,N.memoizedProps,N)),Z(d,D);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)D=N.child,D!==null&&(D.return=N),Kf(d,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};var V2=function(d,f,_,M){for(var N=f.child;N!==null;){if(N.tag===5){var D=N.stateNode;_&&M&&(D=un(D,N.type,N.memoizedProps,N)),ut(d,D)}else if(N.tag===6)D=N.stateNode,_&&M&&(D=bi(D,N.memoizedProps,N)),ut(d,D);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)D=N.child,D!==null&&(D.return=N),V2(d,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};Jf=function(d,f){var _=f.stateNode;if(!B2(d,f)){d=_.containerInfo;var M=Ie(d);V2(M,f,!1,!1),_.pendingChildren=M,qs(f),Nt(d,M)}},sg=function(d,f,_,M,N){var D=d.stateNode,q=d.memoizedProps;if((d=B2(d,f))&&q===M)f.stateNode=D;else{var re=f.stateNode,ge=Xs(Yi.current),Ve=null;q!==M&&(Ve=de(re,_,q,M,N,ge)),d&&Ve===null?f.stateNode=D:(D=$e(D,Ve,_,q,M,f,d,re),oe(D,_,M,N,ge)&&qs(f),f.stateNode=D,d?qs(f):Kf(D,f,!1,!1))}},ag=function(d,f,_,M){_!==M?(d=Xs(vu.current),_=Xs(Yi.current),f.stateNode=we(M,d,_,f),qs(f)):f.stateNode=d.stateNode}}else Jf=function(){},sg=function(){},ag=function(){};function Qf(d,f){if(!_n)switch(d.tailMode){case"hidden":f=d.tail;for(var _=null;f!==null;)f.alternate!==null&&(_=f),f=f.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var M=null;_!==null;)_.alternate!==null&&(M=_),_=_.sibling;M===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:M.sibling=null}}function Ir(d){var f=d.alternate!==null&&d.alternate.child===d.child,_=0,M=0;if(f)for(var N=d.child;N!==null;)_|=N.lanes|N.childLanes,M|=N.subtreeFlags&14680064,M|=N.flags&14680064,N.return=d,N=N.sibling;else for(N=d.child;N!==null;)_|=N.lanes|N.childLanes,M|=N.subtreeFlags,M|=N.flags,N.return=d,N=N.sibling;return d.subtreeFlags|=M,d.childLanes=_,f}function RB(d,f,_){var M=f.pendingProps;switch(Uw(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(f),null;case 1:return Pn(f.type)&&To(),Ir(f),null;case 3:return M=f.stateNode,xu(),sn(Zn),sn(tr),$w(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(d===null||d.child===null)&&(Hf(f)?qs(f):d===null||d.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,ms!==null&&(__(ms),ms=null))),Jf(d,f),Ir(f),null;case 5:Ww(f),_=Xs(vu.current);var N=f.type;if(d!==null&&f.stateNode!=null)sg(d,f,N,M,_),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!M){if(f.stateNode===null)throw Error(a(166));return Ir(f),null}if(d=Xs(Yi.current),Hf(f)){if(!Ee)throw Error(a(175));d=bw(f.stateNode,f.type,f.memoizedProps,_,d,f,!Vf),f.updateQueue=d,d!==null&&qs(f)}else{var D=L(N,M,_,d,f);Kf(D,f,!1,!1),f.stateNode=D,oe(D,N,M,_,d)&&qs(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Ir(f),null;case 6:if(d&&f.stateNode!=null)ag(d,f,d.memoizedProps,M);else{if(typeof M!="string"&&f.stateNode===null)throw Error(a(166));if(d=Xs(vu.current),_=Xs(Yi.current),Hf(f)){if(!Ee)throw Error(a(176));if(d=f.stateNode,M=f.memoizedProps,(_=G(d,M,f,!Vf))&&(N=Mi,N!==null))switch(D=(N.mode&1)!==0,N.tag){case 3:St(N.stateNode.containerInfo,d,M,D);break;case 5:Bt(N.type,N.memoizedProps,N.stateNode,d,M,D)}_&&qs(f)}else f.stateNode=we(M,d,_,f)}return Ir(f),null;case 13:if(sn(En),M=f.memoizedState,_n&&Ti!==null&&f.mode&1&&!(f.flags&128)){for(d=Ti;d;)d=Vs(d);return mu(),f.flags|=98560,f}if(M!==null&&M.dehydrated!==null){if(M=Hf(f),d===null){if(!M)throw Error(a(318));if(!Ee)throw Error(a(344));if(d=f.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));le(d,f)}else mu(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Ir(f),null}return ms!==null&&(__(ms),ms=null),f.flags&128?(f.lanes=_,f):(M=M!==null,_=!1,d===null?Hf(f):_=d.memoizedState!==null,M&&!_&&(f.child.flags|=8192,f.mode&1&&(d===null||En.current&1?nr===0&&(nr=3):b_())),f.updateQueue!==null&&(f.flags|=4),Ir(f),null);case 4:return xu(),Jf(d,f),d===null&&Pe(f.stateNode.containerInfo),Ir(f),null;case 10:return Dw(f.type._context),Ir(f),null;case 17:return Pn(f.type)&&To(),Ir(f),null;case 19:if(sn(En),N=f.memoizedState,N===null)return Ir(f),null;if(M=(f.flags&128)!==0,D=N.rendering,D===null)if(M)Qf(N,!1);else{if(nr!==0||d!==null&&d.flags&128)for(d=f.child;d!==null;){if(D=Km(d),D!==null){for(f.flags|=128,Qf(N,!1),d=D.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),f.subtreeFlags=0,d=_,M=f.child;M!==null;)_=M,N=d,_.flags&=14680066,D=_.alternate,D===null?(_.childLanes=0,_.lanes=N,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=D.childLanes,_.lanes=D.lanes,_.child=D.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=D.memoizedProps,_.memoizedState=D.memoizedState,_.updateQueue=D.updateQueue,_.type=D.type,N=D.dependencies,_.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),M=M.sibling;return bt(En,En.current&1|2),f.child}d=d.sibling}N.tail!==null&&ur()>v_&&(f.flags|=128,M=!0,Qf(N,!1),f.lanes=4194304)}else{if(!M)if(d=Km(D),d!==null){if(f.flags|=128,M=!0,d=d.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),Qf(N,!0),N.tail===null&&N.tailMode==="hidden"&&!D.alternate&&!_n)return Ir(f),null}else 2*ur()-N.renderingStartTime>v_&&_!==1073741824&&(f.flags|=128,M=!0,Qf(N,!1),f.lanes=4194304);N.isBackwards?(D.sibling=f.child,f.child=D):(d=N.last,d!==null?d.sibling=D:f.child=D,N.last=D)}return N.tail!==null?(f=N.tail,N.rendering=f,N.tail=f.sibling,N.renderingStartTime=ur(),f.sibling=null,d=En.current,bt(En,M?d&1|2:d&1),f):(Ir(f),null);case 22:case 23:return S_(),M=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==M&&(f.flags|=8192),M&&f.mode&1?Ni&1073741824&&(Ir(f),Re&&f.subtreeFlags&6&&(f.flags|=8192)):Ir(f),null;case 24:return null;case 25:return null}throw Error(a(156,f.tag))}var PB=o.ReactCurrentOwner,Ci=!1;function Hr(d,f,_,M){f.child=d===null?g2(f,null,_,M):gu(f,d.child,_,M)}function H2(d,f,_,M,N){_=_.render;var D=f.ref;return fu(f,N),M=Yw(d,f,_,M,D,N),_=qw(),d!==null&&!Ci?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~N,La(d,f,N)):(_n&&_&&Fw(f),f.flags|=1,Hr(d,f,M,N),f.child)}function W2(d,f,_,M,N){if(d===null){var D=_.type;return typeof D=="function"&&!E_(D)&&D.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(f.tag=15,f.type=D,G2(d,f,D,M,N)):(d=Cg(_.type,null,M,f,f.mode,N),d.ref=f.ref,d.return=f,f.child=d)}if(D=d.child,!(d.lanes&N)){var q=D.memoizedProps;if(_=_.compare,_=_!==null?_:Vm,_(q,M)&&d.ref===f.ref)return La(d,f,N)}return f.flags|=1,d=Do(D,M),d.ref=f.ref,d.return=f,f.child=d}function G2(d,f,_,M,N){if(d!==null&&Vm(d.memoizedProps,M)&&d.ref===f.ref)if(Ci=!1,(d.lanes&N)!==0)d.flags&131072&&(Ci=!0);else return f.lanes=d.lanes,La(d,f,N);return t_(d,f,_,M,N)}function $2(d,f,_){var M=f.pendingProps,N=M.children,D=d!==null?d.memoizedState:null;if(M.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},bt(wu,Ni),Ni|=_;else if(_&1073741824)f.memoizedState={baseLanes:0,cachePool:null},M=D!==null?D.baseLanes:_,bt(wu,Ni),Ni|=M;else return d=D!==null?D.baseLanes|_:_,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null},f.updateQueue=null,bt(wu,Ni),Ni|=d,null;else D!==null?(M=D.baseLanes|_,f.memoizedState=null):M=_,bt(wu,Ni),Ni|=M;return Hr(d,f,N,_),f.child}function X2(d,f){var _=f.ref;(d===null&&_!==null||d!==null&&d.ref!==_)&&(f.flags|=512,f.flags|=2097152)}function t_(d,f,_,M,N){var D=Pn(_)?fs:tr.current;return D=Rn(f,D),fu(f,N),_=Yw(d,f,_,M,D,N),M=qw(),d!==null&&!Ci?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~N,La(d,f,N)):(_n&&M&&Fw(f),f.flags|=1,Hr(d,f,_,N),f.child)}function Y2(d,f,_,M,N){if(Pn(_)){var D=!0;uu(f)}else D=!1;if(fu(f,N),f.stateNode===null)d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),l2(f,_,M),jw(f,_,M,N),M=!0;else if(d===null){var q=f.stateNode,re=f.memoizedProps;q.props=re;var ge=q.context,Ve=_.contextType;typeof Ve=="object"&&Ve!==null?Ve=Gi(Ve):(Ve=Pn(_)?fs:tr.current,Ve=Rn(f,Ve));var at=_.getDerivedStateFromProps,At=typeof at=="function"||typeof q.getSnapshotBeforeUpdate=="function";At||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(re!==M||ge!==Ve)&&c2(f,q,M,Ve),Co=!1;var vt=f.memoizedState;q.state=vt,$m(f,M,q,N),ge=f.memoizedState,re!==M||vt!==ge||Zn.current||Co?(typeof at=="function"&&(Ow(f,_,at,M),ge=f.memoizedState),(re=Co||o2(f,_,re,M,vt,ge,Ve))?(At||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(f.flags|=4194308)):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=ge),q.props=M,q.state=ge,q.context=Ve,M=re):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{q=f.stateNode,r2(d,f),re=f.memoizedProps,Ve=f.type===f.elementType?re:ps(f.type,re),q.props=Ve,At=f.pendingProps,vt=q.context,ge=_.contextType,typeof ge=="object"&&ge!==null?ge=Gi(ge):(ge=Pn(_)?fs:tr.current,ge=Rn(f,ge));var fn=_.getDerivedStateFromProps;(at=typeof fn=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(re!==At||vt!==ge)&&c2(f,q,M,ge),Co=!1,vt=f.memoizedState,q.state=vt,$m(f,M,q,N);var dt=f.memoizedState;re!==At||vt!==dt||Zn.current||Co?(typeof fn=="function"&&(Ow(f,_,fn,M),dt=f.memoizedState),(Ve=Co||o2(f,_,Ve,M,vt,dt,ge)||!1)?(at||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(M,dt,ge),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(M,dt,ge)),typeof q.componentDidUpdate=="function"&&(f.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof q.componentDidUpdate!="function"||re===d.memoizedProps&&vt===d.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&vt===d.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=dt),q.props=M,q.state=dt,q.context=ge,M=Ve):(typeof q.componentDidUpdate!="function"||re===d.memoizedProps&&vt===d.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&vt===d.memoizedState||(f.flags|=1024),M=!1)}return n_(d,f,_,M,D,N)}function n_(d,f,_,M,N,D){X2(d,f);var q=(f.flags&128)!==0;if(!M&&!q)return N&&Uf(f,_,!1),La(d,f,D);M=f.stateNode,PB.current=f;var re=q&&typeof _.getDerivedStateFromError!="function"?null:M.render();return f.flags|=1,d!==null&&q?(f.child=gu(f,d.child,null,D),f.child=gu(f,null,re,D)):Hr(d,f,re,D),f.memoizedState=M.state,N&&Uf(f,_,!0),f.child}function q2(d){var f=d.stateNode;f.pendingContext?Ar(d,f.pendingContext,f.pendingContext!==f.context):f.context&&Ar(d,f.context,!1),Hw(d,f.containerInfo)}function Z2(d,f,_,M,N){return mu(),Vw(N),f.flags|=256,Hr(d,f,_,M),f.child}var og={dehydrated:null,treeContext:null,retryLane:0};function lg(d){return{baseLanes:d,cachePool:null}}function K2(d,f,_){var M=f.pendingProps,N=En.current,D=!1,q=(f.flags&128)!==0,re;if((re=q)||(re=d!==null&&d.memoizedState===null?!1:(N&2)!==0),re?(D=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(N|=1),bt(En,N&1),d===null)return Bw(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(f.mode&1?Mo(d)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(N=M.children,d=M.fallback,D?(M=f.mode,D=f.child,N={mode:"hidden",children:N},!(M&1)&&D!==null?(D.childLanes=0,D.pendingProps=N):D=Ng(N,M,0,null),d=Jl(d,M,_,null),D.return=f,d.return=f,D.sibling=d,f.child=D,f.child.memoizedState=lg(_),f.memoizedState=og,d):r_(f,N));if(N=d.memoizedState,N!==null){if(re=N.dehydrated,re!==null){if(q)return f.flags&256?(f.flags&=-257,cg(d,f,_,Error(a(422)))):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(D=M.fallback,N=f.mode,M=Ng({mode:"visible",children:M.children},N,0,null),D=Jl(D,N,_,null),D.flags|=2,M.return=f,D.return=f,M.sibling=D,f.child=M,f.mode&1&&gu(f,d.child,null,_),f.child.memoizedState=lg(_),f.memoizedState=og,D);if(!(f.mode&1))f=cg(d,f,_,null);else if(Mo(re))f=cg(d,f,_,Error(a(419)));else if(M=(_&d.childLanes)!==0,Ci||M){if(M=Kn,M!==null){switch(_&-_){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}M=D&(M.suspendedLanes|_)?0:D,M!==0&&M!==N.retryLane&&(N.retryLane=M,Zi(d,M,-1))}b_(),f=cg(d,f,_,Error(a(421)))}else km(re)?(f.flags|=128,f.child=d.child,f=WB.bind(null,d),Lm(re,f),f=null):(_=N.treeContext,Ee&&(Ti=Sw(re),Mi=f,_n=!0,ms=null,Vf=!1,_!==null&&($i[Xi++]=Ia,$i[Xi++]=Da,$i[Xi++]=Wl,Ia=_.id,Da=_.overflow,Wl=f)),f=r_(f,f.pendingProps.children),f.flags|=4096);return f}return D?(M=Q2(d,f,M.children,M.fallback,_),D=f.child,N=d.child.memoizedState,D.memoizedState=N===null?lg(_):{baseLanes:N.baseLanes|_,cachePool:null},D.childLanes=d.childLanes&~_,f.memoizedState=og,M):(_=J2(d,f,M.children,_),f.memoizedState=null,_)}return D?(M=Q2(d,f,M.children,M.fallback,_),D=f.child,N=d.child.memoizedState,D.memoizedState=N===null?lg(_):{baseLanes:N.baseLanes|_,cachePool:null},D.childLanes=d.childLanes&~_,f.memoizedState=og,M):(_=J2(d,f,M.children,_),f.memoizedState=null,_)}function r_(d,f){return f=Ng({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function J2(d,f,_,M){var N=d.child;return d=N.sibling,_=Do(N,{mode:"visible",children:_}),!(f.mode&1)&&(_.lanes=M),_.return=f,_.sibling=null,d!==null&&(M=f.deletions,M===null?(f.deletions=[d],f.flags|=16):M.push(d)),f.child=_}function Q2(d,f,_,M,N){var D=f.mode;d=d.child;var q=d.sibling,re={mode:"hidden",children:_};return!(D&1)&&f.child!==d?(_=f.child,_.childLanes=0,_.pendingProps=re,f.deletions=null):(_=Do(d,re),_.subtreeFlags=d.subtreeFlags&14680064),q!==null?M=Do(q,M):(M=Jl(M,D,N,null),M.flags|=2),M.return=f,_.return=f,_.sibling=M,f.child=_,M}function cg(d,f,_,M){return M!==null&&Vw(M),gu(f,d.child,null,_),d=r_(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function eN(d,f,_){d.lanes|=f;var M=d.alternate;M!==null&&(M.lanes|=f),kw(d.return,f,_)}function i_(d,f,_,M,N){var D=d.memoizedState;D===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:_,tailMode:N}:(D.isBackwards=f,D.rendering=null,D.renderingStartTime=0,D.last=M,D.tail=_,D.tailMode=N)}function tN(d,f,_){var M=f.pendingProps,N=M.revealOrder,D=M.tail;if(Hr(d,f,M.children,_),M=En.current,M&2)M=M&1|2,f.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&eN(d,_,f);else if(d.tag===19)eN(d,_,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}M&=1}if(bt(En,M),!(f.mode&1))f.memoizedState=null;else switch(N){case"forwards":for(_=f.child,N=null;_!==null;)d=_.alternate,d!==null&&Km(d)===null&&(N=_),_=_.sibling;_=N,_===null?(N=f.child,f.child=null):(N=_.sibling,_.sibling=null),i_(f,!1,N,_,D);break;case"backwards":for(_=null,N=f.child,f.child=null;N!==null;){if(d=N.alternate,d!==null&&Km(d)===null){f.child=N;break}d=N.sibling,N.sibling=_,_=N,N=d}i_(f,!0,_,null,D);break;case"together":i_(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function La(d,f,_){if(d!==null&&(f.dependencies=d.dependencies),_u|=f.lanes,!(_&f.childLanes))return null;if(d!==null&&f.child!==d.child)throw Error(a(153));if(f.child!==null){for(d=f.child,_=Do(d,d.pendingProps),f.child=_,_.return=f;d.sibling!==null;)d=d.sibling,_=_.sibling=Do(d,d.pendingProps),_.return=f;_.sibling=null}return f.child}function IB(d,f,_){switch(f.tag){case 3:q2(f),mu();break;case 5:v2(f);break;case 1:Pn(f.type)&&uu(f);break;case 4:Hw(f,f.stateNode.containerInfo);break;case 10:n2(f,f.type._context,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?(bt(En,En.current&1),f.flags|=128,null):_&f.child.childLanes?K2(d,f,_):(bt(En,En.current&1),d=La(d,f,_),d!==null?d.sibling:null);bt(En,En.current&1);break;case 19:if(M=(_&f.childLanes)!==0,d.flags&128){if(M)return tN(d,f,_);f.flags|=128}var N=f.memoizedState;if(N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),bt(En,En.current),M)break;return null;case 22:case 23:return f.lanes=0,$2(d,f,_)}return La(d,f,_)}function DB(d,f){switch(Uw(f),f.tag){case 1:return Pn(f.type)&&To(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return xu(),sn(Zn),sn(tr),$w(),d=f.flags,d&65536&&!(d&128)?(f.flags=d&-65537|128,f):null;case 5:return Ww(f),null;case 13:if(sn(En),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(a(340));mu()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return sn(En),null;case 4:return xu(),null;case 10:return Dw(f.type._context),null;case 22:case 23:return S_(),null;case 24:return null;default:return null}}var ug=!1,Xl=!1,kB=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function dg(d,f){var _=d.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(M){ai(d,f,M)}else _.current=null}function s_(d,f,_){try{_()}catch(M){ai(d,f,M)}}var nN=!1;function LB(d,f){for(B(d.containerInfo),Ye=f;Ye!==null;)if(d=Ye,f=d.child,(d.subtreeFlags&1028)!==0&&f!==null)f.return=d,Ye=f;else for(;Ye!==null;){d=Ye;try{var _=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var M=_.memoizedProps,N=_.memoizedState,D=d.stateNode,q=D.getSnapshotBeforeUpdate(d.elementType===d.type?M:ps(d.type,M),N);D.__reactInternalSnapshotBeforeUpdate=q}break;case 3:Re&&Ge(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(re){ai(d,d.return,re)}if(f=d.sibling,f!==null){f.return=d.return,Ye=f;break}Ye=d.return}return _=nN,nN=!1,_}function Yl(d,f,_){var M=f.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var N=M=M.next;do{if((N.tag&d)===d){var D=N.destroy;N.destroy=void 0,D!==void 0&&s_(f,_,D)}N=N.next}while(N!==M)}}function eh(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var _=f=f.next;do{if((_.tag&d)===d){var M=_.create;_.destroy=M()}_=_.next}while(_!==f)}}function a_(d){var f=d.ref;if(f!==null){var _=d.stateNode;switch(d.tag){case 5:d=W(_);break;default:d=_}typeof f=="function"?f(d):f.current=d}}function rN(d,f,_){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(zm,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(d=f.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var M=d=d.next;do{var N=M,D=N.destroy;N=N.tag,D!==void 0&&(N&2||N&4)&&s_(f,_,D),M=M.next}while(M!==d)}break;case 1:if(dg(f,_),d=f.stateNode,typeof d.componentWillUnmount=="function")try{d.props=f.memoizedProps,d.state=f.memoizedState,d.componentWillUnmount()}catch(q){ai(f,_,q)}break;case 5:dg(f,_);break;case 4:Re?cN(d,f,_):X&&X&&(f=f.stateNode.containerInfo,_=Ie(f),cr(f,_))}}function iN(d,f,_){for(var M=f;;)if(rN(d,M,_),M.child===null||Re&&M.tag===4){if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function sN(d){var f=d.alternate;f!==null&&(d.alternate=null,sN(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&et(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function aN(d){return d.tag===5||d.tag===3||d.tag===4}function oN(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||aN(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function lN(d){if(Re){e:{for(var f=d.return;f!==null;){if(aN(f))break e;f=f.return}throw Error(a(160))}var _=f;switch(_.tag){case 5:f=_.stateNode,_.flags&32&&(xt(f),_.flags&=-33),_=oN(d),l_(d,_,f);break;case 3:case 4:f=_.stateNode.containerInfo,_=oN(d),o_(d,_,f);break;default:throw Error(a(161))}}}function o_(d,f,_){var M=d.tag;if(M===5||M===6)d=d.stateNode,f?ze(_,d,f):tt(_,d);else if(M!==4&&(d=d.child,d!==null))for(o_(d,f,_),d=d.sibling;d!==null;)o_(d,f,_),d=d.sibling}function l_(d,f,_){var M=d.tag;if(M===5||M===6)d=d.stateNode,f?zt(_,d,f):De(_,d);else if(M!==4&&(d=d.child,d!==null))for(l_(d,f,_),d=d.sibling;d!==null;)l_(d,f,_),d=d.sibling}function cN(d,f,_){for(var M=f,N=!1,D,q;;){if(!N){N=M.return;e:for(;;){if(N===null)throw Error(a(160));switch(D=N.stateNode,N.tag){case 5:q=!1;break e;case 3:D=D.containerInfo,q=!0;break e;case 4:D=D.containerInfo,q=!0;break e}N=N.return}N=!0}if(M.tag===5||M.tag===6)iN(d,M,_),q?pt(D,M.stateNode):Wt(D,M.stateNode);else if(M.tag===18)q?gt(D,M.stateNode):st(D,M.stateNode);else if(M.tag===4){if(M.child!==null){D=M.stateNode.containerInfo,q=!0,M.child.return=M,M=M.child;continue}}else if(rN(d,M,_),M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return,M.tag===4&&(N=!1)}M.sibling.return=M.return,M=M.sibling}}function c_(d,f){if(Re){switch(f.tag){case 0:case 11:case 14:case 15:Yl(3,f,f.return),eh(3,f),Yl(5,f,f.return);return;case 1:return;case 5:var _=f.stateNode;if(_!=null){var M=f.memoizedProps;d=d!==null?d.memoizedProps:M;var N=f.type,D=f.updateQueue;f.updateQueue=null,D!==null&&mt(_,D,N,d,M,f)}return;case 6:if(f.stateNode===null)throw Error(a(162));_=f.memoizedProps,Ue(f.stateNode,d!==null?d.memoizedProps:_,_);return;case 3:Ee&&d!==null&&d.memoizedState.isDehydrated&&ue(f.stateNode.containerInfo);return;case 12:return;case 13:fg(f);return;case 19:fg(f);return;case 17:return}throw Error(a(163))}switch(f.tag){case 0:case 11:case 14:case 15:Yl(3,f,f.return),eh(3,f),Yl(5,f,f.return);return;case 12:return;case 13:fg(f);return;case 19:fg(f);return;case 3:Ee&&d!==null&&d.memoizedState.isDehydrated&&ue(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(X){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,cr(f.containerInfo,f.pendingChildren);break e}throw Error(a(163))}}function fg(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var _=d.stateNode;_===null&&(_=d.stateNode=new kB),f.forEach(function(M){var N=GB.bind(null,d,M);_.has(M)||(_.add(M),M.then(N,N))})}}function OB(d,f){for(Ye=f;Ye!==null;){f=Ye;var _=f.deletions;if(_!==null)for(var M=0;M<_.length;M++){var N=_[M];try{var D=d;Re?cN(D,N,f):iN(D,N,f);var q=N.alternate;q!==null&&(q.return=null),N.return=null}catch(ct){ai(N,f,ct)}}if(_=f.child,f.subtreeFlags&12854&&_!==null)_.return=f,Ye=_;else for(;Ye!==null;){f=Ye;try{var re=f.flags;if(re&32&&Re&&xt(f.stateNode),re&512){var ge=f.alternate;if(ge!==null){var Ve=ge.ref;Ve!==null&&(typeof Ve=="function"?Ve(null):Ve.current=null)}}if(re&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var at=f.alternate;(at===null||at.memoizedState===null)&&(g_=ur())}break;case 22:var At=f.memoizedState!==null,vt=f.alternate,fn=vt!==null&&vt.memoizedState!==null;if(_=f,Re){e:if(M=_,N=At,D=null,Re)for(var dt=M;;){if(dt.tag===5){if(D===null){D=dt;var Dr=dt.stateNode;N?je(Dr):Ce(dt.stateNode,dt.memoizedProps)}}else if(dt.tag===6){if(D===null){var Ji=dt.stateNode;N?K(Ji):Oe(Ji,dt.memoizedProps)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===M)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===M)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===M)break e;D===dt&&(D=null),dt=dt.return}D===dt&&(D=null),dt.sibling.return=dt.return,dt=dt.sibling}}if(At&&!fn&&_.mode&1){Ye=_;for(var ce=_.child;ce!==null;){for(_=Ye=ce;Ye!==null;){M=Ye;var ae=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Yl(4,M,M.return);break;case 1:dg(M,M.return);var he=M.stateNode;if(typeof he.componentWillUnmount=="function"){var qe=M.return;try{he.props=M.memoizedProps,he.state=M.memoizedState,he.componentWillUnmount()}catch(ct){ai(M,qe,ct)}}break;case 5:dg(M,M.return);break;case 22:if(M.memoizedState!==null){fN(_);continue}}ae!==null?(ae.return=M,Ye=ae):fN(_)}ce=ce.sibling}}}switch(re&4102){case 2:lN(f),f.flags&=-3;break;case 6:lN(f),f.flags&=-3,c_(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,c_(f.alternate,f);break;case 4:c_(f.alternate,f)}}catch(ct){ai(f,f.return,ct)}if(_=f.sibling,_!==null){_.return=f.return,Ye=_;break}Ye=f.return}}}function jB(d,f,_){Ye=d,uN(d)}function uN(d,f,_){for(var M=(d.mode&1)!==0;Ye!==null;){var N=Ye,D=N.child;if(N.tag===22&&M){var q=N.memoizedState!==null||ug;if(!q){var re=N.alternate,ge=re!==null&&re.memoizedState!==null||Xl;re=ug;var Ve=Xl;if(ug=q,(Xl=ge)&&!Ve)for(Ye=N;Ye!==null;)q=Ye,ge=q.child,q.tag===22&&q.memoizedState!==null?hN(N):ge!==null?(ge.return=q,Ye=ge):hN(N);for(;D!==null;)Ye=D,uN(D),D=D.sibling;Ye=N,ug=re,Xl=Ve}dN(d)}else N.subtreeFlags&8772&&D!==null?(D.return=N,Ye=D):dN(d)}}function dN(d){for(;Ye!==null;){var f=Ye;if(f.flags&8772){var _=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Xl||eh(5,f);break;case 1:var M=f.stateNode;if(f.flags&4&&!Xl)if(_===null)M.componentDidMount();else{var N=f.elementType===f.type?_.memoizedProps:ps(f.type,_.memoizedProps);M.componentDidUpdate(N,_.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var D=f.updateQueue;D!==null&&s2(f,D,M);break;case 3:var q=f.updateQueue;if(q!==null){if(_=null,f.child!==null)switch(f.child.tag){case 5:_=W(f.child.stateNode);break;case 1:_=f.child.stateNode}s2(f,q,_)}break;case 5:var re=f.stateNode;_===null&&f.flags&4&&We(re,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Ee&&f.memoizedState===null){var ge=f.alternate;if(ge!==null){var Ve=ge.memoizedState;if(Ve!==null){var at=Ve.dehydrated;at!==null&&xe(at)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Xl||f.flags&512&&a_(f)}catch(At){ai(f,f.return,At)}}if(f===d){Ye=null;break}if(_=f.sibling,_!==null){_.return=f.return,Ye=_;break}Ye=f.return}}function fN(d){for(;Ye!==null;){var f=Ye;if(f===d){Ye=null;break}var _=f.sibling;if(_!==null){_.return=f.return,Ye=_;break}Ye=f.return}}function hN(d){for(;Ye!==null;){var f=Ye;try{switch(f.tag){case 0:case 11:case 15:var _=f.return;try{eh(4,f)}catch(ge){ai(f,_,ge)}break;case 1:var M=f.stateNode;if(typeof M.componentDidMount=="function"){var N=f.return;try{M.componentDidMount()}catch(ge){ai(f,N,ge)}}var D=f.return;try{a_(f)}catch(ge){ai(f,D,ge)}break;case 5:var q=f.return;try{a_(f)}catch(ge){ai(f,q,ge)}}}catch(ge){ai(f,f.return,ge)}if(f===d){Ye=null;break}var re=f.sibling;if(re!==null){re.return=f.return,Ye=re;break}Ye=f.return}}var hg=0,pg=1,mg=2,gg=3,vg=4;if(typeof Symbol=="function"&&Symbol.for){var th=Symbol.for;hg=th("selector.component"),pg=th("selector.has_pseudo_class"),mg=th("selector.role"),gg=th("selector.test_id"),vg=th("selector.text")}function u_(d){var f=pe(d);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(d=Me(d),d===null)throw Error(a(362));return d.stateNode.current}function d_(d,f){switch(f.$$typeof){case hg:if(d.type===f.value)return!0;break;case pg:e:{f=f.value,d=[d,0];for(var _=0;_<d.length;){var M=d[_++],N=d[_++],D=f[N];if(M.tag!==5||!j(M)){for(;D!=null&&d_(M,D);)N++,D=f[N];if(N===f.length){f=!0;break e}else for(M=M.child;M!==null;)d.push(M,N),M=M.sibling}}f=!1}return f;case mg:if(d.tag===5&&ie(d.stateNode,f.value))return!0;break;case vg:if((d.tag===5||d.tag===6)&&(d=F(d),d!==null&&0<=d.indexOf(f.value)))return!0;break;case gg:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function f_(d){switch(d.$$typeof){case hg:return"<"+(A(d.value)||"Unknown")+">";case pg:return":has("+(f_(d)||"")+")";case mg:return'[role="'+d.value+'"]';case vg:return'"'+d.value+'"';case gg:return'[data-testname="'+d.value+'"]';default:throw Error(a(365))}}function pN(d,f){var _=[];d=[d,0];for(var M=0;M<d.length;){var N=d[M++],D=d[M++],q=f[D];if(N.tag!==5||!j(N)){for(;q!=null&&d_(N,q);)D++,q=f[D];if(D===f.length)_.push(N);else for(N=N.child;N!==null;)d.push(N,D),N=N.sibling}}return _}function h_(d,f){if(!se)throw Error(a(363));d=u_(d),d=pN(d,f),f=[],d=Array.from(d);for(var _=0;_<d.length;){var M=d[_++];if(M.tag===5)j(M)||f.push(M.stateNode);else for(M=M.child;M!==null;)d.push(M),M=M.sibling}return f}var FB=Math.ceil,xg=o.ReactCurrentDispatcher,p_=o.ReactCurrentOwner,Vn=o.ReactCurrentBatchConfig,Vt=0,Kn=null,Jn=null,_r=0,Ni=0,wu=Ct(0),nr=0,nh=null,_u=0,yg=0,m_=0,rh=null,ii=null,g_=0,v_=1/0;function Su(){v_=ur()+500}var wg=!1,x_=null,Ao=null,_g=!1,Ro=null,Sg=0,ih=0,y_=null,bg=-1,Eg=0;function Wr(){return Vt&6?ur():bg!==-1?bg:bg=ur()}function Po(d){return d.mode&1?Vt&2&&_r!==0?_r&-_r:wB.transition!==null?(Eg===0&&(d=jm,jm<<=1,!(jm&4194240)&&(jm=64),Eg=d),Eg):(d=Kt,d!==0?d:be()):1}function Zi(d,f,_){if(50<ih)throw ih=0,y_=null,Error(a(185));var M=Mg(d,f);return M===null?null:(Bf(M,f,_),(!(Vt&2)||M!==Kn)&&(M===Kn&&(!(Vt&2)&&(yg|=f),nr===4&&Io(M,_r)),si(M,_),f===1&&Vt===0&&!(d.mode&1)&&(Su(),Bm&&Gs())),M)}function Mg(d,f){d.lanes|=f;var _=d.alternate;for(_!==null&&(_.lanes|=f),_=d,d=d.return;d!==null;)d.childLanes|=f,_=d.alternate,_!==null&&(_.childLanes|=f),_=d,d=d.return;return _.tag===3?_.stateNode:null}function si(d,f){var _=d.callbackNode;dB(d,f);var M=Um(d,d===Kn?_r:0);if(M===0)_!==null&&e2(_),d.callbackNode=null,d.callbackPriority=0;else if(f=M&-M,d.callbackPriority!==f){if(_!=null&&e2(_),f===1)d.tag===0?yB(gN.bind(null,d)):t2(gN.bind(null,d)),H?ee(function(){Vt===0&&Gs()}):Cw(Nw,Gs),_=null;else{switch(QC(M)){case 1:_=Nw;break;case 4:_=mB;break;case 16:_=Aw;break;case 536870912:_=gB;break;default:_=Aw}_=MN(_,mN.bind(null,d))}d.callbackPriority=f,d.callbackNode=_}}function mN(d,f){if(bg=-1,Eg=0,Vt&6)throw Error(a(327));var _=d.callbackNode;if(Kl()&&d.callbackNode!==_)return null;var M=Um(d,d===Kn?_r:0);if(M===0)return null;if(M&30||M&d.expiredLanes||f)f=Tg(d,M);else{f=M;var N=Vt;Vt|=2;var D=yN();(Kn!==d||_r!==f)&&(Su(),ql(d,f));do try{BB();break}catch(re){xN(d,re)}while(!0);Iw(),xg.current=D,Vt=N,Jn!==null?f=0:(Kn=null,_r=0,f=nr)}if(f!==0){if(f===2&&(N=Ew(d),N!==0&&(M=N,f=w_(d,N))),f===1)throw _=nh,ql(d,0),Io(d,M),si(d,ur()),_;if(f===6)Io(d,M);else{if(N=d.current.alternate,!(M&30)&&!UB(N)&&(f=Tg(d,M),f===2&&(D=Ew(d),D!==0&&(M=D,f=w_(d,D))),f===1))throw _=nh,ql(d,0),Io(d,M),si(d,ur()),_;switch(d.finishedWork=N,d.finishedLanes=M,f){case 0:case 1:throw Error(a(345));case 2:Zl(d,ii);break;case 3:if(Io(d,M),(M&130023424)===M&&(f=g_+500-ur(),10<f)){if(Um(d,0)!==0)break;if(N=d.suspendedLanes,(N&M)!==M){Wr(),d.pingedLanes|=d.suspendedLanes&N;break}d.timeoutHandle=ne(Zl.bind(null,d,ii),f);break}Zl(d,ii);break;case 4:if(Io(d,M),(M&4194240)===M)break;for(f=d.eventTimes,N=-1;0<M;){var q=31-hs(M);D=1<<q,q=f[q],q>N&&(N=q),M&=~D}if(M=N,M=ur()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*FB(M/1960))-M,10<M){d.timeoutHandle=ne(Zl.bind(null,d,ii),M);break}Zl(d,ii);break;case 5:Zl(d,ii);break;default:throw Error(a(329))}}}return si(d,ur()),d.callbackNode===_?mN.bind(null,d):null}function w_(d,f){var _=rh;return d.current.memoizedState.isDehydrated&&(ql(d,f).flags|=256),d=Tg(d,f),d!==2&&(f=ii,ii=_,f!==null&&__(f)),d}function __(d){ii===null?ii=d:ii.push.apply(ii,d)}function UB(d){for(var f=d;;){if(f.flags&16384){var _=f.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var M=0;M<_.length;M++){var N=_[M],D=N.getSnapshot;N=N.value;try{if(!Ws(D(),N))return!1}catch{return!1}}}if(_=f.child,f.subtreeFlags&16384&&_!==null)_.return=f,f=_;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Io(d,f){for(f&=~m_,f&=~yg,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var _=31-hs(f),M=1<<_;d[_]=-1,f&=~M}}function gN(d){if(Vt&6)throw Error(a(327));Kl();var f=Um(d,0);if(!(f&1))return si(d,ur()),null;var _=Tg(d,f);if(d.tag!==0&&_===2){var M=Ew(d);M!==0&&(f=M,_=w_(d,M))}if(_===1)throw _=nh,ql(d,0),Io(d,f),si(d,ur()),_;if(_===6)throw Error(a(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,Zl(d,ii),si(d,ur()),null}function vN(d){Ro!==null&&Ro.tag===0&&!(Vt&6)&&Kl();var f=Vt;Vt|=1;var _=Vn.transition,M=Kt;try{if(Vn.transition=null,Kt=1,d)return d()}finally{Kt=M,Vn.transition=_,Vt=f,!(Vt&6)&&Gs()}}function S_(){Ni=wu.current,sn(wu)}function ql(d,f){d.finishedWork=null,d.finishedLanes=0;var _=d.timeoutHandle;if(_!==Le&&(d.timeoutHandle=Le,fe(_)),Jn!==null)for(_=Jn.return;_!==null;){var M=_;switch(Uw(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&To();break;case 3:xu(),sn(Zn),sn(tr),$w();break;case 5:Ww(M);break;case 4:xu();break;case 13:sn(En);break;case 19:sn(En);break;case 10:Dw(M.type._context);break;case 22:case 23:S_()}_=_.return}if(Kn=d,Jn=d=Do(d.current,null),_r=Ni=f,nr=0,nh=null,m_=yg=_u=0,ii=rh=null,$s!==null){for(f=0;f<$s.length;f++)if(_=$s[f],M=_.interleaved,M!==null){_.interleaved=null;var N=M.next,D=_.pending;if(D!==null){var q=D.next;D.next=N,M.next=q}_.pending=M}$s=null}return d}function xN(d,f){do{var _=Jn;try{if(Iw(),Jm.current=ig,Qm){for(var M=In.memoizedState;M!==null;){var N=M.queue;N!==null&&(N.pending=null),M=M.next}Qm=!1}if(yu=0,dr=Rr=In=null,Xf=!1,Yf=0,p_.current=null,_===null||_.return===null){nr=1,nh=f,Jn=null;break}e:{var D=d,q=_.return,re=_,ge=f;if(f=_r,re.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ve=ge,at=re,At=at.tag;if(!(at.mode&1)&&(At===0||At===11||At===15)){var vt=at.alternate;vt?(at.updateQueue=vt.updateQueue,at.memoizedState=vt.memoizedState,at.lanes=vt.lanes):(at.updateQueue=null,at.memoizedState=null)}var fn=U2(q);if(fn!==null){fn.flags&=-257,z2(fn,q,re,D,f),fn.mode&1&&F2(D,Ve,f),f=fn,ge=Ve;var dt=f.updateQueue;if(dt===null){var Dr=new Set;Dr.add(ge),f.updateQueue=Dr}else dt.add(ge);break e}else{if(!(f&1)){F2(D,Ve,f),b_();break e}ge=Error(a(426))}}else if(_n&&re.mode&1){var Ji=U2(q);if(Ji!==null){!(Ji.flags&65536)&&(Ji.flags|=256),z2(Ji,q,re,D,f),Vw(ge);break e}}D=ge,nr!==4&&(nr=2),rh===null?rh=[D]:rh.push(D),ge=Qw(ge,re),re=q;do{switch(re.tag){case 3:re.flags|=65536,f&=-f,re.lanes|=f;var ce=O2(re,ge,f);i2(re,ce);break e;case 1:D=ge;var ae=re.type,he=re.stateNode;if(!(re.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Ao===null||!Ao.has(he)))){re.flags|=65536,f&=-f,re.lanes|=f;var qe=j2(re,D,f);i2(re,qe);break e}}re=re.return}while(re!==null)}_N(_)}catch(ct){f=ct,Jn===_&&_!==null&&(Jn=_=_.return);continue}break}while(!0)}function yN(){var d=xg.current;return xg.current=ig,d===null?ig:d}function b_(){(nr===0||nr===3||nr===2)&&(nr=4),Kn===null||!(_u&268435455)&&!(yg&268435455)||Io(Kn,_r)}function Tg(d,f){var _=Vt;Vt|=2;var M=yN();Kn===d&&_r===f||ql(d,f);do try{zB();break}catch(N){xN(d,N)}while(!0);if(Iw(),Vt=_,xg.current=M,Jn!==null)throw Error(a(261));return Kn=null,_r=0,nr}function zB(){for(;Jn!==null;)wN(Jn)}function BB(){for(;Jn!==null&&!hB();)wN(Jn)}function wN(d){var f=EN(d.alternate,d,Ni);d.memoizedProps=d.pendingProps,f===null?_N(d):Jn=f,p_.current=null}function _N(d){var f=d;do{var _=f.alternate;if(d=f.return,f.flags&32768){if(_=DB(_,f),_!==null){_.flags&=32767,Jn=_;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{nr=6,Jn=null;return}}else if(_=RB(_,f,Ni),_!==null){Jn=_;return}if(f=f.sibling,f!==null){Jn=f;return}Jn=f=d}while(f!==null);nr===0&&(nr=5)}function Zl(d,f){var _=Kt,M=Vn.transition;try{Vn.transition=null,Kt=1,VB(d,f,_)}finally{Vn.transition=M,Kt=_}return null}function VB(d,f,_){do Kl();while(Ro!==null);if(Vt&6)throw Error(a(327));var M=d.finishedWork,N=d.finishedLanes;if(M===null)return null;if(d.finishedWork=null,d.finishedLanes=0,M===d.current)throw Error(a(177));d.callbackNode=null,d.callbackPriority=0;var D=M.lanes|M.childLanes;if(fB(d,D),d===Kn&&(Jn=Kn=null,_r=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||_g||(_g=!0,MN(Aw,function(){return Kl(),null})),D=(M.flags&15990)!==0,M.subtreeFlags&15990||D){D=Vn.transition,Vn.transition=null;var q=Kt;Kt=1;var re=Vt;Vt|=4,p_.current=null,LB(d,M),OB(d,M),Y(d.containerInfo),d.current=M,jB(M),pB(),Vt=re,Kt=q,Vn.transition=D}else d.current=M;if(_g&&(_g=!1,Ro=d,Sg=N),D=d.pendingLanes,D===0&&(Ao=null),vB(M.stateNode),si(d,ur()),f!==null)for(_=d.onRecoverableError,M=0;M<f.length;M++)_(f[M]);if(wg)throw wg=!1,d=x_,x_=null,d;return Sg&1&&d.tag!==0&&Kl(),D=d.pendingLanes,D&1?d===y_?ih++:(ih=0,y_=d):ih=0,Gs(),null}function Kl(){if(Ro!==null){var d=QC(Sg),f=Vn.transition,_=Kt;try{if(Vn.transition=null,Kt=16>d?16:d,Ro===null)var M=!1;else{if(d=Ro,Ro=null,Sg=0,Vt&6)throw Error(a(331));var N=Vt;for(Vt|=4,Ye=d.current;Ye!==null;){var D=Ye,q=D.child;if(Ye.flags&16){var re=D.deletions;if(re!==null){for(var ge=0;ge<re.length;ge++){var Ve=re[ge];for(Ye=Ve;Ye!==null;){var at=Ye;switch(at.tag){case 0:case 11:case 15:Yl(8,at,D)}var At=at.child;if(At!==null)At.return=at,Ye=At;else for(;Ye!==null;){at=Ye;var vt=at.sibling,fn=at.return;if(sN(at),at===Ve){Ye=null;break}if(vt!==null){vt.return=fn,Ye=vt;break}Ye=fn}}}var dt=D.alternate;if(dt!==null){var Dr=dt.child;if(Dr!==null){dt.child=null;do{var Ji=Dr.sibling;Dr.sibling=null,Dr=Ji}while(Dr!==null)}}Ye=D}}if(D.subtreeFlags&2064&&q!==null)q.return=D,Ye=q;else e:for(;Ye!==null;){if(D=Ye,D.flags&2048)switch(D.tag){case 0:case 11:case 15:Yl(9,D,D.return)}var ce=D.sibling;if(ce!==null){ce.return=D.return,Ye=ce;break e}Ye=D.return}}var ae=d.current;for(Ye=ae;Ye!==null;){q=Ye;var he=q.child;if(q.subtreeFlags&2064&&he!==null)he.return=q,Ye=he;else e:for(q=ae;Ye!==null;){if(re=Ye,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:eh(9,re)}}catch(ct){ai(re,re.return,ct)}if(re===q){Ye=null;break e}var qe=re.sibling;if(qe!==null){qe.return=re.return,Ye=qe;break e}Ye=re.return}}if(Vt=N,Gs(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(zm,d)}catch{}M=!0}return M}finally{Kt=_,Vn.transition=f}}return!1}function SN(d,f,_){f=Qw(_,f),f=O2(d,f,1),No(d,f),f=Wr(),d=Mg(d,1),d!==null&&(Bf(d,1,f),si(d,f))}function ai(d,f,_){if(d.tag===3)SN(d,d,_);else for(;f!==null;){if(f.tag===3){SN(f,d,_);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Ao===null||!Ao.has(M))){d=Qw(_,d),d=j2(f,d,1),No(f,d),d=Wr(),f=Mg(f,1),f!==null&&(Bf(f,1,d),si(f,d));break}}f=f.return}}function HB(d,f,_){var M=d.pingCache;M!==null&&M.delete(f),f=Wr(),d.pingedLanes|=d.suspendedLanes&_,Kn===d&&(_r&_)===_&&(nr===4||nr===3&&(_r&130023424)===_r&&500>ur()-g_?ql(d,0):m_|=_),si(d,f)}function bN(d,f){f===0&&(d.mode&1?(f=Fm,Fm<<=1,!(Fm&130023424)&&(Fm=4194304)):f=1);var _=Wr();d=Mg(d,f),d!==null&&(Bf(d,f,_),si(d,_))}function WB(d){var f=d.memoizedState,_=0;f!==null&&(_=f.retryLane),bN(d,_)}function GB(d,f){var _=0;switch(d.tag){case 13:var M=d.stateNode,N=d.memoizedState;N!==null&&(_=N.retryLane);break;case 19:M=d.stateNode;break;default:throw Error(a(314))}M!==null&&M.delete(f),bN(d,_)}var EN;EN=function(d,f,_){if(d!==null)if(d.memoizedProps!==f.pendingProps||Zn.current)Ci=!0;else{if(!(d.lanes&_)&&!(f.flags&128))return Ci=!1,IB(d,f,_);Ci=!!(d.flags&131072)}else Ci=!1,_n&&f.flags&1048576&&u2(f,qm,f.index);switch(f.lanes=0,f.tag){case 2:var M=f.type;d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),d=f.pendingProps;var N=Rn(f,tr.current);fu(f,_),N=Yw(null,f,M,d,N,_);var D=qw();return f.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Pn(M)?(D=!0,uu(f)):D=!1,f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Lw(f),N.updater=Xm,f.stateNode=N,N._reactInternals=f,jw(f,M,d,_),f=n_(null,f,M,!0,D,_)):(f.tag=0,_n&&D&&Fw(f),Hr(null,f,N,_),f=f.child),f;case 16:M=f.elementType;e:{switch(d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),d=f.pendingProps,N=M._init,M=N(M._payload),f.type=M,N=f.tag=XB(M),d=ps(M,d),N){case 0:f=t_(null,f,M,d,_);break e;case 1:f=Y2(null,f,M,d,_);break e;case 11:f=H2(null,f,M,d,_);break e;case 14:f=W2(null,f,M,ps(M.type,d),_);break e}throw Error(a(306,M,""))}return f;case 0:return M=f.type,N=f.pendingProps,N=f.elementType===M?N:ps(M,N),t_(d,f,M,N,_);case 1:return M=f.type,N=f.pendingProps,N=f.elementType===M?N:ps(M,N),Y2(d,f,M,N,_);case 3:e:{if(q2(f),d===null)throw Error(a(387));M=f.pendingProps,D=f.memoizedState,N=D.element,r2(d,f),$m(f,M,null,_);var q=f.memoizedState;if(M=q.element,Ee&&D.isDehydrated)if(D={element:M,isDehydrated:!1,cache:q.cache,transitions:q.transitions},f.updateQueue.baseState=D,f.memoizedState=D,f.flags&256){N=Error(a(423)),f=Z2(d,f,M,_,N);break e}else if(M!==N){N=Error(a(424)),f=Z2(d,f,M,_,N);break e}else for(Ee&&(Ti=_w(f.stateNode.containerInfo),Mi=f,_n=!0,ms=null,Vf=!1),_=g2(f,null,M,_),f.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(mu(),M===N){f=La(d,f,_);break e}Hr(d,f,M,_)}f=f.child}return f;case 5:return v2(f),d===null&&Bw(f),M=f.type,N=f.pendingProps,D=d!==null?d.memoizedProps:null,q=N.children,ye(M,N)?q=null:D!==null&&ye(M,D)&&(f.flags|=32),X2(d,f),Hr(d,f,q,_),f.child;case 6:return d===null&&Bw(f),null;case 13:return K2(d,f,_);case 4:return Hw(f,f.stateNode.containerInfo),M=f.pendingProps,d===null?f.child=gu(f,null,M,_):Hr(d,f,M,_),f.child;case 11:return M=f.type,N=f.pendingProps,N=f.elementType===M?N:ps(M,N),H2(d,f,M,N,_);case 7:return Hr(d,f,f.pendingProps,_),f.child;case 8:return Hr(d,f,f.pendingProps.children,_),f.child;case 12:return Hr(d,f,f.pendingProps.children,_),f.child;case 10:e:{if(M=f.type._context,N=f.pendingProps,D=f.memoizedProps,q=N.value,n2(f,M,q),D!==null)if(Ws(D.value,q)){if(D.children===N.children&&!Zn.current){f=La(d,f,_);break e}}else for(D=f.child,D!==null&&(D.return=f);D!==null;){var re=D.dependencies;if(re!==null){q=D.child;for(var ge=re.firstContext;ge!==null;){if(ge.context===M){if(D.tag===1){ge=Pa(-1,_&-_),ge.tag=2;var Ve=D.updateQueue;if(Ve!==null){Ve=Ve.shared;var at=Ve.pending;at===null?ge.next=ge:(ge.next=at.next,at.next=ge),Ve.pending=ge}}D.lanes|=_,ge=D.alternate,ge!==null&&(ge.lanes|=_),kw(D.return,_,f),re.lanes|=_;break}ge=ge.next}}else if(D.tag===10)q=D.type===f.type?null:D.child;else if(D.tag===18){if(q=D.return,q===null)throw Error(a(341));q.lanes|=_,re=q.alternate,re!==null&&(re.lanes|=_),kw(q,_,f),q=D.sibling}else q=D.child;if(q!==null)q.return=D;else for(q=D;q!==null;){if(q===f){q=null;break}if(D=q.sibling,D!==null){D.return=q.return,q=D;break}q=q.return}D=q}Hr(d,f,N.children,_),f=f.child}return f;case 9:return N=f.type,M=f.pendingProps.children,fu(f,_),N=Gi(N),M=M(N),f.flags|=1,Hr(d,f,M,_),f.child;case 14:return M=f.type,N=ps(M,f.pendingProps),N=ps(M.type,N),W2(d,f,M,N,_);case 15:return G2(d,f,f.type,f.pendingProps,_);case 17:return M=f.type,N=f.pendingProps,N=f.elementType===M?N:ps(M,N),d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Pn(M)?(d=!0,uu(f)):d=!1,fu(f,_),l2(f,M,N),jw(f,M,N,_),n_(null,f,M,!0,d,_);case 19:return tN(d,f,_);case 22:return $2(d,f,_)}throw Error(a(156,f.tag))};function MN(d,f){return Cw(d,f)}function $B(d,f,_,M){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(d,f,_,M){return new $B(d,f,_,M)}function E_(d){return d=d.prototype,!(!d||!d.isReactComponent)}function XB(d){if(typeof d=="function")return E_(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===b)return 14}return 2}function Do(d,f){var _=d.alternate;return _===null?(_=Ki(d.tag,f,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=f,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&14680064,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,f=d.dependencies,_.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_}function Cg(d,f,_,M,N,D){var q=2;if(M=d,typeof d=="function")E_(d)&&(q=1);else if(typeof d=="string")q=5;else e:switch(d){case h:return Jl(_.children,N,D,f);case p:q=8,N|=8;break;case m:return d=Ki(12,_,f,N|2),d.elementType=m,d.lanes=D,d;case w:return d=Ki(13,_,f,N),d.elementType=w,d.lanes=D,d;case x:return d=Ki(19,_,f,N),d.elementType=x,d.lanes=D,d;case T:return Ng(_,N,D,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case g:q=10;break e;case v:q=9;break e;case y:q=11;break e;case b:q=14;break e;case S:q=16,M=null;break e}throw Error(a(130,d==null?d:typeof d,""))}return f=Ki(q,_,f,N),f.elementType=d,f.type=M,f.lanes=D,f}function Jl(d,f,_,M){return d=Ki(7,d,M,f),d.lanes=_,d}function Ng(d,f,_,M){return d=Ki(22,d,M,f),d.elementType=T,d.lanes=_,d.stateNode={},d}function M_(d,f,_){return d=Ki(6,d,null,f),d.lanes=_,d}function T_(d,f,_){return f=Ki(4,d.children!==null?d.children:[],d.key,f),f.lanes=_,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function YB(d,f,_,M,N){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Le,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mw(0),this.expirationTimes=Mw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mw(0),this.identifierPrefix=M,this.onRecoverableError=N,Ee&&(this.mutableSourceEagerHydrationData=null)}function TN(d,f,_,M,N,D,q,re,ge){return d=new YB(d,f,_,re,ge),f===1?(f=1,D===!0&&(f|=8)):f=0,D=Ki(3,null,null,f),d.current=D,D.stateNode=d,D.memoizedState={element:M,isDehydrated:_,cache:null,transitions:null},Lw(D),d}function CN(d){if(!d)return Nr;d=d._reactInternals;e:{if(I(d)!==d||d.tag!==1)throw Error(a(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Pn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(a(171))}if(d.tag===1){var _=d.type;if(Pn(_))return cu(d,_,f)}return f}function NN(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(a(188)):(d=Object.keys(d).join(","),Error(a(268,d)));return d=V(f),d===null?null:d.stateNode}function AN(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<f?_:f}}function C_(d,f){AN(d,f),(d=d.alternate)&&AN(d,f)}function qB(d){return d=V(d),d===null?null:d.stateNode}function ZB(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var f=Wr();Zi(d,134217728,f),C_(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var f=Wr(),_=Po(d);Zi(d,_,f),C_(d,_)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var _=zf(f.pendingLanes);_!==0&&(Tw(f,_|1),si(f,ur()),!(Vt&6)&&(Su(),Gs()))}break;case 13:var M=Wr();vN(function(){return Zi(d,1,M)}),C_(d,1)}},t.batchedUpdates=function(d,f){var _=Vt;Vt|=1;try{return d(f)}finally{Vt=_,Vt===0&&(Su(),Bm&&Gs())}},t.createComponentSelector=function(d){return{$$typeof:hg,value:d}},t.createContainer=function(d,f,_,M,N,D,q){return TN(d,f,!1,null,_,M,N,D,q)},t.createHasPseudoClassSelector=function(d){return{$$typeof:pg,value:d}},t.createHydrationContainer=function(d,f,_,M,N,D,q,re,ge){return d=TN(_,M,!0,d,N,D,q,re,ge),d.context=CN(null),_=d.current,M=Wr(),N=Po(_),D=Pa(M,N),D.callback=f??null,No(_,D),d.current.lanes=N,Bf(d,N,M),si(d,M),d},t.createPortal=function(d,f,_){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:d,containerInfo:f,implementation:_}},t.createRoleSelector=function(d){return{$$typeof:mg,value:d}},t.createTestNameSelector=function(d){return{$$typeof:gg,value:d}},t.createTextSelector=function(d){return{$$typeof:vg,value:d}},t.deferredUpdates=function(d){var f=Kt,_=Vn.transition;try{return Vn.transition=null,Kt=16,d()}finally{Kt=f,Vn.transition=_}},t.discreteUpdates=function(d,f,_,M,N){var D=Kt,q=Vn.transition;try{return Vn.transition=null,Kt=1,d(f,_,M,N)}finally{Kt=D,Vn.transition=q,Vt===0&&Su()}},t.findAllNodes=h_,t.findBoundingRects=function(d,f){if(!se)throw Error(a(363));f=h_(d,f),d=[];for(var _=0;_<f.length;_++)d.push(Ae(f[_]));for(f=d.length-1;0<f;f--){_=d[f];for(var M=_.x,N=M+_.width,D=_.y,q=D+_.height,re=f-1;0<=re;re--)if(f!==re){var ge=d[re],Ve=ge.x,at=Ve+ge.width,At=ge.y,vt=At+ge.height;if(M>=Ve&&D>=At&&N<=at&&q<=vt){d.splice(f,1);break}else if(M!==Ve||_.width!==ge.width||vt<D||At>q){if(!(D!==At||_.height!==ge.height||at<M||Ve>N)){Ve>M&&(ge.width+=Ve-M,ge.x=M),at<N&&(ge.width=N-Ve),d.splice(f,1);break}}else{At>D&&(ge.height+=At-D,ge.y=D),vt<q&&(ge.height=q-At),d.splice(f,1);break}}}return d},t.findHostInstance=NN,t.findHostInstanceWithNoPortals=function(d){return d=U(d),d=d!==null?z(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return NN(d)},t.flushControlled=function(d){var f=Vt;Vt|=1;var _=Vn.transition,M=Kt;try{Vn.transition=null,Kt=1,d()}finally{Kt=M,Vn.transition=_,Vt=f,Vt===0&&(Su(),Gs())}},t.flushPassiveEffects=Kl,t.flushSync=vN,t.focusWithin=function(d,f){if(!se)throw Error(a(363));for(d=u_(d),f=pN(d,f),f=Array.from(f),d=0;d<f.length;){var _=f[d++];if(!j(_)){if(_.tag===5&&Te(_.stateNode))return!0;for(_=_.child;_!==null;)f.push(_),_=_.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Kt},t.getFindAllNodesFailureDescription=function(d,f){if(!se)throw Error(a(363));var _=0,M=[];d=[u_(d),0];for(var N=0;N<d.length;){var D=d[N++],q=d[N++],re=f[q];if((D.tag!==5||!j(D))&&(d_(D,re)&&(M.push(f_(re)),q++,q>_&&(_=q)),q<f.length))for(D=D.child;D!==null;)d.push(D,q),D=D.sibling}if(_<f.length){for(d=[];_<f.length;_++)d.push(f_(f[_]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return W(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:qB,findFiberByHostInstance:d.findFiberByHostInstance||ZB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)d=!0;else{try{zm=f.inject(d),Hs=f}catch{}d=!!f.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,f,_,M){if(!se)throw Error(a(363));d=h_(d,f);var N=_e(d,_,M).disconnect;return{disconnect:function(){N()}}},t.registerMutableSourceForHydration=function(d,f){var _=f._getVersion;_=_(f._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[f,_]:d.mutableSourceEagerHydrationData.push(f,_)},t.runWithPriority=function(d,f){var _=Kt;try{return Kt=d,f()}finally{Kt=_}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,f,_,M){var N=f.current,D=Wr(),q=Po(N);return _=CN(_),f.context===null?f.context=_:f.pendingContext=_,f=Pa(D,q),f.payload={element:d},M=M===void 0?null:M,M!==null&&(f.callback=M),No(N,f),d=Zi(N,q,D),d!==null&&Gm(d,N,q),q},t};Vz.exports=lle;var cle=Vz.exports;const ule=Yx(cle);var Hz={exports:{}},Wz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,B){var Y=O.length;O.push(B);e:for(;0<Y;){var L=Y-1>>>1,Z=O[L];if(0<i(Z,B))O[L]=B,O[Y]=Z,Y=L;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],Y=O.pop();if(Y!==B){O[0]=Y;e:for(var L=0,Z=O.length,oe=Z>>>1;L<oe;){var de=2*(L+1)-1,ye=O[de],we=de+1,ne=O[we];if(0>i(ye,Y))we<Z&&0>i(ne,ye)?(O[L]=ne,O[we]=Y,L=we):(O[L]=ye,O[de]=Y,L=de);else if(we<Z&&0>i(ne,Y))O[L]=ne,O[we]=Y,L=we;else break e}}return B}function i(O,B){var Y=O.sortIndex-B.sortIndex;return Y!==0?Y:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,m=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var B=t(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=t(u)}}function T(O){if(y=!1,S(O),!v)if(t(l)!==null)v=!0,W(C);else{var B=t(u);B!==null&&te(T,B.startTime-O)}}function C(O,B){v=!1,y&&(y=!1,x(k),k=-1),g=!0;var Y=m;try{for(S(B),p=t(l);p!==null&&(!(p.expirationTime>B)||O&&!U());){var L=p.callback;if(typeof L=="function"){p.callback=null,m=p.priorityLevel;var Z=L(p.expirationTime<=B);B=n.unstable_now(),typeof Z=="function"?p.callback=Z:p===t(l)&&r(l),S(B)}else r(l);p=t(l)}if(p!==null)var oe=!0;else{var de=t(u);de!==null&&te(T,de.startTime-B),oe=!1}return oe}finally{p=null,m=Y,g=!1}}var P=!1,A=null,k=-1,I=5,R=-1;function U(){return!(n.unstable_now()-R<I)}function V(){if(A!==null){var O=n.unstable_now();R=O;var B=!0;try{B=A(!0,O)}finally{B?J():(P=!1,A=null)}}else P=!1}var J;if(typeof b=="function")J=function(){b(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=V,J=function(){Q.postMessage(null)}}else J=function(){w(V,0)};function W(O){A=O,P||(P=!0,J())}function te(O,B){k=w(function(){O(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,W(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var Y=m;m=B;try{return O()}finally{m=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=m;m=O;try{return B()}finally{m=Y}},n.unstable_scheduleCallback=function(O,B,Y){var L=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?L+Y:L):Y=L,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,O={id:h++,callback:B,priorityLevel:O,startTime:Y,expirationTime:Z,sortIndex:-1},Y>L?(O.sortIndex=Y,e(u,O),t(l)===null&&O===t(u)&&(y?(x(k),k=-1):y=!0,te(T,Y-L))):(O.sortIndex=Z,e(l,O),v||g||(v=!0,W(C))),O},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(O){var B=m;return function(){var Y=m;m=B;try{return O.apply(this,arguments)}finally{m=Y}}}})(Wz);Hz.exports=Wz;var rD=Hz.exports;const KC={},dle=n=>void Object.assign(KC,n);function fle(n,e){function t(h,{args:p=[],attach:m,...g},v){let y=`${h[0].toUpperCase()}${h.slice(1)}`,w;if(h==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=g.object;w=rd(x,{type:h,root:v,attach:m,primitive:!0})}else{const x=KC[y];if(!x)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");w=rd(new x(...p),{type:h,root:v,attach:m,memoizedProps:{args:p}})}return w.__r3f.attach===void 0&&(w instanceof Ut?w.__r3f.attach="geometry":w instanceof Cr&&(w.__r3f.attach="material")),y!=="inject"&&xS(w,g),w}function r(h,p){let m=!1;if(p){var g,v;(g=p.__r3f)!=null&&g.attach?vS(h,p,p.__r3f.attach):p.isObject3D&&h.isObject3D&&(h.add(p),m=!0),m||(v=h.__r3f)==null||v.objects.push(p),p.__r3f||rd(p,{}),p.__r3f.parent=h,KE(p),id(p)}}function i(h,p,m){let g=!1;if(p){var v,y;if((v=p.__r3f)!=null&&v.attach)vS(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){p.parent=h,p.dispatchEvent({type:"added"});const w=h.children.filter(b=>b!==p),x=w.indexOf(m);h.children=[...w.slice(0,x),p,...w.slice(x)],g=!0}g||(y=h.__r3f)==null||y.objects.push(p),p.__r3f||rd(p,{}),p.__r3f.parent=h,KE(p),id(p)}}function s(h,p,m=!1){h&&[...h].forEach(g=>a(p,g,m))}function a(h,p,m){if(p){var g,v,y;if(p.__r3f&&(p.__r3f.parent=null),(g=h.__r3f)!=null&&g.objects&&(h.__r3f.objects=h.__r3f.objects.filter(T=>T!==p)),(v=p.__r3f)!=null&&v.attach)lD(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){var w;h.remove(p),(w=p.__r3f)!=null&&w.root&&wle(p.__r3f.root,p)}const b=(y=p.__r3f)==null?void 0:y.primitive,S=!b&&(m===void 0?p.dispose!==null:m);if(!b){var x;s((x=p.__r3f)==null?void 0:x.objects,p,S),s(p.children,p,S)}if(delete p.__r3f,S&&p.dispose&&p.type!=="Scene"){const T=()=>{try{p.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?rD.unstable_scheduleCallback(rD.unstable_IdlePriority,T):T()}id(h)}}function o(h,p,m,g){var v;const y=(v=h.__r3f)==null?void 0:v.parent;if(!y)return;const w=t(p,m,h.__r3f.root);if(h.children){for(const x of h.children)x.__r3f&&r(w,x);h.children=h.children.filter(x=>!x.__r3f)}h.__r3f.objects.forEach(x=>r(w,x)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||a(y,h),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),r(y,w),w.raycast&&w.__r3f.eventCount&&w.__r3f.root.getState().internal.interaction.push(w),[g,g.alternate].forEach(x=>{x!==null&&(x.stateNode=w,x.ref&&(typeof x.ref=="function"?x.ref(w):x.ref.current=w))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:ule({createInstance:t,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,p)=>{if(!p)return;const m=h.getState().scene;m.__r3f&&(m.__r3f.root=h,r(m,p))},removeChildFromContainer:(h,p)=>{p&&a(h.getState().scene,p)},insertInContainerBefore:(h,p,m)=>{if(!p||!m)return;const g=h.getState().scene;g.__r3f&&i(g,p,m)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var p;return!!((p=h==null?void 0:h.__r3f)!=null?p:{}).handlers},prepareUpdate(h,p,m,g){var v;if(((v=h==null?void 0:h.__r3f)!=null?v:{}).primitive&&g.object&&g.object!==h)return[!0];{const{args:w=[],children:x,...b}=g,{args:S=[],children:T,...C}=m;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((A,k)=>A!==S[k]))return[!0];const P=Kz(h,b,C,!0);return P.changes.length?[!1,P]:null}},commitUpdate(h,[p,m],g,v,y,w){p?o(h,g,y,w):xS(h,m)},commitMount(h,p,m,g){var v;const y=(v=h.__r3f)!=null?v:{};h.raycast&&y.handlers&&y.eventCount&&h.__r3f.root.getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>rd(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var p;const{attach:m,parent:g}=(p=h.__r3f)!=null?p:{};m&&g&&lD(g,h,m),h.isObject3D&&(h.visible=!1),id(h)},unhideInstance(h,p){var m;const{attach:g,parent:v}=(m=h.__r3f)!=null?m:{};g&&v&&vS(v,h,g),(h.isObject3D&&p.visible==null||p.visible)&&(h.visible=!0),id(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():_d.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Sn.fun(performance.now)?performance.now:Sn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Sn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Sn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:xS}}var iD,sD;const gS=n=>"colorSpace"in n||"outputColorSpace"in n,Gz=()=>{var n;return(n=KC.ColorManagement)!=null?n:null},$z=n=>n&&n.isOrthographicCamera,hle=n=>n&&n.hasOwnProperty("current"),Pm=typeof window<"u"&&((iD=window.document)!=null&&iD.createElement||((sD=window.navigator)==null?void 0:sD.product)==="ReactNative")?E.useLayoutEffect:E.useEffect;function Xz(n){const e=E.useRef(n);return Pm(()=>void(e.current=n),[n]),e}function ple({set:n}){return Pm(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}let Yz=class extends E.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};Yz.getDerivedStateFromError=()=>({error:!0});const qz="__default",aD=new Map,mle=n=>n&&!!n.memoized&&!!n.changes;function Zz(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Ah=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Sn={obj:n=>n===Object(n)&&!Sn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Sn.str(n)||Sn.num(n))return n===e;const s=Sn.obj(n);if(s&&r==="reference")return n===e;const a=Sn.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(o in i?e:n)if(!Sn.equ(n[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:n)if(n[o]!==e[o])return!1;if(Sn.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function gle(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function rd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function ZE(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,a)=>s[a],n),{target:t,key:i}}else return{target:t,key:e}}const oD=/-\d+$/;function vS(n,e,t){if(Sn.str(t)){if(oD.test(t)){const s=t.replace(oD,""),{target:a,key:o}=ZE(n,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=ZE(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function lD(n,e,t){var r,i;if(Sn.str(t)){const{target:s,key:a}=ZE(n,t),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function Kz(n,{children:e,key:t,ref:r,...i},{children:s,key:a,ref:o,...l}={},u=!1){var h;const p=(h=n==null?void 0:n.__r3f)!=null?h:{},m=Object.entries(i),g=[];if(u){const y=Object.keys(l);for(let w=0;w<y.length;w++)i.hasOwnProperty(y[w])||m.unshift([y[w],qz+"remove"])}m.forEach(([y,w])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&y==="object"||Sn.equ(w,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return g.push([y,w,!0,[]]);let b=[];y.includes("-")&&(b=y.split("-")),g.push([y,w,!1,b]);for(const S in i){const T=i[S];S.startsWith(`${y}-`)&&g.push([S,T,!1,S.split("-")])}});const v={...i};return p.memoizedProps&&p.memoizedProps.args&&(v.args=p.memoizedProps.args),p.memoizedProps&&p.memoizedProps.attach&&(v.attach=p.memoizedProps.attach),{memoized:v,changes:g}}const vle=typeof process<"u"&&!1;function xS(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},a=s.root,o=(r=a==null||a.getState==null?void 0:a.getState())!=null?r:{},{memoized:l,changes:u}=mle(e)?e:Kz(n,e),h=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let m=0;m<u.length;m++){let[g,v,y,w]=u[m];if(gS(n)){const T="srgb",C="srgb-linear";g==="encoding"?(g="colorSpace",v=v===3001?T:C):g==="outputEncoding"&&(g="outputColorSpace",v=v===3001?T:C)}let x=n,b=x[g];if(w.length&&(b=w.reduce((S,T)=>S[T],n),!(b&&b.set))){const[S,...T]=w.reverse();x=T.reverse().reduce((C,P)=>C[P],n),g=S}if(v===qz+"remove")if(x.constructor){let S=aD.get(x.constructor);S||(S=new x.constructor,aD.set(x.constructor,S)),v=S[g]}else v=0;if(y)v?s.handlers[g]=v:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(b&&b.set&&(b.copy||b instanceof jc)){if(Array.isArray(v))b.fromArray?b.fromArray(v):b.set(...v);else if(b.copy&&v&&v.constructor&&(vle?b.constructor.name===v.constructor.name:b.constructor===v.constructor))b.copy(v);else if(v!==void 0){const S=b instanceof it;!S&&b.setScalar?b.setScalar(v):b instanceof jc&&v instanceof jc?b.mask=v.mask:b.set(v),!Gz()&&!o.linear&&S&&b.convertSRGBToLinear()}}else if(x[g]=v,x[g]instanceof Bn&&x[g].format===fi&&x[g].type===ya){const S=x[g];gS(S)&&gS(o.gl)?S.colorSpace=o.gl.outputColorSpace:S.encoding=o.gl.outputEncoding}id(n)}if(s.parent&&o.internal&&n.raycast&&h!==s.eventCount){const m=o.internal.interaction.indexOf(n);m>-1&&o.internal.interaction.splice(m,1),s.eventCount&&o.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=n.__r3f)!=null&&i.parent&&KE(n),n}function id(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function KE(n){n.onUpdate==null||n.onUpdate(n)}function xle(n,e){n.manual||($z(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function $v(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function yle(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return _d.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return _d.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return _d.ContinuousEventPriority;default:return _d.DefaultEventPriority}}function Jz(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function wle(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Jz(t.capturedMap,e,r,i)})}function _le(n){function e(l){const{internal:u}=n.getState(),h=l.offsetX-u.initialClick[0],p=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function r(l,u){const h=n.getState(),p=new Set,m=[],g=u?u(h.internal.interaction):h.internal.interaction;for(let x=0;x<g.length;x++){const b=Ah(g[x]);b&&(b.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(x){const b=Ah(x);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var S;b.events.compute==null||b.events.compute(l,b,(S=b.previousRoot)==null?void 0:S.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(x,!0):[]}let y=g.flatMap(v).sort((x,b)=>{const S=Ah(x.object),T=Ah(b.object);return!S||!T?x.distance-b.distance:T.events.priority-S.events.priority||x.distance-b.distance}).filter(x=>{const b=$v(x);return p.has(b)?!1:(p.add(b),!0)});h.events.filter&&(y=h.events.filter(y,h));for(const x of y){let b=x.object;for(;b;){var w;(w=b.__r3f)!=null&&w.eventCount&&m.push({...x,eventObject:b}),b=b.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let x of h.internal.capturedMap.get(l.pointerId).values())p.has($v(x.intersection))||m.push(x.intersection);return m}function i(l,u,h,p){const m=n.getState();if(l.length){const g={stopped:!1};for(const v of l){const y=Ah(v.object)||m,{raycaster:w,pointer:x,camera:b,internal:S}=y,T=new $(x.x,x.y,0).unproject(b),C=R=>{var U,V;return(U=(V=S.capturedMap.get(R))==null?void 0:V.has(v.eventObject))!=null?U:!1},P=R=>{const U={intersection:v,target:u.target};S.capturedMap.has(R)?S.capturedMap.get(R).set(v.eventObject,U):S.capturedMap.set(R,new Map([[v.eventObject,U]])),u.target.setPointerCapture(R)},A=R=>{const U=S.capturedMap.get(R);U&&Jz(S.capturedMap,v.eventObject,U,R)};let k={};for(let R in u){let U=u[R];typeof U!="function"&&(k[R]=U)}let I={...v,...k,pointer:x,intersections:l,stopped:g.stopped,delta:h,unprojectedPoint:T,ray:w.ray,camera:b,stopPropagation(){const R="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!R||R.has(v.eventObject))&&(I.stopped=g.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:A},currentTarget:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:A},nativeEvent:u};if(p(I),g.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const h of u.hovered.values())if(!l.length||!l.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const m=h.eventObject.__r3f,g=m==null?void 0:m.handlers;if(u.hovered.delete($v(h)),m!=null&&m.eventCount){const v={...h,intersections:l};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function a(l,u){for(let h=0;h<u.length;h++){const p=u[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=n.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:p,internal:m}=n.getState();m.lastEvent.current=h;const g=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",w=r(h,g?t:void 0),x=v?e(h):0;l==="onPointerDown"&&(m.initialClick=[h.offsetX,h.offsetY],m.initialHits=w.map(S=>S.eventObject)),v&&!w.length&&x<=2&&(a(h,m.interaction),p&&p(h)),g&&s(w);function b(S){const T=S.eventObject,C=T.__r3f,P=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(g){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const A=$v(S),k=m.hovered.get(A);k?k.stopped&&S.stopPropagation():(m.hovered.set(A,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const A=P[l];A?(!v||m.initialHits.includes(T))&&(a(h,m.interaction.filter(k=>!m.initialHits.includes(k))),A(S)):v&&m.initialHits.includes(T)&&a(h,m.interaction.filter(k=>!m.initialHits.includes(k)))}}i(w,h,x,b)}}return{handlePointer:o}}const Qz=n=>!!(n!=null&&n.render),eB=E.createContext(null),Sle=(n,e)=>{const t=sle((o,l)=>{const u=new $,h=new $,p=new $;function m(x=l().camera,b=h,S=l().size){const{width:T,height:C,top:P,left:A}=S,k=T/C;b instanceof $?p.copy(b):p.set(...b);const I=x.getWorldPosition(u).distanceTo(p);if($z(x))return{width:T/x.zoom,height:C/x.zoom,top:P,left:A,factor:1,distance:I,aspect:k};{const R=x.fov*Math.PI/180,U=2*Math.tan(R/2)*I,V=U*(T/C);return{width:V,height:U,top:P,left:A,factor:T/V,distance:I,aspect:k}}}let g;const v=x=>o(b=>({performance:{...b.performance,current:x}})),y=new Ne;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,b)=>e(x,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new XC,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();g&&clearTimeout(g),x.performance.current!==x.performance.min&&v(x.performance.min),g=setTimeout(()=>v(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:x=>o(b=>({...b,events:{...b.events,...x}})),setSize:(x,b,S,T,C)=>{const P=l().camera,A={width:x,height:b,top:T||0,left:C||0,updateStyle:S};o(k=>({size:A,viewport:{...k.viewport,...m(P,h,A)}}))},setDpr:x=>o(b=>{const S=Zz(x);return{viewport:{...b.viewport,dpr:S,initialDpr:b.viewport.initialDpr||S}}}),setFrameloop:(x="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,x!=="never"&&(b.start(),b.elapsedTime=0),o(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:E.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,b,S)=>{const T=l().internal;return T.priority=T.priority+(b>0?1:0),T.subscribers.push({ref:x,priority:b,store:S}),T.subscribers=T.subscribers.sort((C,P)=>C.priority-P.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(b>0?1:0),C.subscribers=C.subscribers.filter(P=>P.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:h,set:p}=t.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var m;i=l,s=u.dpr,xle(o,l),h.setPixelRatio(u.dpr);const g=(m=l.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,g)}o!==a&&(a=o,p(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};let Xv,ble=new Set,Ele=new Set,Mle=new Set;function yS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Rh(n,e){switch(n){case"before":return yS(ble,e);case"after":return yS(Ele,e);case"tail":return yS(Mle,e)}}let wS,_S;function SS(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),wS=e.internal.subscribers,Xv=0;Xv<wS.length;Xv++)_S=wS[Xv],_S.ref.current(_S.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Tle(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Rh("before",l);for(const h of n.values()){var u;i=h.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=SS(l,i))}if(Rh("after",l),t===0)return Rh("tail",l),e=!1,cancelAnimationFrame(r)}function a(l,u=1){var h;if(!l)return n.forEach(p=>a(p.store.getState()),u);(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function o(l,u=!0,h,p){if(u&&Rh("before",l),h)SS(l,h,p);else for(const m of n.values())SS(l,m.store.getState());u&&Rh("after",l)}return{loop:s,invalidate:a,advance:o}}function tB(){const n=E.useContext(eB);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function bce(n=t=>t,e){return tB()(n,e)}function Ece(n,e=0){const t=tB(),r=t.getState().internal.subscribe,i=Xz(n);return Pm(()=>r(i,e,t),[e,r,t]),null}const cf=new Map,{invalidate:cD,advance:uD}=Tle(cf),{reconciler:$x,applyProps:Qu}=fle(cf,yle),ed={objects:"shallow",strict:!1},Cle=(n,e)=>{const t=typeof n=="function"?n(e):n;return Qz(t)?t:new RC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Nle(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=t}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:a}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Ale(n){const e=cf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Sle(cD,uD),a=t||$x.createContainer(s,_d.ConcurrentRoot,null,!1,null,"",i,null);e||cf.set(n,{fiber:a,store:s});let o,l=!1,u;return{configure(h={}){let{gl:p,size:m,scene:g,events:v,onCreated:y,shadows:w=!1,linear:x=!1,flat:b=!1,legacy:S=!1,orthographic:T=!1,frameloop:C="always",dpr:P=[1,2],performance:A,raycaster:k,camera:I,onPointerMissed:R}=h,U=s.getState(),V=U.gl;U.gl||U.set({gl:V=Cle(p,n)});let J=U.raycaster;J||U.set({raycaster:J=new Uz});const{params:z,...Q}=k||{};if(Sn.equ(Q,J,ed)||Qu(J,{...Q}),Sn.equ(z,J.params,ed)||Qu(J,{params:{...J.params,...z}}),!U.camera||U.camera===u&&!Sn.equ(u,I,ed)){u=I;const Z=I instanceof bm,oe=Z?I:T?new Tm(0,0,0,0,.1,1e3):new gr(75,0,.1,1e3);Z||(oe.position.z=5,I&&Qu(oe,I),!U.camera&&!(I!=null&&I.rotation)&&oe.lookAt(0,0,0)),U.set({camera:oe}),J.camera=oe}if(!U.scene){let Z;g instanceof Wx?Z=g:(Z=new Wx,g&&Qu(Z,g)),U.set({scene:rd(Z)})}if(!U.xr){var W;const Z=(ye,we)=>{const ne=s.getState();ne.frameloop!=="never"&&uD(ye,!0,ne,we)},oe=()=>{const ye=s.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?Z:null),ye.gl.xr.isPresenting||cD(ye)},de={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",oe),ye.xr.addEventListener("sessionend",oe)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",oe),ye.xr.removeEventListener("sessionend",oe)}};typeof((W=V.xr)==null?void 0:W.addEventListener)=="function"&&de.connect(),U.set({xr:de})}if(V.shadowMap){const Z=V.shadowMap.enabled,oe=V.shadowMap.type;if(V.shadowMap.enabled=!!w,Sn.boo(w))V.shadowMap.type=rp;else if(Sn.str(w)){var te;const de={basic:kU,percentage:Xy,soft:rp,variance:Ss};V.shadowMap.type=(te=de[w])!=null?te:rp}else Sn.obj(w)&&Object.assign(V.shadowMap,w);(Z!==V.shadowMap.enabled||oe!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const O=Gz();O&&("enabled"in O?O.enabled=!S:"legacyMode"in O&&(O.legacyMode=S)),Qu(V,{outputEncoding:x?3e3:3001,toneMapping:b?xa:fC}),U.legacy!==S&&U.set(()=>({legacy:S})),U.linear!==x&&U.set(()=>({linear:x})),U.flat!==b&&U.set(()=>({flat:b})),p&&!Sn.fun(p)&&!Qz(p)&&!Sn.equ(p,V,ed)&&Qu(V,p),v&&!U.events.handlers&&U.set({events:v(s)});const L=Nle(n,m);return Sn.equ(L,U.size,ed)||U.setSize(L.width,L.height,L.updateStyle,L.top,L.left),P&&U.viewport.dpr!==Zz(P)&&U.setDpr(P),U.frameloop!==C&&U.setFrameloop(C),U.onPointerMissed||U.set({onPointerMissed:R}),A&&!Sn.equ(A,U.performance,ed)&&U.set(Z=>({performance:{...Z.performance,...A}})),o=y,l=!0,this},render(h){return l||this.configure(),$x.updateContainer(E.createElement(Rle,{store:s,children:h,onCreated:o,rootElement:n}),a,null,()=>{}),s},unmount(){nB(n)}}}function Rle({store:n,children:e,onCreated:t,rootElement:r}){return Pm(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),E.createElement(eB.Provider,{value:n},e)}function nB(n,e){const t=cf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),$x.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),gle(i),cf.delete(n)}catch{}},500)})}}$x.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:E.version});function Xx(){return Xx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xx.apply(null,arguments)}function dD(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function Ple({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=E.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=E.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,h=E.useRef(!1);E.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,g]=E.useMemo(()=>{const x=()=>{if(!o.current.element)return;const{left:b,top:S,width:T,height:C,bottom:P,right:A,x:k,y:I}=o.current.element.getBoundingClientRect(),R={left:b,top:S,width:T,height:C,bottom:P,right:A,x:k,y:I};o.current.element instanceof HTMLElement&&r&&(R.height=o.current.element.offsetHeight,R.width=o.current.element.offsetWidth),Object.freeze(R),h.current&&!Lle(o.current.lastBounds,R)&&a(o.current.lastBounds=R)};return[x,u?dD(x,u):x,l?dD(x,l):x]},[a,r,l,u]);function v(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function y(){o.current.element&&(o.current.resizeObserver=new i(g),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const w=x=>{!x||x===o.current.element||(v(),o.current.element=x,o.current.scrollContainers=rB(x),y())};return Dle(g,!!e),Ile(m),E.useEffect(()=>{v(),y()},[e,g,m]),E.useEffect(()=>v,[]),[w,s,p]}function Ile(n){E.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Dle(n,e){E.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function rB(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...rB(n.parentElement)]}const kle=["x","y","top","bottom","left","right","width","height"],Lle=(n,e)=>kle.every(t=>n[t]===e[t]);var Ole=Object.defineProperty,jle=Object.defineProperties,Fle=Object.getOwnPropertyDescriptors,fD=Object.getOwnPropertySymbols,Ule=Object.prototype.hasOwnProperty,zle=Object.prototype.propertyIsEnumerable,hD=(n,e,t)=>e in n?Ole(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pD=(n,e)=>{for(var t in e||(e={}))Ule.call(e,t)&&hD(n,t,e[t]);if(fD)for(var t of fD(e))zle.call(e,t)&&hD(n,t,e[t]);return n},Ble=(n,e)=>jle(n,Fle(e)),mD,gD;typeof window<"u"&&((mD=window.document)!=null&&mD.createElement||((gD=window.navigator)==null?void 0:gD.product)==="ReactNative")?E.useLayoutEffect:E.useEffect;function iB(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=iB(r,e,t);if(i)return i;r=r.sibling}}function sB(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const vD=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=vD;return}return vD.apply(this,arguments)};const JC=sB(E.createContext(null));class aB extends E.Component{render(){return E.createElement(JC.Provider,{value:this._reactInternals},this.props.children)}}function Vle(){const n=E.useContext(JC);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=E.useId();return E.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=iB(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}function Hle(){const n=Vle(),[e]=E.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==JC&&!e.has(i)&&e.set(i,E.useContext(sB(i)))}t=t.return}return e}function Wle(){const n=Hle();return E.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>E.createElement(e,null,E.createElement(t.Provider,Ble(pD({},r),{value:n.get(t)}))),e=>E.createElement(aB,pD({},e))),[n])}const bS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Gle(n){const{handlePointer:e}=_le(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(bS).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,u]=bS[a];t.addEventListener(l,o,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=bS[s];r.connected.removeEventListener(o,a)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const $le=E.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:a=Gle,eventSource:o,eventPrefix:l,shadows:u,linear:h,flat:p,legacy:m,orthographic:g,frameloop:v,dpr:y,performance:w,raycaster:x,camera:b,scene:S,onPointerMissed:T,onCreated:C,...P},A){E.useMemo(()=>dle(nle),[]);const k=Wle(),[I,R]=Ple({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=E.useRef(null),V=E.useRef(null);E.useImperativeHandle(A,()=>U.current);const J=Xz(T),[z,Q]=E.useState(!1),[W,te]=E.useState(!1);if(z)throw z;if(W)throw W;const O=E.useRef(null);Pm(()=>{const Y=U.current;R.width>0&&R.height>0&&Y&&(O.current||(O.current=Ale(Y)),O.current.configure({gl:s,events:a,shadows:u,linear:h,flat:p,legacy:m,orthographic:g,frameloop:v,dpr:y,performance:w,raycaster:x,camera:b,scene:S,size:R,onPointerMissed:(...L)=>J.current==null?void 0:J.current(...L),onCreated:L=>{L.events.connect==null||L.events.connect(o?hle(o)?o.current:o:V.current),l&&L.setEvents({compute:(Z,oe)=>{const de=Z[l+"X"],ye=Z[l+"Y"];oe.pointer.set(de/oe.size.width*2-1,-(ye/oe.size.height)*2+1),oe.raycaster.setFromCamera(oe.pointer,oe.camera)}}),C==null||C(L)}}),O.current.render(E.createElement(k,null,E.createElement(Yz,{set:te},E.createElement(E.Suspense,{fallback:E.createElement(ple,{set:Q})},e)))))}),E.useEffect(()=>{const Y=U.current;if(Y)return()=>nB(Y)},[]);const B=o?"none":"auto";return E.createElement("div",Xx({ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...i}},P),E.createElement("div",{ref:I,style:{width:"100%",height:"100%"}},E.createElement("canvas",{ref:U,style:{display:"block"}},t)))}),Xle=E.forwardRef(function(e,t){return E.createElement(aB,null,E.createElement($le,Xx({},e,{ref:t})))}),Yle=()=>c.jsxs("mesh",{rotation:[.4,.6,0],children:[c.jsx("boxGeometry",{args:[1,1,1]}),c.jsx("meshStandardMaterial",{color:"#38bdf8"})]}),qle=()=>c.jsx("div",{className:"h-[60vh] w-full bg-black/60 rounded-md border",children:c.jsxs(Xle,{camera:{position:[2,2,3]},children:[c.jsx("ambientLight",{intensity:.5}),c.jsx("pointLight",{position:[10,10,10]}),c.jsx(Yle,{})]})}),Zle=pf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pi({className:n,variant:e,...t}){return c.jsx("div",{className:Qe(Zle({variant:e}),n),...t})}const Kle=[{id:"1",name:"Robert Thompson",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"extreme",crimes:["Armed Robbery","Murder","Escape from Custody"],lastSeen:"Chicago, Illinois",reward:1e5,description:"Thompson is wanted for a series of armed bank robberies resulting in multiple fatalities. He escaped from federal custody in March 2023 and is considered armed and extremely dangerous.",caution:"Subject has violent tendencies and extensive weapons training. Do not approach.",dateAdded:"2023-04-15",caseNumber:"FBI-2023-045789",category:"Violent Crimes",coordinates:{lat:41.8781,lng:-87.6298}},{id:"2",name:"Sarah Blackwell",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1976&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"high",crimes:["Espionage","Terrorism","Computer Fraud"],lastSeen:"Seattle, Washington",reward:75e3,description:"Blackwell is wanted for involvement in espionage activities against the United States government and major technology companies. She has expertise in cybersecurity and has orchestrated several high-profile data breaches.",caution:"Subject may have altered appearance and is known to use multiple aliases.",dateAdded:"2023-06-22",caseNumber:"FBI-2023-068912",category:"Cyber Crimes",coordinates:{lat:47.6062,lng:-122.3321}},{id:"3",name:"Miguel Sanchez",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"high",crimes:["Drug Trafficking","Money Laundering","Murder"],lastSeen:"Miami, Florida",reward:5e4,description:"Sanchez is a high-ranking member of an international drug cartel with operations across North and South America. He is responsible for coordinating large-scale trafficking operations and eliminating competition.",caution:"Subject has extensive connections and resources to evade capture. May be traveling with armed associates.",dateAdded:"2023-01-30",caseNumber:"FBI-2023-012345",category:"Organized Crime",coordinates:{lat:25.7617,lng:-80.1918}},{id:"4",name:"James Wilson",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3",status:"captured",dangerLevel:"high",crimes:["Serial Murder","Kidnapping"],lastSeen:"Portland, Oregon",reward:3e4,description:"Wilson was wanted in connection with a series of disappearances and murders along the Pacific Northwest. He was apprehended in a remote cabin outside Portland after a citizen tip.",caution:"Subject was found with extensive collection of weapons and survivalist equipment.",dateAdded:"2022-11-15",caseNumber:"FBI-2022-115678",category:"Violent Crimes",coordinates:{lat:45.5152,lng:-122.6784}},{id:"5",name:"Elena Vostok",image:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"extreme",crimes:["International Terrorism","Assassination","Weapons Trafficking"],lastSeen:"Istanbul, Turkey",reward:15e4,description:"Vostok is wanted for orchestrating several terrorist attacks across Europe and Asia. Former intelligence operative with specialized training in explosives and infiltration techniques.",caution:"Subject is highly trained in counter-surveillance and evasion tactics. Considered extremely dangerous.",dateAdded:"2023-03-10",caseNumber:"FBI-2023-034567",category:"Terrorism",coordinates:{lat:41.0082,lng:28.9784}},{id:"6",name:"David Chen",image:"https://images.unsplash.com/photo-1501196354995-cbb51c65aaea?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"moderate",crimes:["Financial Fraud","Identity Theft","Money Laundering"],lastSeen:"Vancouver, Canada",reward:25e3,description:"Chen is the mastermind behind a sophisticated financial fraud scheme that has defrauded investors of over $200 million through fake investment opportunities and Ponzi schemes.",caution:"Subject frequently changes identity and may have undergone cosmetic surgery to alter appearance.",dateAdded:"2023-02-18",caseNumber:"FBI-2023-023456",category:"Financial Crimes",coordinates:{lat:49.2827,lng:-123.1207}},{id:"7",name:"Derek Mills",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"high",crimes:["Money Laundering","Tax Evasion","Racketeering"],lastSeen:"Las Vegas, Nevada",reward:75e3,description:"Mills is the head of a major money laundering operation that has moved over $500 million through shell companies and casinos. He has connections with multiple organized crime families.",caution:"Subject is known to be violent when confronted and carries concealed weapons. Do not approach without proper backup.",dateAdded:"2023-08-15",caseNumber:"FBI-2023-084567",category:"Organized Crime",coordinates:{lat:36.1699,lng:-115.1398}},{id:"8",name:"Rachel Hoffman",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1976&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"extreme",crimes:["Cyber Terrorism","Data Breach","Identity Theft"],lastSeen:"Berlin, Germany",reward:15e4,description:"Hoffman is a cyber terrorist who has compromised the networks of several government agencies and critical infrastructure systems. She has expertise in advanced persistent threats and zero-day exploits.",caution:"Subject is extremely dangerous in digital environments and may attempt to hack into law enforcement systems. Monitor all digital communications.",dateAdded:"2023-08-20",caseNumber:"FBI-2023-086789",category:"Cyber Crimes",coordinates:{lat:52.52,lng:13.405}},{id:"9",name:"Marcus Webb",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"high",crimes:["Arms Trafficking","Murder","Conspiracy"],lastSeen:"Bogot, Colombia",reward:125e3,description:"Webb is a major arms dealer who has supplied weapons to terrorist organizations and criminal cartels across South America. He has been linked to multiple assassinations.",caution:"Subject has extensive weapons cache and is known to be heavily armed. Approach with extreme caution.",dateAdded:"2023-08-25",caseNumber:"FBI-2023-088901",category:"Terrorism",coordinates:{lat:4.711,lng:-74.0721}},{id:"10",name:"Jennifer Walsh",image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=1976&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"moderate",crimes:["Embezzlement","Wire Fraud","Bank Fraud"],lastSeen:"Miami, Florida",reward:25e3,description:"Walsh embezzled over $20 million from her position as a senior executive at a major financial institution. She used complex offshore accounts to hide the stolen funds.",caution:"Subject may have fled the country and could be using false documents. Monitor international travel.",dateAdded:"2023-08-30",caseNumber:"FBI-2023-080123",category:"Financial Crimes",coordinates:{lat:25.7617,lng:-80.1918}},{id:"11",name:"Carlos Rivera",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"extreme",crimes:["Kidnapping","Ransom","Extortion"],lastSeen:"Monterrey, Mexico",reward:2e5,description:"Rivera is the leader of an international kidnapping ring that has targeted wealthy families and business executives. He has been responsible for over 50 kidnappings across multiple countries.",caution:"Subject is extremely violent and has ordered the deaths of several victims. Do not approach without proper backup and negotiation team.",dateAdded:"2023-09-05",caseNumber:"FBI-2023-092345",category:"Violent Crimes",coordinates:{lat:25.6866,lng:-100.3161}},{id:"12",name:"Alexei Petrov",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"high",crimes:["Nuclear Smuggling","Terrorism"],lastSeen:"Prague, Czech Republic",reward:175e3,description:"Petrov is suspected of attempting to sell nuclear materials to terrorist organizations. Former Russian nuclear scientist with access to classified information.",caution:"Subject is highly intelligent and dangerous. Has connections with multiple terrorist groups.",dateAdded:"2023-10-12",caseNumber:"FBI-2023-104567",category:"Terrorism",coordinates:{lat:50.0755,lng:14.4378}},{id:"13",name:"Maria Santos",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1976&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"moderate",crimes:["Human Trafficking","Child Exploitation"],lastSeen:"So Paulo, Brazil",reward:85e3,description:"Santos operates an international human trafficking ring specializing in child exploitation. Has connections throughout South America and Europe.",caution:"Subject is known to be violent when confronted. Has multiple safe houses.",dateAdded:"2023-10-18",caseNumber:"FBI-2023-107890",category:"Human Trafficking",coordinates:{lat:-23.5505,lng:-46.6333}},{id:"14",name:"Thomas Reed",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"extreme",crimes:["Biological Weapons","Terrorism"],lastSeen:"Geneva, Switzerland",reward:25e4,description:"Reed is a biochemist suspected of developing biological weapons for terrorist organizations. Has a PhD in molecular biology and access to laboratory equipment.",caution:"Subject is extremely dangerous and should not be approached without hazmat protocols.",dateAdded:"2023-10-25",caseNumber:"FBI-2023-102345",category:"Terrorism",coordinates:{lat:46.2044,lng:6.1432}},{id:"15",name:"Yuki Tanaka",image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=1976&auto=format&fit=crop&ixlib=rb-4.0.3",status:"active",dangerLevel:"high",crimes:["Art Theft","Forgery","Money Laundering"],lastSeen:"Tokyo, Japan",reward:6e4,description:"Tanaka is an expert art thief who has stolen over $50 million in artwork from museums and private collections worldwide. Also forges documents and currency.",caution:"Subject is highly intelligent and has extensive knowledge of security systems.",dateAdded:"2023-11-01",caseNumber:"FBI-2023-113456",category:"Financial Crimes",coordinates:{lat:35.6762,lng:139.6503}}],Jle=()=>{const n=localStorage.getItem("mostWantedCriminals");if(n)try{return JSON.parse(n)}catch(e){return console.error("Failed to parse most wanted criminals from localStorage:",e),[]}return[]},Qle=n=>{localStorage.setItem("mostWantedCriminals",JSON.stringify(n))},ece=()=>{const[n,e]=E.useState(()=>{const L=Jle();return L.length>0?L:Kle}),[t,r]=E.useState(""),[i,s]=E.useState("all"),[a,o]=E.useState("all"),[l,u]=E.useState("all"),[h,p]=E.useState(0),[m,g]=E.useState(5e5),[v,y]=E.useState(1),[w]=E.useState(6),[x,b]=E.useState("dateAdded"),[S,T]=E.useState("desc"),[C,P]=E.useState(null),[A,k]=E.useState(!1);E.useEffect(()=>{Qle(n)},[n]);const I=E.useMemo(()=>{const L=new Set(n.map(Z=>Z.category));return Array.from(L)},[n]),R=E.useCallback(()=>x||"dateAdded",[x]),U=E.useCallback(()=>S||"desc",[S]),V=E.useMemo(()=>n.filter(L=>{const Z=L.name.toLowerCase().includes(t.toLowerCase())||L.crimes.some(ne=>ne.toLowerCase().includes(t.toLowerCase()))||L.lastSeen.toLowerCase().includes(t.toLowerCase())||L.caseNumber.toLowerCase().includes(t.toLowerCase())||L.category.toLowerCase().includes(t.toLowerCase()),oe=i==="all"||L.status===i,de=a==="all"||L.dangerLevel===a,ye=l==="all"||L.category===l,we=L.reward>=h&&L.reward<=m;return Z&&oe&&de&&ye&&we}).sort((L,Z)=>{let oe=0;const de=R(),ye=U(),we=["name","bounty","lastSeen","dateAdded","reward"].includes(de)?de:"dateAdded",ne=ye==="asc"||ye==="desc"?ye:"desc";switch(we){case"name":oe=L.name.localeCompare(Z.name);break;case"bounty":case"reward":oe=L.reward-Z.reward;break;case"lastSeen":oe=L.lastSeen.localeCompare(Z.lastSeen);break;case"dateAdded":oe=new Date(L.dateAdded).getTime()-new Date(Z.dateAdded).getTime();break;default:oe=0}return ne==="asc"?oe:-oe}),[n,t,i,a,l,h,m,x,S,R,U]),J=Math.ceil(V.length/w),z=V.slice((v-1)*w,v*w);E.useEffect(()=>{y(1)},[t,i,a,l,h,m]);const Q=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(L),W=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),te=L=>{switch(L){case"extreme":return"bg-red-600 text-white hover:bg-red-700";case"high":return"bg-orange-500 text-white hover:bg-orange-600";case"moderate":return"bg-yellow-500 text-black hover:bg-yellow-600";case"low":return"bg-blue-500 text-white hover:bg-blue-600";default:return"bg-gray-500 text-white hover:bg-gray-600"}},O=L=>{switch(L){case"active":return"bg-green-600 text-white hover:bg-green-700";case"captured":return"bg-blue-600 text-white hover:bg-blue-700";case"deceased":return"bg-gray-600 text-white hover:bg-gray-700";default:return"bg-gray-500 text-white hover:bg-gray-600"}},B=()=>{const L=["Name","Status","Danger Level","Crimes","Last Seen","Reward","Case Number","Date Added","Category"],Z=V.map(ne=>[ne.name,ne.status,ne.dangerLevel,ne.crimes.join("; "),ne.lastSeen,ne.reward,ne.caseNumber,ne.dateAdded,ne.category]);let oe=L.join(",")+`
`;Z.forEach(ne=>{oe+=ne.map(fe=>`"${fe}"`).join(",")+`
`});const de=new Blob([oe],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(de),we=document.createElement("a");we.setAttribute("href",ye),we.setAttribute("download","most_wanted_criminals.csv"),we.style.visibility="hidden",document.body.appendChild(we),we.click(),document.body.removeChild(we)},Y=()=>C?c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:c.jsxs(zn,{className:"max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl animate-scale-in",children:[c.jsx(vr,{className:"border-b border-border/40 p-0",children:c.jsxs("div",{className:"relative h-48 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent z-10"}),c.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover object-center"}),c.jsxs("div",{className:"absolute top-4 right-4 z-20 flex space-x-2",children:[c.jsxs(Pi,{className:te(C.dangerLevel),children:[C.dangerLevel.toUpperCase()," RISK"]}),c.jsx(Pi,{className:O(C.status),children:C.status.toUpperCase()})]}),c.jsx(lt,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-20 bg-black/50 hover:bg-black/70 text-white",onClick:()=>P(null),children:""}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-20 p-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:C.name}),c.jsxs("div",{className:"flex items-center text-white/80 text-sm",children:[c.jsx(kc,{size:14,className:"mr-1"}),c.jsxs("span",{children:["Last seen: ",C.lastSeen]})]})]})]})}),c.jsx(Yn,{className:"p-6 max-h-[calc(90vh-200px)] overflow-y-auto",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"w-full md:w-2/3 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),c.jsx("p",{children:C.description})]}),c.jsx("div",{className:"bg-red-500/10 border border-red-500/30 p-4 rounded-md",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(R8,{className:"text-red-500 mr-2 mt-0.5",size:16}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-red-500",children:"CAUTION"}),c.jsx("p",{className:"text-sm",children:C.caution})]})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Wanted For"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:C.crimes.map((L,Z)=>c.jsxs(Pi,{variant:"outline",className:"bg-background",children:[c.jsx(JA,{size:12,className:"mr-1"}),L]},Z))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"border border-border rounded-md p-4",children:[c.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-1 flex items-center",children:[c.jsx(L8,{size:14,className:"mr-1"}),"Case ID"]}),c.jsx("p",{className:"font-mono text-lg",children:C.caseNumber})]}),c.jsxs("div",{className:"border border-border rounded-md p-4 bg-green-500/5",children:[c.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-1 flex items-center",children:[c.jsx(E8,{size:14,className:"mr-1"}),"Reward"]}),c.jsx("p",{className:"font-mono text-lg text-green-500",children:Q(C.reward)})]}),c.jsxs("div",{className:"border border-border rounded-md p-4 bg-blue-500/5",children:[c.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-1 flex items-center",children:[c.jsx(Nd,{size:14,className:"mr-1"}),"Added"]}),c.jsx("p",{className:"font-mono text-lg text-blue-500",children:W(C.dateAdded)})]})]}),c.jsxs("div",{className:"border border-border rounded-md p-4",children:[c.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-1 flex items-center",children:[c.jsx(JA,{size:14,className:"mr-1"}),"Category"]}),c.jsx(Pi,{variant:"outline",className:"bg-background",children:C.category})]})]}),c.jsxs("div",{className:"w-full md:w-1/3 space-y-4",children:[c.jsxs("div",{className:"border border-border rounded-md overflow-hidden",children:[c.jsx("div",{className:"bg-muted p-3 font-medium",children:"Physical Description"}),c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Height"}),c.jsx("div",{children:`5'11" - 6'2"`})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Weight"}),c.jsx("div",{children:"170-190 lbs"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Hair"}),c.jsx("div",{children:"Brown, may be dyed"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Eyes"}),c.jsx("div",{children:"Blue"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Distinguishing Marks"}),c.jsx("div",{children:"Scar on left cheek, tattoo on right forearm"})]})]})]}),c.jsxs("div",{className:"bg-fbi-navy/80 text-white p-4 rounded-md border border-primary/30",children:[c.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[c.jsx(eo,{size:14,className:"mr-1"}),"Sightings"]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Chicago, IL"}),c.jsx("span",{children:"3 days ago"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Detroit, MI"}),c.jsx("span",{children:"1 week ago"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Cleveland, OH"}),c.jsx("span",{children:"2 weeks ago"})]})]})]}),c.jsx("div",{className:"text-center",children:c.jsxs(lt,{className:"w-full",children:[c.jsx(K8,{size:16,className:"mr-2"}),"Report Sighting"]})})]})]})})]})}):null;return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Most Wanted"}),c.jsx("p",{className:"text-muted-foreground",children:"FBI's most wanted criminals"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(lt,{variant:"outline",onClick:B,children:[c.jsx(Sb,{size:16,className:"mr-2"}),"Export"]}),c.jsxs(lt,{variant:"outline",onClick:()=>k(!A),children:[c.jsx(tR,{size:16,className:"mr-2"}),A?"Hide Map":"Show Map"]})]})]}),c.jsx(zn,{className:"glass-card",children:c.jsx(Yn,{className:"p-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Search"}),c.jsx(nn,{type:"text",placeholder:"Name, crime, location...",value:t,onChange:L=>r(L.target.value),className:"w-full"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Status"}),c.jsxs("select",{value:i,onChange:L=>s(L.target.value),className:"border rounded px-2 py-1 text-sm w-full",children:[c.jsx("option",{value:"all",children:"All Statuses"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"captured",children:"Captured"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Danger Level"}),c.jsxs("select",{value:a,onChange:L=>o(L.target.value),className:"border rounded px-2 py-1 text-sm w-full",children:[c.jsx("option",{value:"all",children:"All Danger Levels"}),c.jsx("option",{value:"extreme",children:"Extreme"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"moderate",children:"Moderate"}),c.jsx("option",{value:"low",children:"Low"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Category"}),c.jsxs("select",{value:l,onChange:L=>u(L.target.value),className:"border rounded px-2 py-1 text-sm w-full",children:[c.jsx("option",{value:"all",children:"All Categories"}),I.map(L=>c.jsx("option",{value:L,children:L},L))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Min Reward"}),c.jsx(nn,{type:"number",value:h,onChange:L=>p(Number(L.target.value)),className:"w-full"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Max Reward"}),c.jsx(nn,{type:"number",value:m,onChange:L=>g(Number(L.target.value)),className:"w-full"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Sort By"}),c.jsxs("select",{value:x||"dateAdded",onChange:L=>b(L.target.value),className:"border rounded px-2 py-1 text-sm w-full",children:[c.jsx("option",{value:"dateAdded",children:"Date Added"}),c.jsx("option",{value:"name",children:"Name"}),c.jsx("option",{value:"reward",children:"Reward"}),c.jsx("option",{value:"lastSeen",children:"Last Seen"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Order"}),c.jsxs("select",{value:S||"desc",onChange:L=>T(L.target.value),className:"border rounded px-2 py-1 text-sm w-full",children:[c.jsx("option",{value:"desc",children:"Descending"}),c.jsx("option",{value:"asc",children:"Ascending"})]})]})]})})}),A&&c.jsxs(zn,{className:"glass-card",children:[c.jsx(vr,{children:c.jsxs(br,{className:"flex items-center",children:[c.jsx(tR,{className:"mr-2"}),"Criminal Locations"]})}),c.jsx(Yn,{children:c.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded-md flex items-center justify-center",children:c.jsx("p",{children:"Map visualization would be implemented here with a library like Leaflet or Google Maps"})})})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("p",{className:"text-muted-foreground",children:["Showing ",z.length," of ",V.length," criminals"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(lt,{variant:"outline",size:"sm",onClick:()=>y(L=>Math.max(L-1,1)),disabled:v===1,children:"Previous"}),c.jsxs("span",{className:"flex items-center px-3 py-1 text-sm",children:["Page ",v," of ",J||1]}),c.jsx(lt,{variant:"outline",size:"sm",onClick:()=>y(L=>Math.min(L+1,J)),disabled:v===J||J===0,children:"Next"})]})]}),c.jsxs(wF,{defaultValue:"grid",children:[c.jsxs(XT,{className:"mb-4",children:[c.jsx(wc,{value:"grid",children:"Grid View"}),c.jsx(wc,{value:"list",children:"List View"})]}),c.jsx(_c,{value:"grid",className:"animate-fade-in",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(L=>c.jsxs(zn,{className:"overflow-hidden glass-card cursor-pointer hover:shadow-glass-hover transition-shadow duration-300",onClick:()=>P(L),children:[c.jsxs("div",{className:"relative h-60 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent z-10"}),c.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover object-center"}),c.jsxs("div",{className:"absolute top-3 right-3 z-20 flex flex-col space-y-2",children:[c.jsx(Pi,{className:te(L.dangerLevel),children:L.dangerLevel.toUpperCase()}),c.jsx(Pi,{className:O(L.status),children:L.status.toUpperCase()})]}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-20 p-4",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:L.name}),c.jsxs("div",{className:"flex items-center text-white/80 text-sm",children:[c.jsx(kc,{size:14,className:"mr-1"}),c.jsxs("span",{children:["Last seen: ",L.lastSeen]})]})]})]}),c.jsxs(Yn,{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("h3",{className:"font-medium",children:"Wanted For"}),c.jsxs("div",{className:"flex items-center text-green-500",children:[c.jsx(ZA,{size:14,className:"mr-0.5"}),c.jsx("span",{children:Q(L.reward)})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[L.crimes.slice(0,2).map((Z,oe)=>c.jsx(Pi,{variant:"outline",className:"bg-muted/50",children:Z},oe)),L.crimes.length>2&&c.jsxs(Pi,{variant:"outline",className:"bg-muted/50",children:["+",L.crimes.length-2," more"]})]}),c.jsx("div",{className:"mb-2",children:c.jsx(Pi,{variant:"outline",className:"bg-muted/50 text-xs",children:L.category})}),c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:L.description}),c.jsxs("div",{className:"mt-2 text-xs text-muted-foreground flex items-center",children:[c.jsx(Nd,{size:12,className:"mr-1"}),"Added: ",W(L.dateAdded)]})]})]},L.id))})}),c.jsx(_c,{value:"list",className:"animate-fade-in",children:c.jsx(zn,{className:"glass-card overflow-hidden",children:c.jsx(Yn,{className:"p-0",children:c.jsx("div",{className:"divide-y divide-border/30",children:z.map(L=>c.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-primary/5 cursor-pointer transition-colors",onClick:()=>P(L),children:[c.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden border-2 border-muted flex-shrink-0",children:c.jsx("img",{src:L.image,alt:L.name,className:"h-full w-full object-cover"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-medium",children:L.name}),c.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[c.jsx(kc,{size:12,className:"mr-1"}),c.jsx("span",{children:L.lastSeen})]}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[L.crimes.slice(0,1).map((Z,oe)=>c.jsx(Pi,{variant:"outline",className:"text-xs bg-muted/50",children:Z},oe)),L.crimes.length>1&&c.jsxs(Pi,{variant:"outline",className:"text-xs bg-muted/50",children:["+",L.crimes.length-1," more"]})]}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-1 flex items-center",children:[c.jsx(Nd,{size:10,className:"mr-1"}),"Added: ",W(L.dateAdded)]})]}),c.jsxs("div",{className:"flex flex-col items-end gap-2",children:[c.jsx(Pi,{className:te(L.dangerLevel),children:L.dangerLevel.toUpperCase()}),c.jsxs("div",{className:"flex items-center text-green-500 text-sm",children:[c.jsx(ZA,{size:12,className:"mr-0.5"}),c.jsx("span",{children:Q(L.reward)})]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:L.caseNumber}),c.jsx(Pi,{variant:"outline",className:"text-xs bg-muted/50",children:L.category})]})]},L.id))})})})})]}),J>1&&c.jsxs("div",{className:"flex justify-center gap-2",children:[c.jsx(lt,{variant:"outline",onClick:()=>y(L=>Math.max(L-1,1)),disabled:v===1,children:"Previous"}),Array.from({length:Math.min(5,J)},(L,Z)=>{const de=Math.max(1,Math.min(v-2,J-4))+Z;return c.jsx(lt,{variant:v===de?"default":"outline",onClick:()=>y(de),children:de},de)}),c.jsx(lt,{variant:"outline",onClick:()=>y(L=>Math.min(L+1,J)),disabled:v===J,children:"Next"})]}),C&&Y()]})},tce=()=>{const{register:n,isAuthenticated:e,loading:t}=jl(),[r,i]=E.useState(""),[s,a]=E.useState(""),[o,l]=E.useState(!1),[u,h]=E.useState(""),p=async m=>{if(m.preventDefault(),!r||!s){h("Please enter both email and password");return}try{l(!0),h(""),await n(r,s),en.success("Registration successful! Check your email for confirmation.")}catch(g){h(g.message||"Registration failed"),en.error("Registration failed")}finally{l(!1)}};return e?c.jsx(Ip,{to:"/dashboard"}):c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background/90 p-4",children:[c.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/20"})}),c.jsxs("div",{className:"w-full max-w-md glass-card p-8 animate-scale-in",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"w-12 h-12 rounded-lg bg-primary flex items-center justify-center mx-auto mb-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/20 to-transparent animate-pulse"}),c.jsx(xi,{className:"text-primary-foreground relative z-10"})]}),c.jsx("h1",{className:"text-2xl font-bold",children:"CrimeConnect"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Create a new account"})]}),c.jsxs("form",{onSubmit:p,className:"space-y-5",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),c.jsx(nn,{id:"email",type:"email",value:r,onChange:m=>i(m.target.value),placeholder:"Enter your email",className:"w-full",autoComplete:"email",disabled:o})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),c.jsx(nn,{id:"password",type:"password",value:s,onChange:m=>a(m.target.value),placeholder:"Enter your password",className:"w-full",autoComplete:"new-password",disabled:o})]}),u&&c.jsx("p",{className:"text-sm text-destructive",children:u}),c.jsx(lt,{type:"submit",className:"w-full",disabled:o||t,children:o?"Registering...":"Register"}),c.jsx("div",{className:"text-center text-sm text-muted-foreground",children:c.jsx(Sa,{to:"/login",className:"text-primary hover:underline",children:"Already have an account? Sign in"})})]})]})]})},nce=()=>{const{resetPassword:n,isAuthenticated:e,loading:t}=jl(),[r,i]=E.useState(""),[s,a]=E.useState(!1),[o,l]=E.useState(""),[u,h]=E.useState(!1),p=async m=>{if(m.preventDefault(),!r){l("Please enter your email");return}try{a(!0),l(""),await n(r),h(!0),en.success("Password reset email sent!")}catch(g){l(g.message||"Failed to send reset email"),en.error("Failed to send reset email")}finally{a(!1)}};return e?c.jsx(Ip,{to:"/dashboard"}):u?c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background/90 p-4",children:[c.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/20"})}),c.jsxs("div",{className:"w-full max-w-md glass-card p-8 animate-scale-in text-center",children:[c.jsx(xi,{className:"w-12 h-12 mx-auto mb-4 text-primary-foreground bg-primary rounded-lg p-2"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Check your email"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["A password reset link has been sent to ",c.jsx("span",{className:"font-medium",children:r}),"."]}),c.jsx(Sa,{to:"/login",className:"text-primary hover:underline",children:"Return to Login"})]})]}):c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background/90 p-4",children:[c.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/20"})}),c.jsxs("div",{className:"w-full max-w-md glass-card p-8 animate-scale-in",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary flex items-center justify-center mx-auto mb-4",children:c.jsx(xi,{className:"text-primary-foreground"})}),c.jsx("h1",{className:"text-2xl font-bold",children:"CrimeConnect"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Reset your FBI password"})]}),c.jsxs("form",{onSubmit:p,className:"space-y-5",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),c.jsx(nn,{id:"email",type:"email",value:r,onChange:m=>i(m.target.value),placeholder:"Enter your email",className:"w-full",autoComplete:"email",disabled:s})]}),o&&c.jsx("p",{className:"text-sm text-destructive",children:o}),c.jsx(lt,{type:"submit",className:"w-full",disabled:s||t,children:s?"Sending...":"Send Reset Email"}),c.jsx("div",{className:"text-center text-sm text-muted-foreground",children:c.jsx(Sa,{to:"/login",className:"text-primary hover:underline",children:"Return to Login"})})]})]})]})},rce=()=>{try{const n=localStorage.getItem("userProfile");if(n)return JSON.parse(n)}catch{}return{name:"Agent",email:"agent@fbi.gov",avatar:"",password:"password"}},ice=()=>{const{user:n,logout:e}=jl(),[t,r]=E.useState(rce()),[i,s]=E.useState({name:t.name,email:(n==null?void 0:n.email)||t.email,avatar:t.avatar}),[a,o]=E.useState(!1);E.useEffect(()=>{s({name:t.name,email:(n==null?void 0:n.email)||t.email,avatar:t.avatar})},[t,n]);const l=p=>s(m=>({...m,[p.target.name]:p.target.value})),u=p=>{var v;const m=(v=p.target.files)==null?void 0:v[0];if(!m)return;const g=new FileReader;g.onload=()=>s(y=>({...y,avatar:g.result})),g.readAsDataURL(m)},h=p=>{p.preventDefault(),o(!0),setTimeout(()=>{localStorage.setItem("userProfile",JSON.stringify({...t,...i})),r({...t,...i}),o(!1),en.success("Profile updated")},400)};return c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Agent Profile"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your FBI avatar and details. Stored locally for demo."})]}),c.jsxs(zn,{className:"glass-card",children:[c.jsx(vr,{children:c.jsx(br,{children:"Identity"})}),c.jsx(Yn,{children:c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{htmlFor:"avatar",className:"cursor-pointer",children:[c.jsx("img",{src:i.avatar||"/placeholder.svg",alt:"Avatar",className:"w-20 h-20 rounded-full border object-cover"}),c.jsx("input",{id:"avatar",name:"avatar",type:"file",accept:"image/*",className:"hidden",onChange:u})]}),c.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Name"}),c.jsx(nn,{name:"name",value:i.name,onChange:l})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Email"}),c.jsx(nn,{name:"email",type:"email",value:i.email,onChange:l})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(lt,{type:"submit",disabled:a,children:a?"Saving":"Save"}),c.jsx(lt,{type:"button",variant:"destructive",onClick:async()=>{await e()},children:"Sign out"})]})]})})]})]})},sce=new s9({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});document.title="FBI CrimeConnect - Classified System";const ace=()=>c.jsx(o9,{client:sce,children:c.jsx(d$,{children:c.jsx(NX,{backend:yY,children:c.jsx(s$,{children:c.jsxs(I7,{children:[c.jsxs(K9,{children:[c.jsx(kn,{path:"/",element:c.jsx(aee,{})}),c.jsx(kn,{path:"/login",element:c.jsx(LY,{})}),c.jsx(kn,{path:"/register",element:c.jsx(tce,{})}),c.jsx(kn,{path:"/forgot-password",element:c.jsx(nce,{})}),c.jsxs(kn,{element:c.jsx(kY,{}),children:[c.jsx(kn,{path:"/dashboard",element:c.jsx(FY,{})}),c.jsx(kn,{path:"/cases",element:c.jsx(UY,{})}),c.jsx(kn,{path:"/cases/add",element:c.jsx(QZ,{})}),c.jsx(kn,{path:"/criminals",element:c.jsx(_K,{})}),c.jsx(kn,{path:"/criminals/add",element:c.jsx(bK,{})}),c.jsx(kn,{path:"/officers",element:c.jsx(MK,{})}),c.jsx(kn,{path:"/evidence",element:c.jsx(AK,{})}),c.jsx(kn,{path:"/witnesses",element:c.jsx(PK,{})}),c.jsx(kn,{path:"/courts",element:c.jsx(IK,{})}),c.jsx(kn,{path:"/reports",element:c.jsx(iee,{})}),c.jsx(kn,{path:"/corkboard",element:c.jsx(mee,{})}),c.jsx(kn,{path:"/globe",element:c.jsx(vee,{})}),c.jsx(kn,{path:"/most-wanted",element:c.jsx(ece,{})}),c.jsx(kn,{path:"/profile",element:c.jsx(ice,{})}),c.jsx(kn,{path:"/three-test",element:c.jsx(qle,{})})]}),c.jsx(kn,{path:"*",element:c.jsx(see,{})})]}),c.jsx(LW,{}),c.jsx(aG,{})]})})})})});class oce extends me.Component{constructor(t){super(t);PN(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){}render(){var t;return this.state.hasError?c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-8",children:c.jsxs("div",{className:"max-w-md w-full bg-card border border-border rounded-lg shadow-lg p-8 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4 text-destructive",children:"Something went wrong"}),c.jsx("p",{className:"mb-4 text-muted-foreground",children:"An unexpected FBI security error occurred. Please try refreshing the page or contact support if the problem persists."}),c.jsx("pre",{className:"bg-muted text-xs p-2 rounded mb-4 overflow-x-auto text-left max-h-40",children:(t=this.state.error)==null?void 0:t.message}),c.jsx("button",{onClick:this.handleReset,className:"bg-primary text-white px-4 py-2 rounded hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary",children:"Reload Page"})]})}):this.props.children}}Bk(document.getElementById("root")).render(c.jsx(me.StrictMode,{children:c.jsx(oce,{children:c.jsx(TY,{attribute:"class",defaultTheme:"system",enableSystem:!0,storageKey:"theme",children:c.jsx(ace,{})})})}));export{uE as A,Na as B,it as C,ot as F,kz as I,zoe as L,xee as M,Tm as O,gr as P,yi as Q,$y as R,joe as S,yee as T,O5 as U,$ as V,uz as W,Xx as _,Ne as a,Lf as b,qo as c,Loe as d,Qc as e,Us as f,Ma as g,Xe as h,Er as i,ln as j,dte as k,Pt as l,Ece as m,c as n,Xle as o,FC as p,E as r,bce as u};
